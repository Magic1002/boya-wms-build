(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UserCentre"],{"994d":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{xs:24,sm:24,md:10,lg:8,xl:5}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("个人信息")])]),s("el-row",{staticStyle:{"text-align":"center"}},[s("div",{staticClass:"el-upload"},[s("img",{staticClass:"avatar",attrs:{src:e.userInfo.photo?e.userInfo.photo:e.userlogo,alt:"点击上传头像"}})])]),s("div",{staticClass:"user-info"},[s("li",[s("div",{staticStyle:{height:"100%"}},[s("svg-icon",{attrs:{"icon-class":"login"}}),e._v(" 登录账号\n              "),s("div",{staticClass:"user-right"},[e._v(e._s(e.userInfo.username))])],1)]),s("li",[s("svg-icon",{attrs:{"icon-class":"user1"}}),e._v(" 用户昵称\n            "),s("div",{staticClass:"user-right"},[e._v(e._s(e.userInfo.nickName))])],1),s("li",[s("svg-icon",{attrs:{"icon-class":"dept"}}),e._v(" 所属公司\n            "),s("div",{staticClass:"user-right"},[e._v(" "+e._s(e.userInfo.company.name))])],1),s("li",[s("svg-icon",{attrs:{"icon-class":"dept"}}),e._v(" 所属部门\n            "),s("div",{staticClass:"user-right"},[e._v(" "+e._s(e.userInfo.office.name))])],1),s("li",[s("svg-icon",{attrs:{"icon-class":"phone"}}),e._v(" 手机号码\n            "),s("div",{staticClass:"user-right"},[e._v(e._s(e.userInfo.phone))])],1),s("li",[s("svg-icon",{attrs:{"icon-class":"email"}}),e._v(" 用户邮箱\n            "),s("div",{staticClass:"user-right"},[e._v(e._s(e.userInfo.email))])],1)])],1)],1),s("el-col",{attrs:{xs:24,sm:24,md:14,lg:16,xl:19}},[s("el-card",{staticClass:"box-card"},[s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("el-tab-pane",{attrs:{label:"修改密码",name:"modify"}},[s("account")],1),s("el-tab-pane",{attrs:{label:"个人签名",name:"sign"}},[s("sign")],1)],1)],1)],1)],1)],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),i=s("2f62"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"modifyForm",attrs:{size:"mini",model:e.modifyForm,rules:e.modifyRules}},[s("el-form-item",{attrs:{label:"原密码",prop:"orgPassword"}},[s("el-input",{attrs:{type:e.pwdType},model:{value:e.modifyForm.orgPassword,callback:function(t){e.$set(e.modifyForm,"orgPassword","string"===typeof t?t.trim():t)},expression:"modifyForm.orgPassword"}},[s("template",{slot:"append"},[s("svg-icon",{attrs:{"icon-class":"password"===e.pwdType?"eye":"eye-open"},on:{click:function(t){return e.showPwd("pwdType")}}})],1)],2)],1),s("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[s("el-input",{attrs:{type:e.pwdType1},model:{value:e.modifyForm.newPassword,callback:function(t){e.$set(e.modifyForm,"newPassword","string"===typeof t?t.trim():t)},expression:"modifyForm.newPassword"}},[s("template",{slot:"append"},[s("svg-icon",{attrs:{"icon-class":"password"===e.pwdType1?"eye":"eye-open"},on:{click:function(t){return e.showPwd("pwdType1")}}})],1)],2)],1),s("el-form-item",{attrs:{label:"重复新密码",prop:"reNewPassword"}},[s("el-input",{attrs:{type:e.pwdType2},model:{value:e.modifyForm.reNewPassword,callback:function(t){e.$set(e.modifyForm,"reNewPassword","string"===typeof t?t.trim():t)},expression:"modifyForm.reNewPassword"}},[s("template",{slot:"append"},[s("svg-icon",{attrs:{"icon-class":"password"===e.pwdType2?"eye":"eye-open"},on:{click:function(t){return e.showPwd("pwdType2")}}})],1)],2)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("modifyForm")}}},[e._v("新密码登录")])],1)],1)},c=[],d=s("2c24"),l=s("5f87"),u=["Cnooc@2020","Cnooc@2019","Cnooc@2018","P@ss2019","P@ss2020","P@ss2018","12345","123456","12345678","P@ssword","P@ssw0rd","admin","Cn00c#2020!","CNOOC@2020","CNOOC@2019","CNOOC@2018","Cn00c#2020","Cn00c#2019","Cn00c#2018","Cn00c@2020","Cn00c@2019","Cn00c@2018","P@ssword123","P@ssword1234","P@ssword12345","P@ssword123456","P@ssw0rd123","P@ssw0rd1234","P@ssw0rd12345","P@ssw0rd123456","C@nxue123","Pass@word","qwe123!@#","1234abc","123456!","qwe123","password","Admin123","Admin","administrators","administrator","qazwsx","qazxsw","qwerty","qweqwe","q1w2e3","123ewq","qwe321","1qazxsw2","12qwaszx","1234rewq","goodbye","hello","qazwsxedcrfv","111111","222222","333333","444444","555555","666666","777777","888888","999999","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999","adminadmin","123456789","a123456","a123456789","1234567890","woaini1314","qq123456","abc123456","123456a","123456789a","147258369","zxcvbnm","987654321","12345678910","woaini","5201314520","q123456","123456abc","woaini521","qwertyuiop","1314520520","1234567891","qwe123456","asd123","qazwsxedc","security","weblogic","admin12","admin888","admin8","admin123","sysadmin","adminxxx","adminx","6kadmin","base","feitium","admins","root","roots","test","test1","test123","welcome","!@#123","654321","qwer1234","toor","aaaAAA111","baidu","baiduadmin","Baike","dangdang","daohao","daoke","daoker","daokers","daoqq","iamnotadmin","iloveshell","jcksyes","lengxue","lin","liner","login","mama","mama520","phpadmin","qingshu","qingshu$","r4sky","rensheng","xxoxx","xxxxx","ying","yong","youguest","dingdike","dinglei","dingwei","dingwen","dinking","ilove51marry","ilovecindy","ilovelandy","iloveme","ilovesunny","iloveu","iloveyou","ilwymilwym","j77777","jack","jackey77","jackie","jackietian","jackson","jacky.xu","jackysong","jaddy","jaguar","james","jamesc","killer","killerwy","killjap","kingman","kiss","kissyou","kitty","kkk&fun","tomorrow","tongtong","tony12","tonytony","toone","top123","wwww","wwwww","wwwwww","qweqweqwe","$admin$","qaz","wsx","qwer","asdf","zxcv","Ship","haiyangshiyou","hysy","5201314","1314520","woaini123","9876543aini1314","163.com","yahoo.com","password1","sunshine","welltech","COSL","cosl","cosl.123","binhai","tanggu","zhanjiang","shenzhen","shanghai","yanjiao","xinjiang","yj","tj","zj","sz","sh","xj","sj","youtianjishu","youtianhuaxue","youtianshengchan","zuanjing","chuanbo","wutan","youhua","youji","yousheng","1234567890 0987654321","qwertyuiop asdfghjkl zxcvbnm QWERTYUIOP ASDFGHJKL ZXCVBNM","poiuytrewq lkjhgfdsa mnbvcxz POIUYTREWQ LKJHGFDSA MNBVCXZ","qaz wsx edc rfv tgb yhn ujm QAZ WSX EDC RFV TGB YHN UJM","zaq xsw cde vfr bgt nhy mju ZAQ XSW CDE VFR BGT NHY MJU","esz rdx tfc ygv uhb ijn okm OKM IJN UHB YGV TFC RDX ESZ","zse xdr cft vgy bhu nji mko MKO NJI BHU VGY CFT XDR ZSE","147 369 258 852 963 741"];function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function w(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={name:"CenterSystemAccountComs",data:function(){var e=this,t=function(e,t,s){var o=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).+$/;t.length<12?s(new Error("新密码必须大于等于12位！")):u.some((function(e){return-1!==t.indexOf(e)}))?s(new Error("新密码被检测为弱口令！")):o.test(t)?s():s(new Error("新密码必须同时包含大写字母、小写字母、特殊符号和数字！"))},s=function(t,s,o){if(s!==e.modifyForm.newPassword)return o(new Error("两次输入密码不一致！"));o()};return{modifyForm:{orgPassword:"",newPassword:"",reNewPassword:""},modifyRules:{orgPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:t,trigger:"blur"}],reNewPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:s,trigger:"blur"}]},pwdType:"password",pwdType1:"password",pwdType2:"password"}},methods:{submit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(d["a"])(w({},t.modifyForm)).then((function(e){var s=e.code;s||(t.$message({message:"密码修改成功，请重新登录",type:"success"}),t.$store.dispatch("LogOut").then((function(e){setTimeout((function(){window.location.href=Object(l["b"])()}),2e3)})))}))}))},showPwd:function(e){"password"===this[e]?this[e]="":this[e]="password"}}},g=p,y=s("2877"),f=Object(y["a"])(g,a,c,!1,null,"783f1eb4",null),h=f.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("el-row",[e.signatureFileIds?s("el-image",{staticStyle:{width:"180px",height:"48px"},attrs:{src:e.image,"preview-src-list":[e.image]}}):e._e()],1),s("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(t){e.imagecropperShow=!0}}},[e._v("\n    "+e._s(e.image?"更换签名":"添加签名")+"\n  ")]),s("image-cropper",{directives:[{name:"show",rawName:"v-show",value:e.imagecropperShow,expression:"imagecropperShow"}],key:e.imagecropperKey,attrs:{width:180,height:48},on:{close:e.close,"crop-upload-success":e.cropSuccess}})],1)},v=[],j=s("896b"),O={name:"CenterSystemSignComs",components:{ImageCropper:j["a"]},data:function(){return{loading:!1,imagecropperShow:!1,imagecropperKey:0,image:"",signatureFileIds:""}},mounted:function(){this.init()},methods:{init:function(){var e=this;return new Promise((function(t,s){e.loading=!0,Object(d["d"])({}).then((function(s){var o=s.code,r=s.data;!o&&r&&(e.signatureFileIds=r,e.image="".concat("https://192.168.1.7:9005/api/system","/sys/file/download/").concat(r)),e.loading=!1,t(s)})).catch((function(t){e.loading=!1,s(t)}))}))},editSign:function(e){var t=this;return new Promise((function(s,o){t.loading=!0,Object(d["b"])({signatureFileIds:e}).then((function(e){var o=e.code;o||t.$notify({title:"个人签名设置成功",type:"success"}),t.loading=!1,s(e)})).catch((function(e){t.loading=!1,o(e)}))}))},cropSuccess:function(e){var t=e.code,s=e.data;t||(this.imagecropperShow=!1,this.imagecropperKey=this.imagecropperKey+1,this.image="".concat("https://192.168.1.7:9005/api/system","/sys/file/download/").concat(s.id),this.signatureFileIds=s.id,this.editSign(s.id))},close:function(){this.imagecropperShow=!1}}},P=O,x=Object(y["a"])(P,b,v,!1,null,"35ebb466",null),k=x.exports;function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function q(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var S={name:"CenterSystem",components:{Account:h,Sign:k},data:function(){return{activeTab:"modify",userlogo:s("46be")}},computed:q({},Object(i["b"])({userInfo:"userInfo"}))},_=S,F=(s("b066"),Object(y["a"])(_,o,r,!1,null,"1f3fda30",null));t["default"]=F.exports},b066:function(e,t,s){"use strict";var o=s("c7cad"),r=s.n(o);r.a},c7cad:function(e,t,s){}}]);