(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InStorageInspectionDocument"],{2391:function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"w",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"u",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"t",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"x",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"r",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"v",(function(){return v})),n.d(t,"o",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"q",(function(){return O})),n.d(t,"i",(function(){return w})),n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return S})),n.d(t,"s",(function(){return P})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return I})),n.d(t,"b",(function(){return x}));var r=n("bc43");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deliveryReceiptPageList",method:"post",data:e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsDeliveryReceipt/finish",method:"post",data:e})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deliveryMaterialPageList",method:"post",data:e})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deliveryMaterialItemList",method:"post",data:e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsDeliveryMaterial/finish",method:"post",data:e})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/inspectPageList",method:"post",data:e})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/save",method:"post",data:e})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/detail",method:"post",data:e})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/modifyInspectNo",method:"post",data:e})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/editFile",method:"post",data:e})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/fileList",method:"post",data:e})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/saveInspectResult",method:"post",data:e})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/selectInspectResultByDeliveryMaterialId",method:"post",data:e})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/submitInspectResult",method:"post",data:e})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/inspectReject",method:"post",data:e})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/barcodePrint",method:"post",data:e})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/packageCodeSamplingList",method:"post",data:e})}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/genUnqualifiedBarcodeList",method:"post",data:e})}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/unqualifiedBarcodeScan",method:"post",data:e})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/queryUnqualifiedBarcodeList",method:"post",data:e})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/saveUnqualifiedBarcodeList",method:"post",data:e})}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deleteUnqualifiedBarcode",method:"post",data:e})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/editUnqualifiedBarcodeReason",method:"post",data:e})}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deleteFile",method:"post",data:e})}},"32a6":function(e,t,n){var r=n("241e"),i=n("c3a1");n("ce7e")("keys",(function(){return function(e){return i(r(e))}}))},4127:function(e,t,n){"use strict";var r=n("d233"),i=n("b313"),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,s=Array.prototype.push,l=function(e,t){s.apply(e,c(t)?t:[t])},u=Date.prototype.toISOString,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:i.formatters[i["default"]],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,n,i,o,a,s,u,f,p,h,m,b,v){var g=t;if("function"===typeof u?g=u(n,g):g instanceof Date?g=h(g):"comma"===i&&c(g)&&(g=g.join(",")),null===g){if(o)return s&&!b?s(n,d.encoder,v):n;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||r.isBuffer(g)){if(s){var y=b?n:s(n,d.encoder,v);return[m(y)+"="+m(s(g,d.encoder,v))]}return[m(n)+"="+m(String(g))]}var O,w=[];if("undefined"===typeof g)return w;if(c(u))O=u;else{var j=Object.keys(g);O=f?j.sort(f):j}for(var S=0;S<O.length;++S){var P=O[S];a&&null===g[P]||(c(g)?l(w,e(g[P],"function"===typeof i?i(n,P):n,i,o,a,s,u,f,p,h,m,b,v)):l(w,e(g[P],n+(p?"."+P:"["+P+"]"),i,o,a,s,u,f,p,h,m,b,v)))}return w},p=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i["default"];if("undefined"!==typeof e.format){if(!o.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],a=d.filter;return("function"===typeof e.filter||c(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var n,r,i=e,o=p(t);"function"===typeof o.filter?(r=o.filter,i=r("",i)):c(o.filter)&&(r=o.filter,n=r);var s,u=[];if("object"!==typeof i||null===i)return"";s=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=a[s];n||(n=Object.keys(i)),o.sort&&n.sort(o.sort);for(var h=0;h<n.length;++h){var m=n[h];o.skipNulls&&null===i[m]||l(u,f(i[m],m,d,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var b=u.join(o.delimiter),v=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),b.length>0?v+b:""}},4265:function(e,t,n){},4328:function(e,t,n){"use strict";var r=n("4127"),i=n("9e6a"),o=n("b313");e.exports={formats:o,parse:i,stringify:r}},"5c18":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u}));var r=n("bc43");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/add",method:"post",data:e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/edit",method:"post",data:e})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/delete",method:"post",data:e})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/addFileGroup",method:"post",data:e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/deleteFileGroup",method:"post",data:e})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/fileGroupList",method:"post",data:e})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsOrderFile/list",method:"post",data:e})}},"74cc":function(e,t,n){"use strict";var r=n("4265"),i=n.n(r);i.a},"84cee":function(e,t,n){},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"92ed":function(e,t,n){"use strict";var r=n("84cee"),i=n.n(r);i.a},"9a2e":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("28a5");var r=n("cddf"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"inline-block"}},[e._t("pic"),n("el-upload",{ref:"upload",attrs:{sizi:"mini",action:""+e.BASE_API+e.url,headers:e.headers,accept:e.accept,"before-upload":e.beforeUpload,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:e.limit>1,limit:e.limit,"on-exceed":e.handleExceed,"file-list":e.fileList,"on-preview":e.handlePreview,"show-file-list":e.showFileList,"on-success":e.handleUploadSuccess,disabled:e.disabled,"on-progress":e.handleUploadProgress,"on-error":e.handleError}},[e.btnContent?n("el-button",{attrs:{type:"primary",size:"mini",icon:e.btnIcon,disabled:e.disabled}},[e._v("\n      "+e._s(e.btnContent)+"\n    ")]):n("el-button",{attrs:{type:"primary",size:"mini",icon:e.btnIcon,disabled:e.disabled}}),e._t("tip")],2)],2)},o=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),c=n("a8db"),s=(n("c5f6"),n("4360"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"FormUploadFileComs",props:{uploadFileList:{type:Array,default:function(){return[]}},showFileList:{type:Boolean,default:!0},btnIcon:{type:String,default:""},btnContent:{type:String,default:"点击上传"},limit:{type:Number,default:1},url:{type:String,default:"/wms/file/upload"},accept:{type:String,default:""},limitSize:{type:Number,default:1e23},errDefaultMsg:{type:String,default:"文件上传失败"},disabled:{type:Boolean,default:!1}},data:function(){var e="".concat(s["a"].getters.token);return{fileList:[],BASE_API:"https://192.168.1.7:9005/api/wms",headers:{Authorization:e},uploadDisabled:!1,list:[]}},watch:{uploadFileList:{handler:function(e){this.fileList=e.map((function(e){var t=e.fileName,n=e.fileUrl,r=Object(c["a"])(e,["fileName","fileUrl"]);return u({},r,{url:n,name:t})}))},immediate:!0}},methods:{beforeUpload:function(e){var t=e.size<=1e3*this.limitSize;return t||this.$message({message:"上传大小不能超过 ".concat(this.limitSize,"k!"),type:"error"}),t&&this.$emit("openLoading"),t},handleUploadProgress:function(e,t,n){this.$emit("uploadFileProgress",e,t,n)},handleError:function(e,t,n){var r=this;setTimeout((function(){r.$notify.error({title:"错误",message:"上传失败"}),r.$emit("closeLoading")}),500)},handleUploadSuccess:function(e,t,n){if(this.$emit("closeLoading"),"导入成功"!==e){var r=e.code,i=e.data;if(r&&999===r)this.$notify.error({title:"错误",message:e.msg?e.msg:this.errDefaultMsg});else if(r)this.$refs.upload.clearFiles(),this.$emit("uploadFileError");else{if(!i.id)return void this.$emit("uploadFileSuccess");var o=i.id,a=i.fileUrl,c=i.fileType,s=i.downloadUrl,l=i.fileName,u=i.suffix,d={id:o,fileId:o,fileUrl:a,fileType:c,downloadUrl:s,suffix:u,fileName:l,name:l,url:a,classification:""};this.fileList.push(d),this.$emit("uploadFileSuccess",d)}}else this.$emit("uploadFileSuccess")},handleRemove:function(e,t){var n=Object.assign({},e);return n.id||0===n.id||(n.id=n.fileId),this.fileList=this.fileList.filter((function(e){return e.id!==n.id})),this.$emit("handleRemove",u({},n)),new Promise((function(e,t){Object(r["b"])({id:n.id}).then((function(n){var r=n.code;0===r?e():t()})).catch((function(e){t(e)}))}))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"),"提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",cancelButtonClass:"cancel-button-class",confirmButtonClass:"confirm-button-class",type:"warning",lockScroll:!1})},handlePreview:function(e){var t=e.id;window.open("".concat("https://192.168.1.7:9005/api/wms","/wms/file/download/").concat(t))},handleExceed:function(e,t){this.$notify({title:"警告",message:"当前限制上传附件数量是 ".concat(this.limit," 个文件"),type:"warning"})}}},f=d,p=n("2877"),h=Object(p["a"])(f,i,o,!1,null,"6cedfe06",null),m=h.exports,b={components:{FormUploadFile:m},data:function(){return{uploadTip:"",uploadFileList:[]}},methods:{uploadFileSuccess:function(e){this.uploadFileList.push(e)},handleRemove:function(e){var t=e.id;this.uploadFileList=this.uploadFileList.filter((function(e){return e.id!==t}))},initUploadFileList:function(e){var t=this;if(e&&"null"!==e)return new Promise((function(n,i){Object(r["g"])({ids:e}).then((function(e){var r=e.code,i=e.data;r||(t.uploadFileList=i),n(e)})).catch((function(e){i(e)}))}))},getFileIdList:function(){return this.uploadFileList.map((function(e){return e.id}))},resetFormUploadFilesMixins:function(){this.uploadFileList=[]},downloadUploadFileMixins:function(e){window.open("".concat(Object({NODE_ENV:"production",VUE_APP_BASE_API:"https://192.168.1.7:9005/api/system",VUE_APP_BASE_API_ACTIVITI:"https://192.168.1.7:9005/api/flowable",VUE_APP_BASE_API_WMS:"https://192.168.1.7:9005/api/wms",VUE_APP_BASE_PUBLIC_PATH:"/wms",BASE_URL:"/wms/"}).VUE_APP_BASE_API_LMS,"/wms/file/download/").concat(e))}}}},"9e6a":function(e,t,n){"use strict";var r=n("d233"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(e,t){var n,l={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,f=u.split(t.delimiter,d),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&(f[n]===s?h="utf-8":f[n]===c&&(h="iso-8859-1"),p=n,n=f.length);for(n=0;n<f.length;++n)if(n!==p){var m,b,v=f[n],g=v.indexOf("]="),y=-1===g?v.indexOf("="):g+1;-1===y?(m=t.decoder(v,o.decoder,h),b=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,y),o.decoder,h),b=t.decoder(v.slice(y+1),o.decoder,h)),b&&t.interpretNumericEntities&&"iso-8859-1"===h&&(b=a(b)),b&&t.comma&&b.indexOf(",")>-1&&(b=b.split(",")),i.call(l,m)?l[m]=r.combine(l[m],b):l[m]=b}return l},u=function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);n.parseArrays||""!==c?!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(o=[],o[s]=r):o[c]=r:o={0:r}}r=o}return r},d=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.exec(r),s=c?r.slice(0,c.index):r,l=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}var d=0;while(null!==(c=a.exec(r))&&d<n.depth){if(d+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+r.slice(c.index)+"]"),u(l,t,n)}},f=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?o.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth?e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};e.exports=function(e,t){var n=f(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var i="string"===typeof e?l(e,n):e,o=n.plainObjects?Object.create(null):{},a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],u=d(s,i[s],n);o=r.merge(o,u,n)}return r.compact(o)}},a4bb:function(e,t,n){e.exports=n("8aae")},a63b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"my-row"},[n("el-button",{on:{click:e.handleGoBack}},[e._v("返回")]),n("div",[n("el-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary"},on:{click:e.handleCamera}},[e._v("拍照上传")]),n("form-upload-file",{ref:"uploadFile",attrs:{"btn-content":"上传","btn-icon":"el-icon-upload","show-file-list":!1,limit:1,"upload-file-list":e.uploadFileList},on:{uploadFileSuccess:e.handleUploadSuccess,uploadFileError:e.handleUploadFileError,openLoading:e.openLoading,closeLoading:e.closeLoading}})],1)],1),n("el-row",[n("el-descriptions",{attrs:{column:3,"label-style":{fontWeight:900},"content-style":{paddingRight:"10px",alignItems:"center"}}},[n("el-descriptions-item",{attrs:{label:"交接单号"}},[e._v(e._s(e.baseInfo.no||"---"))]),n("el-descriptions-item",{attrs:{label:"检验单号"}},[e._v(e._s(e.baseInfo.inspectNo||"---"))]),n("el-descriptions-item",{attrs:{label:"物料项数"}},[e._v(e._s(e.baseInfo.materialCount||"---"))]),n("el-descriptions-item",{attrs:{label:"物料总数"}},[e._v(e._s(e.baseInfo.materialTotal||"---"))]),n("el-descriptions-item",{attrs:{label:"创建时间"}},[e._v(e._s(e.baseInfo.createDate||"---"))]),n("el-descriptions-item",{attrs:{label:"接收人"}},[e._v(e._s(e.baseInfo.recipientName||"---"))])],1)],1),n("el-row",[n("table-com",{ref:"baseTableRef",attrs:{loading:e.loading,index:!0,selection:!1,"table-data":e.tableData,"column-list":e.columnList,"operation-width":240,"table-column-sort":!1},on:{rowClick:e.handleRowClick,refresh:e.searchInit},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-view"},on:{click:function(n){return e.handlePreview(t.row)}}},[e._v("查看")]),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),n("edit-dialog",{attrs:{"dialog-form":e.dialogForm,"edit-type":e.editType,title:e.dialogTitle},on:{submit:e.init},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}}),n("camera-dialog",{on:{submit:e.handleSubmit},model:{value:e.cameraVisible,callback:function(t){e.cameraVisible=t},expression:"cameraVisible"}})],1)},i=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("bd86")),a=n("1790"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{center:!0,"append-to-body":!0,"close-on-press-escape":!1,"wrapper-closable":!1,title:e.title,size:"50",visible:e.value,"destroy-on-close":!0,"before-close":e.beforeClose},on:{open:e.initSelect}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[n("el-scrollbar",{staticClass:"scroll-drawer"},[n("el-form-item",{attrs:{label:"附件",prop:"fileIds"}},[n("form-upload-file",{attrs:{"upload-file-list":e.uploadFileList,limit:1},on:{uploadFileSuccess:e.uploadFileSuccess,handleRemove:e.handleRemove}})],1)],1),n("div",{staticClass:"drawer-footer"},[n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v(e._s(e.loading?"提交中 ...":"确 定"))]),n("el-button",{on:{click:e.beforeClose}},[e._v("取 消")])],1)],1)],1)},s=[],l=(n("28a5"),n("5c18")),u=n("9a2e");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){return{fileIds:""}},h={name:"InStorageDocumentCom",components:{},mixins:[u["a"]],props:{value:{type:Boolean,default:!1},title:{type:String,default:""},editType:{type:String,default:"add"},dialogForm:{type:Object,default:function(){return f({},p())}}},data:function(){return{form:p(),loading:!1,rules:{},selectInfo:{list:[],visible:!1,radio:""}}},watch:{dialogForm:{handler:function(e){"add"===this.editType?this.form=f({},p()):(this.form=f({},e),this.form.fileIds&&this.initUploadFileList(this.form.fileIds.split(",")))},immediate:!0}},methods:{handleConfirm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!1,"add"!==t.editType&&Object(l["updateListApi"])({id:t.form.id,fileIds:t.form.fileIds}).then((function(e){var n=e.code;n||(t.$message({message:"".concat(t.title,"成功"),type:"success"}),t.$emit("submit"),t.beforeClose()),t.loading=!1})).catch((function(e){t.loading=!1}))}))},uploadFileSuccess:function(e){this.uploadFileList.push(e),this.form.fileIds=this.getFileIdList().join()},initSelect:function(){},beforeClose:function(e){this.$refs.form.resetFields(),this.form=p(),this.resetFormUploadFilesMixins(),this.$emit("input",!1),this.form=Object.assign({},f({},p)),"function"===typeof e&&e()}}},m=h,b=(n("92ed"),n("2877")),v=Object(b["a"])(m,c,s,!1,null,"5fe91618",null),g=v.exports,y=n("2391"),O=n("bc3a"),w=n.n(O),j=n("fa7d"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,top:"7vh",visible:e.value,"show-close":!0,width:"920px","lock-scroll":!1,"destroy-on-close":!0,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.handleCancel},on:{open:e.initSelect}},[n("el-scrollbar",{staticClass:"scrollbar-sty"},[n("div",{staticClass:"photo-collecting"},[n("video",{ref:"video",attrs:{width:"400",height:"320",autoplay:""}}),n("canvas",{ref:"canvas",attrs:{width:"400",height:"320"}})])]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleSnap}},[e._v("拍 照")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.handleSwitch}}),n("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("上 传")]),n("el-button",{on:{click:e.handleCancel}},[e._v("取 消")])],1)],1)},P=[],F=n("cddf"),I={name:"CameraDialog",mixins:[],props:{value:{required:!0,type:Boolean},title:{type:String,default:"拍照上传"},extraInfo:{type:Object,default:function(){}}},dicts:[],data:function(){return{constraints:{},videoStream:{},cameraFile:{},cameraFlag:"1"}},methods:{initSelect:function(){this.init()},init:function(){var e=this;this.$nextTick((function(){"0"===e.cameraFlag?e.constraints={video:{facingMode:"user"}}:e.constraints={video:{facingMode:{exact:"environment"}}},navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(e.constraints).then((function(t){e.videoStream=t;var n=e.$refs.video;n.srcObject=t})).catch((function(t){e.$notify.error({title:"警告",message:"获取摄像头失败"})}))}))},handleSnap:function(){var e=this.$refs.video;if(e){var t=this.$refs.canvas,n=t.getContext("2d");n.imageSmoothingEnabled=!1,n.drawImage(e,0,0,400,320),this.conversionPicFile(t)}},handleSwitch:function(){if(this.videoStream&&this.videoStream.getVideoTracks){var e=this.videoStream.getVideoTracks();e.forEach((function(e){return e.stop()}))}this.videoStream={},this.cameraFile={},"0"===this.cameraFlag?this.cameraFlag="1":this.cameraFlag="0",this.init()},conversionPicFile:function(e){var t=this;e&&e.toBlob((function(e){var n=new File([e],"screenshot.png",{type:"image/png",lastModified:Date.now()});t.cameraFile=n}),"image/png")},getBrowserInfo:function(){return"Browser: ".concat(navigator.userAgent)},getOSInfo:function(){var e=navigator.userAgent,t=navigator.platform;return t.toLowerCase().indexOf("win")>-1?"Windows":t.toLowerCase().indexOf("mac")>-1?"MacOS":t.toLowerCase().indexOf("linux")>-1?"Linux":/iPad|iPhone|iPod/.test(e)?"iOS":/Android/.test(e)?"Android":"Unknown OS"},isMobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},handleCancel:function(e){if(this.videoStream&&this.videoStream.getVideoTracks){var t=this.videoStream.getVideoTracks();t.forEach((function(e){return e.stop()}))}this.videoStream={},this.cameraFile={},this.cameraFlag="1",this.$emit("input",!1),"function"===typeof e&&e()},handleConfirm:function(){var e=this;if(this.cameraFile){var t=new FormData;t.append("file",this.cameraFile),Object(F["m"])("/wms/file/upload",t).then((function(t){var n=t.code,r=t.data;n||(e.$emit("submit",r),e.handleCancel())})).catch((function(e){}))}else this.$notify.warning({title:"警告",message:"请先拍照"})}}},x=I,L=(n("74cc"),Object(b["a"])(x,S,P,!1,null,"19aed33c",null)),D=L.exports;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={name:"InStorageInspectionDocument",components:{EditDialog:g,CameraDialog:D},mixins:[a["a"],u["a"]],data:function(){return{title:this.$route.meta.title,loading:!1,query:{},tableData:[],columnList:[{module:"word",prop:"fileRealName",label:"文件名称",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"suffix",label:"文件后缀",align:"center",minWidth:"200",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"createDate",label:"上传时间",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"}],columnSets:[],dialogForm:{},supplierPullList:[],editType:"add",dialogVisible:!1,cameraVisible:!1,baseInfo:{},screenLoading:null}},computed:{dialogTitle:function(){return"add"===this.editType?"新增".concat(this.title,"信息"):"编辑".concat(this.title,"信息")},fileIds:function(){return this.getFileIdList().join()}},mounted:function(){this.init(),this.getInspectNoDetail()},methods:{init:function(){var e=this;this.loading=!0;var t=E({},this.query,{id:this.$route.params.id});return new Promise((function(n,r){Object(y["d"])(E({},t)).then((function(t){var r=t.code,i=t.data;r||(e.tableData=i.map((function(e){var t="".concat("https://192.168.1.7:9005/api/wms").concat(e.fileUrl),n=e.fileRealName;return E({},e,{fileUrl:t,fileName:n})}))),e.loading=!1,n(t)})).catch((function(t){e.loading=!1,r(t)}))}))},getInspectNoDetail:function(){var e=this;return new Promise((function(t,n){Object(y["j"])({id:e.$route.params.id}).then((function(n){var r=n.code,i=n.data;r||(e.baseInfo=i),t(n)})).catch((function(e){n(e)}))}))},handleRowClick:function(e){e.row;var t=e.column;e.cell,e.event;if("操作"===t.label)return!1},handleAdd:function(){this.editType="add",this.dialogForm={},this.dialogVisible=!0},handleModify:function(e){this.dialogForm=E({},e),this.editType="modify",this.dialogVisible=!0},resetForm:function(e){this.$refs[e].resetFields(),this.searchInit()},handleUploadDocument:function(){var e=this;return new Promise((function(t,n){Object(y["x"])({id:e.$route.params.id,fileIds:e.fileIds}).then((function(n){var r=n.code;r||(e.resetFormUploadFilesMixins(),e.init()),t(n)})).catch((function(e){n(e)}))}))},handleUploadSuccess:function(e){this.uploadFileList.push(e),this.$notify.success({title:"成功",message:"上传成功"}),this.handleUploadDocument()},handleUploadFileError:function(){this.$notify.error({title:"错误",message:"上传失败"})},openLoading:function(){this.screenLoading||(this.screenLoading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}))},closeLoading:function(){this.screenLoading&&(this.screenLoading.close(),this.screenLoading=null)},handlePreview:function(e){var t=e.fileName;if(t){var n=t.substring(t.lastIndexOf(".")+1),r=["png","jpg","jpeg","bmp","gif"].includes(n),i=["txt"].includes(n);r?this.$viewerApi({options:{toolbar:!1,navbar:!1,title:!1},images:[e.fileUrl]}):i?w.a.get(e.fileUrl,{responseType:"blob"}).then((function(t){Object(j["a"])(e.fileName,t.data)})):window.open(e.fileUrl)}},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除文档信息, 是否继续?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",cancelButtonClass:"btn-custom-cancel",type:"warning",lockScroll:!1}).then((function(){Object(y["b"])({id:t.$route.params.id,fileIds:e.id}).then((function(e){var n=e.code;n||(t.$message({message:"删除成功",type:"success"}),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleDownload:function(){},handleGoBack:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({name:"InStorageInspection"})},handleCamera:function(){this.cameraVisible=!0},handleSubmit:function(e){var t=this;return new Promise((function(n,r){Object(y["x"])({id:t.$route.params.id,fileIds:e.id}).then((function(e){var r=e.code;r||(t.$notify.success({title:"成功",message:"上传成功"}),t.init()),n(e)})).catch((function(e){r(e)}))}))}}},C=_,U=(n("c933"),Object(b["a"])(C,r,i,!1,null,"124802f2",null));t["default"]=U.exports},a8db:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("e265"),i=n.n(r),o=n("a4bb"),a=n.n(o);function c(e,t){if(null==e)return{};var n,r,i={},o=a()(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e,t){if(null==e)return{};var n,r,o=c(e,t);if(i.a){var a=i()(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},b313:function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},c933:function(e,t,n){"use strict";var r=n("fb8b"),i=n.n(r);i.a},ce7e:function(e,t,n){var r=n("63b6"),i=n("584a"),o=n("294c");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},d233:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!==typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}},c=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},s=function e(t,n,o){if(!n)return t;if("object"!==typeof n){if(i(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=c(t,o)),i(t)&&i(n)?(n.forEach((function(n,i){if(r.call(t,i)){var a=t[i];a&&"object"===typeof a&&n&&"object"===typeof n?t[i]=e(a,n,o):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return r.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t}),a)},l=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},u=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},d=function(e,t,n){if(0===e.length)return e;var r="string"===typeof e?e:String(e);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<r.length;++a){var c=r.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?i+=r.charAt(a):c<128?i+=o[c]:c<2048?i+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?i+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&r.charCodeAt(a)),i+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return i},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],c=Object.keys(o),s=0;s<c.length;++s){var l=c[s],u=o[l];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}return a(t),e},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},h=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:c,assign:l,combine:m,compact:f,decode:u,encode:d,isBuffer:h,isRegExp:p,merge:s}},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},fa7d:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("2fdb");var r=n("bd86");n("4328"),n("4360");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return new Promise((function(t){e.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.code,r=void 0===n?0:n;t({data:e,success:0===r})})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t({data:e,success:!1})}))}))}function c(e){return new Promise((function(t){e.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(o({},e,{success:e.success||0===e.code}))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t({data:e,success:!1})}))}))}function s(e,t){var n=new Blob([t]);if("download"in document.createElement("a")){var r=document.createElement("a");r.download=e,r.style.display="none",r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href)}else navigator.msSaveBlob(n,e)}},fb8b:function(e,t,n){}}]);
//# sourceMappingURL=InStorageInspectionDocument.8bcd1626.js.map