{"version":3,"sources":["webpack:///./src/views/warehouse/discharge/edit.vue?1e42","webpack:///./src/apis/modules/warehouse/inventory/index.js","webpack:///./src/apis/modules/warehouse/discharge.js","webpack:///./src/components/ModalSelect/TransferMaterial.vue?e407","webpack:///./node_modules/uuid/dist/esm-browser/native.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./src/views/warehouse/discharge/edit.vue?4c7f","webpack:///./src/components/ModalSelect/TransferMaterial.vue?b41a","webpack:///src/components/ModalSelect/TransferMaterial.vue","webpack:///./src/components/ModalSelect/TransferMaterial.vue?5cf6","webpack:///./src/components/ModalSelect/TransferMaterial.vue","webpack:///src/views/warehouse/discharge/edit.vue","webpack:///./src/views/warehouse/discharge/edit.vue?e3ff","webpack:///./src/views/warehouse/discharge/edit.vue","webpack:///./src/apis/request.download.js"],"names":["getListApi","data","request","url","method","timeout","getBaseInfoApi","getInventoryBookDetailApi","getInventoryBookHistoryApi","getBarcodeListApi","splitNum1Api","detailEditApi","groupExportApi","download","groupListApi","getReservationDetailsListApi","getOrderDetailsListApi","accountExportApi","historyRecordExportApi","queryInventoryNumByMaterialCodeApi","addApi","editApi","deleteListApi","getBillTransferPullListApi","getBillTransferDetailApi","getBillTransferListApi","submitApi","withdrawApi","auditApi","isInspectApi","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","toLowerCase","v4","options","buf","rnds","random","render","_vm","this","_h","$createElement","_c","_self","attrs","extraInfo","ref","form","rules","staticStyle","model","value","callback","$$v","$set","expression","includes","pageType","on","handleSelectChange","_l","item","index","key","name","id","targetWarehouseChange","_e","outWarehouseId","handleAddMaterial","_v","detailList","columnList","handleRowClick","searchInit","scopedSlots","_u","fn","scope","$event","handleDelete","$index","staticClass","buttonLoading","onAudit","onSave","goBack","Object","assign","warehouseId","forBusiness","transferBillNumber","$route","query","billNumber","ids","onSelectedMaterial","materialVisible","staticRenderFns","title","beforeClose","initSelect","nativeOn","preventDefault","type","indexOf","_k","keyCode","trim","resetForm","refName","loading","multiple","tableData","tableSelection","selectionChange","pageInfo","current","size","total","init","slot","confirmDialog","mixins","paginationPage","props","required","Boolean","String","default","selection","Array","max","Number","dicts","columnSets","deptSelectedInfo","list","visible","radio","code","methods","$emit","page","Promise","uuid","deliveryNumber","orderNum","resolve","res","reject","err","handleUpdateTableSelected","handleDefault","done","onDeptSelectConfirm","length","usedOffice","$refs","formName","resetFields","component","components","MaterialDialog","AuditWrapper","pullListConfig","targetWarehousePullList","INIT_FORM","inWarehouseId","message","warehousePullList","computed","map","replace","watch","mounted","getPullList","getWarehousePullList","getDetail","add","edit","validate","valid","Api","materialCode","materialName","materialAssessType","materialAssessType_dictText","batchNo","barcodeNumber","num","currentPosition","materialId","unitMeasureId","unitName","storageId","snNo","orderId","all","apis","splice","column","label","$store","dispatch","tempRoute","whiteList","$router","1","0","2","val","$message","getIsInspectStatus","inspectChange","baseConfig","baseURL","process","withCredentials","headers","Accept","service","axios","create","ToskTap","interceptors","use","config","getters","token","error","response","Notification","msg","duration","status","e","setTimeout","then","window","location","href","getLoginPath"],"mappings":"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","file":"js/BillTransferAdd.4ccd0fec.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=f19095b2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=f19095b2&lang=scss&scoped=true&\"","import request from '@/apis/request.wms'\r\nimport download from '@/apis/request.download'\r\n\r\n// 主列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBook/pageList',\r\n    method: 'post',\r\n    data,\r\n    timeout: 2 * 60 * 1000\r\n  })\r\n}\r\n\r\n// 主列表新增\r\nexport function addListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInkLabel/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表修改\r\nexport function updateListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInkLabel/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInkLabel/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// Module 详情\r\n\r\n// 基本信息\r\nexport function getBaseInfoApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 详细信息\r\nexport function getInventoryBookDetailApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 历史记录\r\nexport function getInventoryBookHistoryApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookHistory/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 条码列表\r\nexport function getBarcodeListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/listBarCode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 拆箱接口\r\nexport function splitNumApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/split',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 拆箱接口\r\nexport function splitNum1Api(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/split4StockOut',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 库存台账详情 编辑\r\nexport function detailEditApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 库存台账导出\r\nexport function groupExportApi(data = {}) {\r\n  return download({\r\n    url: '/warehouseMgt/wmsInventoryBook/groupExport',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 分组统计列表\r\nexport function groupListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBook/groupList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 预留单详情(查询预留单-通过物料id查询预留单)\r\nexport function getReservationDetailsListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBook/selectBillReservedByMaterialId',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 订单详情(查询订单-通过物料id查询订单)\r\nexport function getOrderDetailsListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBook/selectOrderByMaterialId',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 导入库存台账数据\r\nexport function importInventoryBookApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/import',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 台账导出\r\nexport function accountExportApi(data = {}) {\r\n  return download({\r\n    url: '/warehouseMgt/wmsInventoryBook/export',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 库存台账详情/历史记录 导出\r\nexport function historyRecordExportApi(data = {}) {\r\n  return download({\r\n    url: '/warehouseMgt/wmsInventoryBookHistory/export',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 查询物料编码在sap库权限内的库存量列表\r\nexport function queryInventoryNumByMaterialCodeApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsInventoryBookDetail/queryInventoryNumByMaterialCode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表新增\r\nexport function addApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表修改\r\nexport function editApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 调拨单号下拉列表\r\nexport function getBillTransferPullListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 调拨单详情\r\nexport function getBillTransferDetailApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 调拨单物料明细分页\r\nexport function getBillTransferListApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransferDetail/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交\r\nexport function submitApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/submit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 撤回\r\nexport function withdrawApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/withdraw',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 审核->通过、驳回、未通过\r\nexport function auditApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/audit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 移库调拨单新增跳转页面后调用，给是否检验赋值，返回true/false\r\nexport function isInspectApi(data = {}) {\r\n  return request({\r\n    url: '/warehouseMgt/wmsBillTransfer/isInspect',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransferMaterial.vue?vue&type=style&index=0&id=21a62322&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransferMaterial.vue?vue&type=style&index=0&id=21a62322&lang=scss&scoped=true&\"","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audit-wrapper',{attrs:{\"extra-info\":_vm.extraInfo}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"inline\":\"\",\"rules\":_vm.rules}},[_c('el-row',[_c('el-col',{attrs:{\"xs\":6,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('el-form-item',{attrs:{\"prop\":\"billNumber\",\"label\":\"调拨单号：\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\",\"placeholder\":\"调拨单号\",\"clearable\":\"\"},model:{value:(_vm.form.billNumber),callback:function ($$v) {_vm.$set(_vm.form, \"billNumber\", $$v)},expression:\"form.billNumber\"}})],1)],1),_c('el-col',{attrs:{\"xs\":6,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('el-form-item',{attrs:{\"label\":\"移出仓库\",\"prop\":\"outWarehouseId\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":['audit', 'detail'].includes(_vm.pageType)},on:{\"change\":_vm.handleSelectChange},model:{value:(_vm.form.outWarehouseId),callback:function ($$v) {_vm.$set(_vm.form, \"outWarehouseId\", $$v)},expression:\"form.outWarehouseId\"}},_vm._l((_vm.warehousePullList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_c('el-col',{attrs:{\"xs\":6,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('el-form-item',{attrs:{\"prop\":\"inWarehouseId\",\"label\":\"目标仓库：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"仓库名称\",\"disabled\":['audit', 'detail'].includes(_vm.pageType)},on:{\"change\":_vm.targetWarehouseChange},model:{value:(_vm.form.inWarehouseId),callback:function ($$v) {_vm.$set(_vm.form, \"inWarehouseId\", $$v)},expression:\"form.inWarehouseId\"}},_vm._l((_vm.targetWarehousePullList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1)],1),_c('el-row',[(!['audit', 'detail'].includes(_vm.pageType))?_c('el-col',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":12,\"xl\":12}},[_c('el-button',{attrs:{\"disabled\":!_vm.form.outWarehouseId,\"type\":\"primary\"},on:{\"click\":_vm.handleAddMaterial}},[_vm._v(\"添加物料\")])],1):_vm._e()],1),_c('el-row',[_c('el-col',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('table-com',{ref:\"baseTableRef\",staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":false,\"selection\":false,\"table-data\":_vm.form.detailList,\"column-list\":_vm.columnList,\"operation-width\":120,\"table-column-sort\":false,\"table-height-type\":660,\"table-height-minus\":5,\"show-operate\":!['audit', 'detail'].includes(_vm.pageType)},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-row',[(_vm.pageType === 'audit')?_c('el-col',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('el-form-item',{staticClass:\"approval-opinion\",attrs:{\"prop\":\"message\",\"label\":\"审批意见：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请填写审批意见\",\"rows\":5},model:{value:(_vm.form.message),callback:function ($$v) {_vm.$set(_vm.form, \"message\", $$v)},expression:\"form.message\"}})],1)],1):_vm._e()],1)],1),_c('div',{staticClass:\"btn-context\"},[(_vm.pageType === 'audit')?[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onAudit(1)}}},[_vm._v(\"通 过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onAudit(0)}}},[_vm._v(\"驳 回\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onAudit(2)}}},[_vm._v(\"不 通 过\")])]:_vm._e(),(_vm.pageType === 'add')?[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onSave('form')}}},[_vm._v(\"保 存\")])]:_vm._e(),(_vm.pageType === 'edit')?[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onSave('form')}}},[_vm._v(\"保 存\")])]:_vm._e(),_c('el-button',{attrs:{\"loading\":_vm.buttonLoading},on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")])],2),_c('material-dialog',{attrs:{\"multiple\":\"\",\"extra-info\":Object.assign({}, {warehouseId: _vm.form.outWarehouseId, forBusiness: 'billTransfer'},_vm.pageType !== 'add' &&{transferBillNumber: _vm.$route.query.billNumber}),\"selection\":_vm.ids},on:{\"confirm\":_vm.onSelectedMaterial},model:{value:(_vm.materialVisible),callback:function ($$v) {_vm.materialVisible=$$v},expression:\"materialVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"1000px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-form',{ref:\"filterItem\",staticClass:\"top-filter clearfix\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"物料编码\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.code),callback:function ($$v) {_vm.$set(_vm.query, \"code\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.code\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")])],1),_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"1000px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <el-form ref=\"filterItem\" class=\"top-filter clearfix\" :model=\"query\" inline @submit.native.prevent>\r\n        <el-form-item prop=\"code\">\r\n          <el-input v-model.trim=\"query.code\" placeholder=\"物料编码\" class=\"filter-item\" style=\"width: 178px;\" clearable @keyup.enter.native=\"searchInit\" />\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button>\r\n      </el-form>\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"true\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getInventoryBookDetailApi as getListSelectApi } from '@/apis/modules/warehouse/inventory'\r\n\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编码',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'batchNo',\r\n          label: '批次号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barcodeNumber',\r\n          label: '条码号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'amount',\r\n          label: '金额',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'currency',\r\n          label: '币种',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'currentPosition',\r\n          label: '存放位置',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'inWarehouseDate',\r\n          label: '入库日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'inWarehouseDays',\r\n          label: '在库时长(天)',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      query: {\r\n        code: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        ...this.extraInfo,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { pageData: { list, ...pageInfo }} = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: i.orderNum,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransferMaterial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransferMaterial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransferMaterial.vue?vue&type=template&id=21a62322&scoped=true&\"\nimport script from \"./TransferMaterial.vue?vue&type=script&lang=js&\"\nexport * from \"./TransferMaterial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransferMaterial.vue?vue&type=style&index=0&id=21a62322&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21a62322\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <audit-wrapper :extra-info=\"extraInfo\">\r\n    <el-form ref=\"form\" :model=\"form\" inline :rules=\"rules\">\r\n      <el-row>\r\n        <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n          <el-form-item prop=\"billNumber\" label=\"调拨单号：\">\r\n            <el-input\r\n              v-model=\"form.billNumber\"\r\n              disabled\r\n              placeholder=\"调拨单号\"\r\n              clearable\r\n              style=\"width: 100%;\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n          <el-form-item label=\"移出仓库\" prop=\"outWarehouseId\">\r\n            <el-select\r\n              v-model=\"form.outWarehouseId\"\r\n              filterable\r\n              clearable\r\n              placeholder=\"请选择\"\r\n              style=\"width: 100%;\"\r\n              :disabled=\"['audit', 'detail'].includes(pageType)\"\r\n              @change=\"handleSelectChange\"\r\n            >\r\n              <el-option\r\n                v-for=\"(item,index) in warehousePullList\"\r\n                :key=\"index\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n          <el-form-item prop=\"inWarehouseId\" label=\"目标仓库：\">\r\n            <el-select v-model=\"form.inWarehouseId\" filterable clearable placeholder=\"仓库名称\" style=\"width: 100%;\" :disabled=\"['audit', 'detail'].includes(pageType)\" @change=\"targetWarehouseChange\">\r\n              <el-option\r\n                v-for=\"(item,index) in targetWarehousePullList\"\r\n                :key=\"index\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <!-- <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n          <el-form-item label=\"是否检验\" prop=\"inspect\">\r\n            <el-radio-group v-model=\"form.inspect\" style=\"width: 100%;\" class=\"my-inspect-sty\" @input=\"inspectChange\">\r\n              <el-radio-button :label=\"true\">是</el-radio-button>\r\n              <el-radio-button :label=\"false\">否</el-radio-button>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-col> -->\r\n      </el-row>\r\n      <el-row>\r\n        <el-col v-if=\"!['audit', 'detail'].includes(pageType)\" :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" style=\"margin-bottom: 15px;\">\r\n          <el-button :disabled=\"!form.outWarehouseId\" type=\"primary\" @click=\"handleAddMaterial\">添加物料</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" style=\"margin-bottom: 15px;\">\r\n          <table-com\r\n            ref=\"baseTableRef\"\r\n            style=\"width: 100%\"\r\n            :loading=\"false\"\r\n            :selection=\"false\"\r\n            :table-data=\"form.detailList\"\r\n            :column-list=\"columnList\"\r\n            :operation-width=\"120\"\r\n            :table-column-sort=\"false\"\r\n            :table-height-type=\"660\"\r\n            :table-height-minus=\"5\"\r\n            :show-operate=\"!['audit', 'detail'].includes(pageType)\"\r\n            @rowClick=\"handleRowClick\"\r\n            @refresh=\"searchInit\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" @click=\"handleDelete(scope.$index)\">删除</el-button>\r\n            </template>\r\n          </table-com>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col v-if=\"pageType === 'audit'\" style=\"margin-bottom: 15px;\" :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\r\n          <el-form-item prop=\"message\" label=\"审批意见：\" class=\"approval-opinion\">\r\n            <el-input\r\n              v-model=\"form.message\"\r\n              type=\"textarea\"\r\n              placeholder=\"请填写审批意见\"\r\n              :rows=\"5\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div class=\"btn-context\">\r\n      <template v-if=\"pageType === 'audit'\">\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onAudit(1)\">通 过</el-button>\r\n        <el-button type=\"danger\" :loading=\"buttonLoading\" @click=\"onAudit(0)\">驳 回</el-button>\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onAudit(2)\">不 通 过</el-button>\r\n      </template>\r\n      <template v-if=\"pageType === 'add'\">\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onSave('form')\">保 存</el-button>\r\n      </template>\r\n      <template v-if=\"pageType === 'edit'\">\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onSave('form')\">保 存</el-button>\r\n      </template>\r\n      <el-button :loading=\"buttonLoading\" @click=\"goBack\">取消</el-button>\r\n    </div>\r\n    <!-- 物料选择 -->\r\n    <material-dialog\r\n      v-model=\"materialVisible\"\r\n      multiple\r\n      :extra-info=\"{warehouseId: form.outWarehouseId, forBusiness: 'billTransfer',...pageType !== 'add' &&{transferBillNumber: $route.query.billNumber}}\"\r\n      :selection=\"ids\"\r\n      @confirm=\"onSelectedMaterial\"\r\n    />\r\n  </audit-wrapper>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { getWarehouseSapPullListApi } from '@/apis/modules/base/basewmsWarehouse'\r\nimport { addApi as addListApi, editApi as updateListApi, getBillTransferDetailApi as detailApi, auditApi, isInspectApi } from '@/apis/modules/warehouse/discharge'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport MaterialDialog from '@/components/ModalSelect/TransferMaterial'\r\nimport AuditWrapper from '@/components/AuditWrapper'\r\nimport { requestWrapper, promiseWrapper } from '@/utils/utils'\r\n\r\nconst INIT_FORM = () => ({\r\n  billNumber: '自动生成', // 调拨单号\r\n  outWarehouseId: '', // 移出仓库id\r\n  inWarehouseId: '', // 目标仓库id(移入仓库id)\r\n  message: '', // 审批意见\r\n  // inspect: null, // 是否检验\r\n  detailList: [] // 调拨物料单\r\n})\r\n\r\nexport default {\r\n  components: {\r\n    MaterialDialog,\r\n    AuditWrapper\r\n  },\r\n  mixins: [paginationPage],\r\n  props: {},\r\n  data() {\r\n    return {\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'batchNo',\r\n          label: '批次号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barcodeNumber',\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'currentPosition',\r\n          label: '存放位置',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      // 关于查询项下拉\r\n      pullListConfig: [\r\n        { api: getWarehouseSapPullListApi(), dataKey: 'targetWarehousePullList', name: '目标仓库' }\r\n      ],\r\n      targetWarehousePullList: [],\r\n      form: INIT_FORM(),\r\n      rules: {\r\n        billNumber: [\r\n          { required: true, message: '请输入调拨单号', trigger: 'blur' }\r\n        ],\r\n        inWarehouseId: [\r\n          { required: true, message: '请选择目标仓库', trigger: 'change' }\r\n        ],\r\n        outWarehouseId: [\r\n          { required: true, message: '请选择移出仓库', trigger: 'change' }\r\n        ],\r\n        message: [\r\n          { required: true, message: '请填写审批意见', trigger: 'blur' }\r\n        ]\r\n        // inspect: [\r\n        //   { required: true, message: '请选择是否检验', trigger: 'change' }\r\n        // ]\r\n      },\r\n      materialVisible: false,\r\n      buttonLoading: false,\r\n      extraInfo: null,\r\n      warehousePullList: [] // 移出仓库\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('app', {\r\n      token: 'token',\r\n      userInfo: 'userInfo'\r\n    }),\r\n    ids() {\r\n      return this.form.detailList.map(item => item.id)\r\n    },\r\n    pageType() {\r\n      // 如果页面链路走向是 待办弹窗->《已办理业务》，操作列小眼睛跳转到当前单据的详情页\r\n      if (this.$route.query.type === 'auditHistory') return 'detail'\r\n      return this.$route.name.replace('BillTransfer', '').toLowerCase() || 'add'\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  mounted() {\r\n    // this.pageType === 'add' && this.getIsInspectStatus()\r\n    this.getPullList()\r\n    this.getWarehousePullList()\r\n    this.pageType !== 'add' && this.getDetail()\r\n  },\r\n  methods: {\r\n    onSave(formName) {\r\n      const obj = {\r\n        add: addListApi,\r\n        edit: updateListApi\r\n      }\r\n      const Api = obj[this.pageType]\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (!this.form.detailList.length) {\r\n            this.$message({\r\n              message: '至少新增一条物料',\r\n              type: 'warning'\r\n            })\r\n            return\r\n          }\r\n          if (this.form.outWarehouseId === this.form.inWarehouseId) {\r\n            this.$message({\r\n              message: '移出仓库和移入仓库不可相同',\r\n              type: 'warning'\r\n            })\r\n            return\r\n          }\r\n          this.buttonLoading = true\r\n          // Tip 新增的调拨单的时候需要带上当前系统下选择的仓库作为移出仓库\r\n          Api({\r\n            ...this.form,\r\n            ...this.pageType === 'add' && { outWarehouseId: this.form.outWarehouseId }\r\n          }).then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.$message({\r\n                message: `操作成功`,\r\n                type: 'success'\r\n              })\r\n              this.goBack()\r\n            }\r\n            this.buttonLoading = false\r\n          }).catch(err => {\r\n            console.log(err)\r\n            this.buttonLoading = false\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 添加物料\r\n    handleAddMaterial() {\r\n      this.materialVisible = true\r\n    },\r\n    // Tip 选中物料\r\n    onSelectedMaterial(list) {\r\n      if (!list.length) return\r\n      this.form.detailList = list.map(item => {\r\n        const { id, materialCode, materialName, materialAssessType, materialAssessType_dictText, batchNo, barcodeNumber, num, currentPosition, materialId, unitMeasureId, unitName, storageId, snNo, orderId } = item\r\n        return {\r\n          id,\r\n          materialCode, // 物料编号\r\n          materialName, // 物料名称\r\n          materialAssessType, // 评估类型字典值\r\n          materialAssessType_dictText, // 评估类型\r\n          batchNo, // 批次号\r\n          barcodeNumber, // 条码号\r\n          num, // 数量\r\n          currentPosition, // 存放位置\r\n          materialId, // 物料id\r\n          unitMeasureId, // 计量单位id\r\n          unitName, // 计量单位\r\n          storageId, // 仓库id\r\n          snNo, // 序列号\r\n          orderId // 订单id\r\n        }\r\n      })\r\n    },\r\n    // 页面下拉数据\r\n    getPullList() {\r\n      const apis = this.pullListConfig.map(c => c.api)\r\n      Promise.all(apis)\r\n        .then(result => {\r\n          if (result.length) {\r\n            result.forEach((c, i) => {\r\n              const dataKey = this.pullListConfig[i].dataKey\r\n              this[dataKey] = !c.code ? c.data : []\r\n            })\r\n          }\r\n        })\r\n        .catch(reason => {\r\n          console.log(reason)\r\n        })\r\n    },\r\n    // 删除物料\r\n    handleDelete(i) {\r\n      this.form.detailList.splice(i, 1)\r\n    },\r\n    // 获取详情\r\n    async getDetail() {\r\n      const res = await requestWrapper(detailApi({ billNumber: this.$route.query.billNumber }))\r\n      if (!res.success) return\r\n      this.form = res.data\r\n      this.extraInfo = res.data\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    },\r\n    // Tip 回退页面\r\n    goBack() {\r\n      const tempRoute = Object.assign({}, this.$route)\r\n      this.$store.dispatch('tagsView/delView', tempRoute)\r\n      this.$refs.form.resetFields()\r\n      this.form = INIT_FORM()\r\n      const whiteList = ['add', 'edit', 'detail']\r\n      whiteList.includes(this.pageType) ? this.$router.push({ name: 'WarehouseDischarge' }) : this.$router.go(-1)\r\n    },\r\n    // Tip 审批->通过 驳回 不通过\r\n    onAudit(auditType) {\r\n      const message = {\r\n        1: '该工单即将审批通过，是否继续？',\r\n        0: '该工单即将驳回, 是否继续?',\r\n        2: '该工单即将不通过, 是否继续?'\r\n      }[auditType]\r\n      this.$refs.form.validate(async valid => {\r\n        if (!valid) return\r\n        const diag = await promiseWrapper(this.$confirm(message, '提示', {\r\n          confirmButtonText: '确 定',\r\n          cancelButtonText: '取 消',\r\n          type: 'warning',\r\n          cancelButtonClass: 'btn-custom-cancel',\r\n          lockScroll: false\r\n        }))\r\n        if (!diag.success) return\r\n        this.buttonLoading = true\r\n        const { id: businessId } = this.$route.params\r\n        const { billNumber, taskId, processInstanceId } = this.$route.query\r\n        const res = await requestWrapper(auditApi({\r\n          businessId, // 业务ID\r\n          billNumber, // 单据编号\r\n          taskId, // 任务ID\r\n          processInstanceId, // 流程实例的ID\r\n          approval: auditType, // 审批标识\r\n          message: this.form.message\r\n        }))\r\n        this.buttonLoading = false\r\n        if (!res.success) return\r\n        this.$message({\r\n          message: `操作成功`,\r\n          type: 'success'\r\n        })\r\n        this.goBack()\r\n      })\r\n    },\r\n    // 移出仓库下拉数据\r\n    getWarehousePullList() {\r\n      return new Promise((resolve, reject) => {\r\n        getWarehouseSapPullListApi().then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.warehousePullList = data || []\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 目标仓库改变回调\r\n    targetWarehouseChange(val) {\r\n      if (val && this.form.outWarehouseId) {\r\n        if (val === this.form.outWarehouseId) {\r\n          this.$message({\r\n            message: '移出仓库和移入仓库不可相同，请重新选择',\r\n            type: 'warning'\r\n          })\r\n          this.form.inWarehouseId = ''\r\n        }\r\n      }\r\n    },\r\n    // 下拉框选中值改变的回调\r\n    handleSelectChange(bindVal) {\r\n      this.form.detailList = []\r\n    },\r\n    // 获取是否检验状态值\r\n    getIsInspectStatus() {\r\n      isInspectApi()\r\n        .then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.form.inspect = data\r\n          }\r\n          console.log(res)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    inspectChange() {\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.btn-context {\r\n  text-align: right;\r\n}\r\n::v-deep .approval-opinion {\r\n  margin: 0;\r\n  width: 100%;\r\n  .el-form-item__content {\r\n    width: 100%;\r\n  }\r\n}\r\n::v-deep .my-inspect-sty {\r\n  .el-radio-button__orig-radio:disabled+.el-radio-button__inner {\r\n    color: #606266;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=f19095b2&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=f19095b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f19095b2\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport { Notification } from 'element-ui'\r\nimport $store from '@/store'\r\nimport { getLoginPath } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst baseConfig = {\r\n  baseURL: process.env.VUE_APP_BASE_API_WMS, // api的base_url\r\n  withCredentials: true,\r\n  timeout: 30000, // request timeout\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    Accept: 'application/json'\r\n  }\r\n}\r\n\r\nconst service = axios.create(baseConfig)\r\n\r\nlet ToskTap = false\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // console.log('request', $store.getters.language)\r\n    // Do something before request is sent\r\n    if ($store.getters.token) {\r\n      // 设置token\r\n      config['responseType'] = 'blob'\r\n      config.headers['Authorization'] = `${$store.getters.token}`\r\n      // 设置语言\r\n      // config.headers['Accept-Language'] = `${$store.getters.language === 'en' ? 'en-US' : 'zh-CN'}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone interceptor\r\nservice.interceptors.response.use(\r\n  response => {\r\n    if (response && response.data) {\r\n      if (response.data.code && response.data.code === 999) {\r\n        /*\r\n        *   返回结果为错误时提示信息\r\n        */\r\n        Notification.error({\r\n          message: response.data.msg,\r\n          duration: 5 * 1000\r\n        })\r\n      }\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    let code = 0\r\n    try {\r\n      code = error.response.status\r\n    } catch (e) {\r\n      if (error.toString().indexOf('Error: timeout') !== -1) {\r\n        Notification.error({\r\n          title: '网络请求超时',\r\n          duration: 5000\r\n        })\r\n        return Promise.reject(error)\r\n      }\r\n    }\r\n    /*\r\n    *   token过期或者没有权限，踢登录，退出登录\r\n    */\r\n    if (code === 401 || code === 403) {\r\n      if (!ToskTap) {\r\n        ToskTap = true\r\n        Notification.error({\r\n          title: '登录信息已过期或者没有访问权限',\r\n          duration: 5000\r\n        })\r\n        setTimeout(() => {\r\n          ToskTap = false\r\n        }, 5000)\r\n      }\r\n      // 没有权限踢登录\r\n      $store.dispatch('resetToken').then(() => {\r\n        setTimeout(() => {\r\n          window.location.href = getLoginPath()\r\n        }, 3 * 1000)\r\n      })\r\n      return Promise.reject(error)\r\n    } else {\r\n      Notification.error({\r\n        title: error,\r\n        duration: 5000\r\n      })\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"sourceRoot":""}