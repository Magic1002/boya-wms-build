{"version":3,"sources":["webpack:///./src/apis/modules/base/baseMaterialInformation.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/apis/modules/in-storage/purchase/delivery.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./src/views/in-storage/consign/delivery/add/MaterialChoose.vue?abce","webpack:///./src/views/in-storage/consign/delivery/add/index.vue?f99f","webpack:///./src/views/in-storage/consign/delivery/add/MaterialChoose.vue?1d34","webpack:///src/views/in-storage/consign/delivery/add/MaterialChoose.vue","webpack:///./src/views/in-storage/consign/delivery/add/MaterialChoose.vue?0589","webpack:///./src/views/in-storage/consign/delivery/add/MaterialChoose.vue","webpack:///src/views/in-storage/consign/delivery/add/index.vue","webpack:///./src/views/in-storage/consign/delivery/add/index.vue?a87f","webpack:///./src/views/in-storage/consign/delivery/add/index.vue","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./src/views/in-storage/consign/delivery/add/index.vue?92ec"],"names":["getListApi","data","request","url","method","getAddApi","getEditApi","getDeleteApi","toObject","$keys","it","addListApi","timeout","updateListApi","deleteListApi","getListDetailApi","getBottomListApi","getDeliveryReceiptMaterialListApi","addBottomListApi","editBottomListApi","delBottomListApi","getBottomDetailListApi","cleanBottomDetailListApi","getBottomDetailApi","addBottomDetailListApi","addMaterialDetailCheckApi","submitBottomDetailListApi","submitListApi","getContractPullApi","getOrderPullApi","submitDeliveryToOrderApi","printApi","barcodePrintApi","materialPrintApi","allPrintApi","allGenerateApi","addMaterialPageListApi","module","exports","Object","keys","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","length","indexOf","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","on","handleGoBack","_v","staticStyle","attrs","handleNextStep","ref","form","rules","model","callback","$$v","$set","trim","status","$event","visible","refTableName","tableData","columnList","handleCellStyle","handleRowClick","scopedSlots","_u","fn","scope","handleDelete","row","index","materialIdList","map","materialId","handleChooseMaterial","staticRenderFns","title","beforeClose","initSelect","query","nativeOn","preventDefault","type","_k","keyCode","searchInit","resetForm","_b","refName","rowKey","loading","multiple","tableSelection","selectable","selectionChange","sortChange","getDynamicRow","$attrs","pageInfo","current","size","total","init","slot","handleSelectUp","handleCancelUp","handleSelectDown","handleCancelDown","handleConfirm","mixins","paginationPage","props","required","Boolean","String","default","selection","Array","max","Number","ids","extraInfo","dicts","materialCodeOrName","columnSets","deptSelectedInfo","list","radio","rowObj","methods","page","Promise","code","check","some","resolve","res","reject","err","$refs","formName","resetFields","item","ind","includes","id","findIndex","forEach","prev","$nextTick","c","next","$emit","done","onDeptSelectConfirm","usedOffice","component","components","BaseMaterial","params","view","INIT_FORM","deliveryDate","inspect","currentRow","enabled","computed","watch","mounted","$route","initBaseInfo","orderId","validate","valid","message","saveType","entity","contractNo","remarks","dmList","routeName","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","lockScroll","column","label","$store","dispatch","$router","push","backgroundColor","cellStyle","$export","core","fails","KEY","exec","exp","S","F","getOwnPropertySymbols"],"mappings":"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","file":"js/InStorageConsignDeliveryAdd.9ae21ec7.js","sourcesContent":["import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function getAddApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function getEditApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 详情\r\nexport function getDetailApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 主列表新增\r\nexport function addListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/save',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// 修改\r\nexport function updateListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取交接单详情\r\nexport function getListDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*   交接单物料列表 增删改查接口\r\n*/\r\n\r\n// 交接单分页列表\r\nexport function getBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 交接单物料列表\r\nexport function getDeliveryReceiptMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/pageListJS',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增交接单物料\r\nexport function addBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改交接单物料列表\r\nexport function editBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除交接单物料列表\r\nexport function delBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*   交接单物料明细列表 增删改查接口\r\n*/\r\n\r\n// 物料明细列表分页列表\r\nexport function getBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/dmdPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 清空物料明细列表分页列表\r\nexport function cleanBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/clear',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function getBottomDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增物料明细列表\r\nexport function addBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/generateBarcodeList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交物料明细弹窗前校验\r\nexport function addMaterialDetailCheckApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/addMaterialDetailCheck',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交物料明细弹窗\r\nexport function submitBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/addMaterialDetail',\r\n    method: 'post',\r\n    timeout: 60 * 1000,\r\n    data\r\n  })\r\n}\r\n\r\n// // 修改物料明细列表\r\n// export function editBottomDetailListApi(data={}) {\r\n//   return request({\r\n//     url: '/enterWarehouse/wmsDeliveryMaterial/edit',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// // 删除交物料明细列表\r\n// export function delBottomDetailListApi(data={}) {\r\n//   return request({\r\n//     url: '/enterWarehouse/wmsDeliveryMaterial/del',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// 提交交接单\r\nexport function submitListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/commit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*  寄售入库交接单中选择合同和选择订单\r\n*/\r\n// 合同下拉\r\nexport function getContractPullApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/allList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 订单下拉\r\nexport function getOrderPullApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/selectOrderById',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 交接单绑定订单接口\r\nexport function submitDeliveryToOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/bindOrder',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印条码\r\nexport function printApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/print',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// 条码打印（新）\r\nexport function barcodePrintApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/barcodePrint',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 单条或批量物料打印\r\nexport function materialPrintApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/materialPrint',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n// 全部打印\r\nexport function allPrintApi(data = {}) {\r\n  // 参数是：deliveryReceiptId 交接单ID\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/allPrint',\r\n    method: 'post',\r\n    data,\r\n    timeout: 3 * 60 * 1000\r\n  })\r\n}\r\n\r\n// 全部生成条码\r\nexport function allGenerateApi(data = {}) {\r\n  // 参数是：deliveryReceiptId 交接单ID\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/allGenerateMaterialBarcode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 入库管理/交接单修改 添加物料是的物料可选列表\r\nexport function addMaterialPageListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/deliveryUpdate/addMaterialPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=style&index=0&id=dd968342&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=style&index=0&id=dd968342&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"app-container\"},[_c('el-row',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"fl\"},[_c('el-button',{on:{\"click\":_vm.handleGoBack}},[_vm._v(\"返 回\")])],1),_c('div',{staticClass:\"fr\"},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleNextStep}},[_vm._v(\"下一步\")])],1)]),_c('transition',{attrs:{\"name\":\"el-zoom-in-top\"}},[_c('el-row',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"left\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"合同号\",\"prop\":\"contractNo\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写合同号\",\"disabled\":\"\"},model:{value:(_vm.form.contractNo),callback:function ($$v) {_vm.$set(_vm.form, \"contractNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.contractNo\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"订单号\",\"prop\":\"orderNo\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写订单号\",\"disabled\":\"\"},model:{value:(_vm.form.orderNo),callback:function ($$v) {_vm.$set(_vm.form, \"orderNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.orderNo\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"供应商\",\"prop\":\"supplierName\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写供应商\",\"disabled\":\"\"},model:{value:(_vm.form.supplierName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.supplierName\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"用料单位\",\"prop\":\"materialsUnit\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写用料单位\"},model:{value:(_vm.form.materialsUnit),callback:function ($$v) {_vm.$set(_vm.form, \"materialsUnit\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.materialsUnit\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"凭证日期\",\"prop\":\"deliveryDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"请选择凭证日期\",\"clearable\":false,\"editable\":false},model:{value:(_vm.form.deliveryDate),callback:function ($$v) {_vm.$set(_vm.form, \"deliveryDate\", $$v)},expression:\"form.deliveryDate\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"是否检验\",\"prop\":\"inspect\"}},[_c('el-radio-group',{staticClass:\"my-inspect-sty\",staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":_vm.form.status === 6},model:{value:(_vm.form.inspect),callback:function ($$v) {_vm.$set(_vm.form, \"inspect\", $$v)},expression:\"form.inspect\"}},[_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":1,\"placeholder\":\"请填写备注\"},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1)],1)],1)],1)],1)],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"交接单信息\")]),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.visible = true}}},[_vm._v(\"新增物料\")])],1),_c('el-row',[_c('table-com',{ref:_vm.refTableName,attrs:{\"ref-name\":'tableRef',\"table-height-type\":450,\"selection\":false,\"selection-fixed\":false,\"index\":true,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":170,\"show-operate\":true,\"cell-style\":_vm.handleCellStyle},on:{\"rowClick\":_vm.handleRowClick},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row, scope.index)}}},[_vm._v(\"删除\")])]}}])})],1),_c('base-material',{attrs:{\"extra-info\":{materialIdList: _vm.tableData.map(function (i) { return i.materialId; })}},on:{\"confirm\":_vm.handleChooseMaterial},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"1000px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('div',{staticClass:\"main-box\"},[_c('el-form',{ref:\"filterItem\",staticClass:\"top-filter clearfix\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"materialCodeOrName\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"物料编码或名称\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.materialCodeOrName),callback:function ($$v) {_vm.$set(_vm.query, \"materialCodeOrName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.materialCodeOrName\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")])],1),_c('el-row',[_c('table-com',_vm._b({ref:_vm.refName,attrs:{\"row-key\":_vm.rowKey,\"table-height-type\":490,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection,\"selectable\":_vm.selectable},on:{\"selectionChange\":_vm.selectionChange,\"sortChange\":_vm.sortChange,\"dynamicRow\":_vm.getDynamicRow}},'table-com',_vm.$attrs,false))],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-row',{staticStyle:{\"text-align\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.tableSelection.length},on:{\"click\":_vm.handleSelectUp}},[_vm._v(\"向上选中\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.tableSelection.length},on:{\"click\":_vm.handleCancelUp}},[_vm._v(\"向上取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.tableSelection.length},on:{\"click\":_vm.handleSelectDown}},[_vm._v(\"向下选中\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.tableSelection.length},on:{\"click\":_vm.handleCancelDown}},[_vm._v(\"向下取消\")])],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirm}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"1000px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <div class=\"main-box\">\r\n        <el-form ref=\"filterItem\" class=\"top-filter clearfix\" :model=\"query\" inline @submit.native.prevent>\r\n          <el-form-item prop=\"materialCodeOrName\">\r\n            <el-input v-model.trim=\"query.materialCodeOrName\" placeholder=\"物料编码或名称\" class=\"filter-item\" style=\"width: 178px;\" clearable @keyup.enter.native=\"searchInit\" />\r\n          </el-form-item>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"success\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"searchInit\"\r\n          >搜索</el-button>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-refresh-left\"\r\n            @click=\"resetForm('filterItem')\"\r\n          >重置</el-button>\r\n        </el-form>\r\n        <el-row>\r\n          <table-com\r\n            :ref=\"refName\"\r\n            :row-key=\"rowKey\"\r\n            :table-height-type=\"490\"\r\n            :loading=\"loading\"\r\n            :index=\"true\"\r\n            :index-fixed=\"false\"\r\n            :selection=\"true\"\r\n            :multiple=\"multiple\"\r\n            :selection-fixed=\"false\"\r\n            :table-column-sort=\"false\"\r\n            :table-data=\"tableData\"\r\n            :column-list=\"columnList\"\r\n            :show-operate=\"false\"\r\n            :operate-fixed=\"false\"\r\n            v-bind=\"$attrs\"\r\n            :table-selection=\"tableSelection\"\r\n            :selectable=\"selectable\"\r\n            @selectionChange=\"selectionChange\"\r\n            @sortChange=\"sortChange\"\r\n            @dynamicRow=\"getDynamicRow\"\r\n          />\r\n        </el-row>\r\n        <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n      </div>\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-row style=\"text-align: left;\">\r\n        <el-button type=\"primary\" :disabled=\"!tableSelection.length\" @click=\"handleSelectUp\">向上选中</el-button>\r\n        <el-button type=\"primary\" :disabled=\"!tableSelection.length\" @click=\"handleCancelUp\">向上取消</el-button>\r\n        <el-button type=\"primary\" :disabled=\"!tableSelection.length\" @click=\"handleSelectDown\">向下选中</el-button>\r\n        <el-button type=\"primary\" :disabled=\"!tableSelection.length\" @click=\"handleCancelDown\">向下取消</el-button>\r\n      </el-row>\r\n      <el-button type=\"primary\" @click=\"handleConfirm\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi as getListApi } from '@/apis/modules/base/baseMaterialInformation'\r\n\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        materialCodeOrName: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'code',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'name',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'spec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'description',\r\n          label: '物料描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitMeasureName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: 175,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'type_dictText',\r\n          label: '物料类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'minOutboundUnitName',\r\n          label: '最小单位SKU',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'isExpirationDate',\r\n          label: '是否有保质期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: (c) => c.isExpirationDate === 0 ? '否' : '是'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupCode',\r\n          label: '物料组编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupDescription',\r\n          label: '物料组描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'dataSources_dictText',\r\n          label: '数据来源',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      rowObj: {},\r\n      rowKey: 'id'\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        ...this.extraInfo,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n            try {\r\n              const ids = this.tableSelection.map(i => i[this.rowKey])\r\n              // 设置操作项开始\r\n              const curPageCheckeds = this.tableData.filter(c => ids.includes(c.id)) // 当前页选中项\r\n              this.rowObj = curPageCheckeds.length ? curPageCheckeds[curPageCheckeds.length - 1] : {} // 初始化设置最后一个选中项为操作项\r\n              // 设置操作项结束\r\n              const rowKey = this.rowKey\r\n              this.tableData.forEach(row => {\r\n                function check(row) {\r\n                  const id = row[rowKey]\r\n                  return ids.some(i => i === id)\r\n                }\r\n                if (check(row)) {\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n            } catch (error) {\r\n              console.log('捕获错误：', error)\r\n            }\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 表格自定义排序\r\n    sortChange({ column, prop, order }) {\r\n      // this.init()\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    },\r\n    // 初始化\r\n    initSelect() {\r\n      this.searchInit()\r\n    },\r\n    // 选项改变\r\n    selectionChange(arr) {\r\n      this.tableSelection = [...arr]\r\n    },\r\n    // 当用户手动勾选数据行的 Checkbox 时触发的事件的回调，参数为当前勾选行\r\n    getDynamicRow(item) {\r\n      this.rowObj = item\r\n    },\r\n    // 向上选中\r\n    handleSelectUp() {\r\n      // 所有选中项\r\n      const ids = this.tableSelection.map(i => i[this.rowKey])\r\n      // 当前页选中项\r\n      const curPageCheckeds = this.tableData.filter(c => ids.includes(c.id))\r\n      let ind = -1 // 当前操作项索引位置\r\n      let prev = [] // 向上的数据\r\n      if (Object.keys(this.rowObj).length) { // 证明当前页存在操作项\r\n        if (!ids.includes(this.rowObj.id)) { // 证明当前页操作项取消了勾选\r\n          ind = this.tableData.findIndex(c => c.id === curPageCheckeds[curPageCheckeds.length - 1].id)\r\n        } else {\r\n          ind = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n        }\r\n      }\r\n      this.tableData.forEach((item, index, arr) => {\r\n        if (ind !== -1) {\r\n          if (index < ind) {\r\n            prev = [...prev, item]\r\n          }\r\n          this.rowObj = arr[ind] // 重新设置操作项\r\n        }\r\n      })\r\n      this.$nextTick(() => {\r\n        prev.forEach(c => {\r\n          !ids.includes(c.id) && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, true)\r\n        })\r\n      })\r\n    },\r\n    // 向上取消\r\n    handleCancelUp() {\r\n      // 所有选中项\r\n      const ids = this.tableSelection.map(i => i[this.rowKey])\r\n      // 当前页选中项\r\n      const curPageCheckeds = this.tableData.filter(c => ids.includes(c.id))\r\n      let ind = -1 // 当前操作项索引位置\r\n      let prev = [] // 向上的数据\r\n      if (Object.keys(this.rowObj).length) { // 证明存在操作项\r\n        if (!ids.includes(this.rowObj.id)) { // 证明操作项取消了勾选\r\n          ind = this.tableData.findIndex(c => c.id === curPageCheckeds[curPageCheckeds.length - 1].id)\r\n        } else {\r\n          ind = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n        }\r\n      }\r\n      this.tableData.forEach((item, index, arr) => {\r\n        if (ind !== -1) {\r\n          if (index < ind) {\r\n            prev = [...prev, item]\r\n          }\r\n          this.rowObj = arr[ind] // 重新设置操作项\r\n        }\r\n      })\r\n      this.$nextTick(() => {\r\n        prev.forEach(c => {\r\n          ids.includes(c.id) && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, false)\r\n        })\r\n      })\r\n    },\r\n    // 向下选中\r\n    handleSelectDown() {\r\n      // 所有选中项\r\n      const ids = this.tableSelection.map(i => i[this.rowKey])\r\n      // 当前页选中项\r\n      const curPageCheckeds = this.tableData.filter(c => ids.includes(c.id))\r\n      let ind = -1 // 当前操作项索引位置\r\n      let next = [] // 向下的数据\r\n      if (Object.keys(this.rowObj).length) { // 证明存在操作项\r\n        if (!ids.includes(this.rowObj.id)) { // 证明操作项取消了勾选\r\n          ind = this.tableData.findIndex(c => c.id === curPageCheckeds[curPageCheckeds.length - 1].id)\r\n        } else {\r\n          ind = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n        }\r\n      }\r\n      this.tableData.forEach((item, index, arr) => {\r\n        if (ind !== -1) {\r\n          if (index > ind) {\r\n            next = [...next, item]\r\n          }\r\n          this.rowObj = arr[ind] // 重新设置操作项\r\n        }\r\n      })\r\n      this.$nextTick(() => {\r\n        next.forEach(c => {\r\n          !ids.includes(c.id) && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, true)\r\n        })\r\n      })\r\n    },\r\n    // 向下取消\r\n    handleCancelDown() {\r\n      // 所有选中项\r\n      const ids = this.tableSelection.map(i => i[this.rowKey])\r\n      // 当前页选中项\r\n      const curPageCheckeds = this.tableData.filter(c => ids.includes(c.id))\r\n      let ind = -1 // 当前操作项索引位置\r\n      let next = [] // 向下的数据\r\n      if (Object.keys(this.rowObj).length) { // 证明存在操作项\r\n        if (!ids.includes(this.rowObj.id)) { // 证明操作项取消了勾选\r\n          ind = this.tableData.findIndex(c => c.id === curPageCheckeds[curPageCheckeds.length - 1].id)\r\n        } else {\r\n          ind = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n        }\r\n      }\r\n      this.tableData.forEach((item, index, arr) => {\r\n        if (ind !== -1) {\r\n          if (index > ind) {\r\n            next = [...next, item]\r\n          }\r\n          this.rowObj = arr[ind] // 重新设置操作项\r\n        }\r\n      })\r\n      this.$nextTick(() => {\r\n        next.forEach(c => {\r\n          ids.includes(c.id) && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, false)\r\n        })\r\n      })\r\n    },\r\n    // 关闭\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      typeof done === 'function' && done()\r\n      this.tableSelection = new Array(0)\r\n      this.$refs['filterItem'].resetFields()\r\n    },\r\n    // 确定\r\n    handleConfirm() {\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    // 注意：此方法貌似废弃了\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    // Tip 控制表格某行是否可被勾选\r\n    selectable(row, index) {\r\n      // this.selection 之前勾选的项\r\n      return !this.selection.includes(row.id) // 选过就禁止再选\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n.main-box {\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialChoose.vue?vue&type=template&id=dd968342&scoped=true&\"\nimport script from \"./MaterialChoose.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialChoose.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialChoose.vue?vue&type=style&index=0&id=dd968342&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd968342\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-loading=\"loading\" class=\"app-container\">\r\n    <el-row class=\"clearfix\">\r\n      <div class=\"fl\">\r\n        <el-button @click=\"handleGoBack\">返 回</el-button>\r\n      </div>\r\n      <div class=\"fr\">\r\n        <el-button type=\"primary\" style=\"margin-right: 10px;\" @click=\"handleNextStep\">下一步</el-button>\r\n      </div>\r\n    </el-row>\r\n    <!-- 基础交接单信息 -->\r\n    <transition name=\"el-zoom-in-top\">\r\n      <el-row>\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" label-position=\"left\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"合同号\" prop=\"contractNo\">\r\n                <el-input\r\n                  v-model.trim=\"form.contractNo\"\r\n                  placeholder=\"请填写合同号\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"订单号\" prop=\"orderNo\">\r\n                <el-input\r\n                  v-model.trim=\"form.orderNo\"\r\n                  placeholder=\"请填写订单号\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"供应商\" prop=\"supplierName\">\r\n                <el-input\r\n                  v-model.trim=\"form.supplierName\"\r\n                  placeholder=\"请填写供应商\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"用料单位\" prop=\"materialsUnit\">\r\n                <el-input\r\n                  v-model.trim=\"form.materialsUnit\"\r\n                  placeholder=\"请填写用料单位\"\r\n                  style=\"width: 100%;\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"凭证日期\" prop=\"deliveryDate\">\r\n                <el-date-picker\r\n                  v-model=\"form.deliveryDate\"\r\n                  type=\"date\"\r\n                  style=\"width: 100%;\"\r\n                  value-format=\"yyyy-MM-dd\"\r\n                  placeholder=\"请选择凭证日期\"\r\n                  :clearable=\"false\"\r\n                  :editable=\"false\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"是否检验\" prop=\"inspect\">\r\n                <!-- 交接单状态为待更新需要禁用(已驳回交接单的状态会变为待更新) -->\r\n                <el-radio-group v-model=\"form.inspect\" :disabled=\"form.status === 6\" style=\"width: 178px;\" class=\"my-inspect-sty\">\r\n                  <el-radio-button :label=\"true\">是</el-radio-button>\r\n                  <el-radio-button :label=\"false\">否</el-radio-button>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"备注\" prop=\"remarks\">\r\n                <el-input v-model=\"form.remarks\" type=\"textarea\" :rows=\"1\" placeholder=\"请填写备注\" />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      </el-row>\r\n    </transition>\r\n    <!-- 交接单物料信息 -->\r\n    <el-divider content-position=\"left\">交接单信息</el-divider>\r\n    <el-row>\r\n      <el-button type=\"primary\" @click=\"visible = true\">新增物料</el-button>\r\n    </el-row>\r\n    <!-- 交接单物料信息 -->\r\n    <el-row>\r\n      <table-com\r\n        :ref=\"refTableName\"\r\n        :ref-name=\"'tableRef'\"\r\n        :table-height-type=\"450\"\r\n        :selection=\"false\"\r\n        :selection-fixed=\"false\"\r\n        :index=\"true\"\r\n        :table-column-sort=\"false\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"170\"\r\n        :show-operate=\"true\"\r\n        :cell-style=\"handleCellStyle\"\r\n        @rowClick=\"handleRowClick\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" @click=\"handleDelete(scope.row, scope.index)\">删除</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n\r\n    <!-- 基础物料(仅限订单类型为寄售)  -->\r\n    <base-material\r\n      v-model=\"visible\"\r\n      :extra-info=\"{materialIdList: tableData.map(i => i.materialId)}\"\r\n      @confirm=\"handleChooseMaterial\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport paginationPage from '@/mixins/paginationPage'\r\n// 所有物料(来源：基础数据/物料信息)\r\nimport BaseMaterial from './MaterialChoose'\r\nimport { getListDetailApi as getDetailApi, addListApi } from '@/apis/modules/in-storage/purchase/delivery'\r\nimport moment from 'moment'\r\nmoment.locale('zh-cn')\r\n\r\nconst INIT_FORM = () => ({\r\n  no: '', // 交接单号\r\n  contractNo: '', // 合同编号\r\n  orderNo: '', // 订单号\r\n  supplierName: '', // 供应商\r\n  materialsUnit: '', // 用料单位\r\n  deliveryDate: '', // 交货日期\r\n  inspect: true, // 是否检验\r\n  orderType: '', // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n  remarks: '', // 备注\r\n  status: null // 交接单状态\r\n})\r\n\r\nexport default {\r\n  name: 'InStorageConsignDeliveryAdd', // 此处设置name是为了保证来回切换页面的时候，交接单新增页数据始终被缓存在页面\r\n  components: {\r\n    BaseMaterial\r\n  },\r\n  mixins: [paginationPage],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      query: {},\r\n      tableData: [],\r\n      refTableName: 'baseTableRef',\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          minWidth: null,\r\n          label: '物料编码',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'materialCode'\r\n        },\r\n        {\r\n          module: 'word',\r\n          minWidth: null,\r\n          label: '物料名称',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'materialName'\r\n        },\r\n        {\r\n          module: 'word',\r\n          minWidth: null,\r\n          label: '规格型号',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'materialSpec'\r\n        },\r\n        {\r\n          module: 'word',\r\n          minWidth: null,\r\n          label: '评估类型',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'materialAssessType_dictText'\r\n        },\r\n        {\r\n          module: 'word',\r\n          minWidth: null,\r\n          label: '计量单位',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'unitMeasureName'\r\n        },\r\n        // {\r\n        //   module: 'input',\r\n        //   minWidth: 160,\r\n        //   label: '申请人',\r\n        //   sortable: false,\r\n        //   align: 'center',\r\n        //   headAlign: 'center',\r\n        //   resizable: true,\r\n        //   fixed: false,\r\n        //   prop: 'applicant',\r\n        //   showOverflowTooltip: false\r\n        // },\r\n        {\r\n          module: 'number',\r\n          minWidth: 160,\r\n          label: '本次到货数量',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          setMin: (row) => 0,\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'deliveryNumber',\r\n          handleChange: _.throttle((row) => {\r\n          }, 1000),\r\n          setPrecision: (row) => 3,\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'number',\r\n          minWidth: 160,\r\n          label: '单价',\r\n          sortable: false,\r\n          align: 'center',\r\n          headAlign: 'center',\r\n          setMin: (row) => 0,\r\n          resizable: true,\r\n          fixed: false,\r\n          prop: 'price',\r\n          handleChange: _.throttle((row) => {\r\n          }, 1000),\r\n          setPrecision: (row) => 2,\r\n          showOverflowTooltip: false\r\n        }\r\n      ],\r\n      params: {\r\n        id: '', // 交接单id\r\n        view: 'add'\r\n      },\r\n      form: INIT_FORM(),\r\n      rules: {\r\n        deliveryDate: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        inspect: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ]\r\n      },\r\n      currentRow: null,\r\n      visible: false,\r\n      enabled: true\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  watch: {\r\n  },\r\n  mounted() {\r\n    this.params = this.$route.params\r\n    this.initBaseInfo() // 获取交接单信息并填充(里头有订单类型orderType字段)\r\n  },\r\n  methods: {\r\n    // 基础交接单信息获取\r\n    initBaseInfo() {\r\n      this.loading = true\r\n      // 以下两个入参二选一，当新增交接单时，则需要传入订单ID，初始化部分数据，编辑交接单时传入当前交接单ID，不可两个都传入\r\n      const params = {\r\n        orderId: this.params.orderId\r\n      }\r\n      // 查看交接单详情\r\n      return new Promise((resolve, reject) => {\r\n        getDetailApi(params).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.form = { ...data }\r\n            // 凭证日期，设置缺省日期\r\n            this.form.deliveryDate = data.deliveryDate || moment().format('YYYY-MM-DD')\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 交接单保存回调\r\n    handleNextStep() {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (!valid) return\r\n        if (!this.tableData.length) {\r\n          this.$notify.warning({\r\n            title: '警告',\r\n            message: '请选择物料'\r\n          })\r\n          return\r\n        }\r\n        // if (this.tableData.some(c => !c.applicant)) {\r\n        //   this.$notify.error({\r\n        //     title: '错误',\r\n        //     message: '本次添加的物料申请人有存在为空的情况，请调整'\r\n        //   })\r\n        //   return\r\n        // }\r\n        if (this.tableData.some(c => c.deliveryNumber === 0)) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '本次添加的物料到货数量有存在为0的情况，请调整'\r\n          })\r\n          return\r\n        }\r\n        if (this.tableData.some(c => c.price === 0)) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '本次添加的物料有单价存在为0的情况，请调整'\r\n          })\r\n          return\r\n        }\r\n        const params = {\r\n          saveType: 1, // add - 物料  modify- 交接单\r\n          entity: {\r\n            orderId: this.params.orderId, // 采购订单id\r\n            type: this.form.orderType, // 交接单类型--根据订单入口传入不同值，枚举值:1 2 3 4(采购交接单、外协交接单、寄售交接单、成品交接单)\r\n            contractNo: this.form.contractNo, // 合同编号\r\n            deliveryDate: this.form.deliveryDate, // 凭证日期\r\n            inspect: this.form.inspect, // 是否检验\r\n            remarks: this.form.remarks // 备注\r\n          },\r\n          // dmList: this.tableData.map(c => ({ materialId: c.materialId, applicant: c.applicant, deliveryNumber: c.deliveryNumber, price: c.price }))\r\n          dmList: this.tableData.map(c => ({ materialId: c.materialId, deliveryNumber: c.deliveryNumber, price: c.price }))\r\n        }\r\n\r\n        addListApi(params).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.$set(this.form, 'id', data) // 生成交接单id\r\n            this.$store.dispatch('tagsView/delView', this.$route)\r\n            this.$router.push({\r\n              name: 'InStorageConsignDeliveryModify',\r\n              params: {\r\n                view: 'modify',\r\n                orderId: this.params.orderId, // 订单id\r\n                id: this.form.id, // 交接单id\r\n                type: this.form.orderType, // 订单类型\r\n                routeName: this.$route.name // 路由名称\r\n              }\r\n            })\r\n          }\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      })\r\n    },\r\n    // 删除底部交接单物料\r\n    handleDelete(item, i) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        this.tableData.splice(i, 1)\r\n        this.$message({\r\n          message: '删除成功',\r\n          type: 'success'\r\n        })\r\n      }).catch(() => {\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    // 表格行内点击回调\r\n    handleRowClick({ row, column, cell, event }) {\r\n      this.currentRow = row\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    },\r\n    // 寄售单 选择物料\r\n    handleChooseMaterial(materialList = []) {\r\n      const dmList = materialList.map(c => ({\r\n        ...c,\r\n        materialCode: c.code, // 物料编码\r\n        materialName: c.name, // 物料名称\r\n        materialSpec: c.spec, // 规格型号\r\n        materialAssessType_dictText: c.assessType_dictText, // 评估类型\r\n        unitMeasureName: c.unitMeasureName, // 计量单位\r\n        // applicant: '', // 申请人\r\n        deliveryNumber: 0, // 本次到货数量\r\n        price: 0,\r\n        materialId: c.id // 物料id\r\n      }))\r\n      dmList.forEach(c => {\r\n        this.tableData.push(c)\r\n      })\r\n    },\r\n    // 关闭并返回页面\r\n    handleGoBack() {\r\n      this.$store.dispatch('tagsView/delView', this.$route)\r\n      this.$router.push({\r\n        name: this.params.routeName,\r\n        params: this.$route.query.extraInfo || {}\r\n      })\r\n    },\r\n    // 点击哪行高亮哪行\r\n    handleCellStyle({ row }) {\r\n      const cellStyle = {\r\n        backgroundColor: row === this.currentRow ? '#409EFF' : ''\r\n      }\r\n      return cellStyle\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-form-item__content {\r\n    line-height: 0;\r\n}\r\n::v-deep .my-inspect-sty {\r\n  .el-radio-button__orig-radio:disabled+.el-radio-button__inner {\r\n    color: #606266;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3666b20d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3666b20d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3666b20d\",\n  null\n  \n)\n\nexport default component.exports","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3666b20d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3666b20d&lang=scss&scoped=true&\""],"sourceRoot":""}