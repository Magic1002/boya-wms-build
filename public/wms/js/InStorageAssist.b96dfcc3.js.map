{"version":3,"sources":["webpack:///./src/apis/modules/in-storage/purchase/index.js","webpack:///./src/components/ModalSelect/Material.vue?40f0","webpack:///src/components/ModalSelect/Material.vue","webpack:///./src/components/ModalSelect/Material.vue?ddb1","webpack:///./src/components/ModalSelect/Material.vue","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./src/views/in-storage/assist/AddDialog.vue?281a","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./src/views/in-storage/assist/index.vue?a03f","webpack:///./src/views/in-storage/assist/Dialog.vue?3b69","webpack:///src/views/in-storage/assist/Dialog.vue","webpack:///./src/views/in-storage/assist/Dialog.vue?a710","webpack:///./src/views/in-storage/assist/Dialog.vue","webpack:///./src/views/in-storage/assist/AddDialog.vue?b21c","webpack:///src/views/in-storage/assist/AddDialog.vue","webpack:///./src/views/in-storage/assist/AddDialog.vue?77ba","webpack:///./src/views/in-storage/assist/AddDialog.vue","webpack:///./src/apis/modules/in-storage/assist/index.js","webpack:///src/views/in-storage/assist/index.vue","webpack:///./src/views/in-storage/assist/index.vue?47f2","webpack:///./src/views/in-storage/assist/index.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./src/views/in-storage/assist/Dialog.vue?09df","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./src/apis/request.download.js","webpack:///./src/components/ModalSelect/Material.vue?f1ea"],"names":["getTreeListApi","data","request","url","method","getContractDetailApi","addTreeListApi","editTreeListApi","delTreeListApi","getTreeNodeDetailApi","timeout","Infinity","getListApi","getListNewApi","addOrderApi","editOrderApi","getOrderApi","modifyOrderRemarkApi","getPurchaseOrderHistoryApi","exportOrderMaterialDetailApi","download","printOrderDetailApi","allMaterialListApi","delOrderMaterialApi","render","_vm","this","_h","$createElement","_c","_self","attrs","title","value","beforeClose","on","initSelect","staticClass","ref","query","nativeOn","$event","preventDefault","staticStyle","model","callback","$$v","$set","expression","searchInit","_v","refName","loading","multiple","tableData","columnList","tableSelection","selectionChange","pageInfo","current","size","total","init","slot","confirmDialog","staticRenderFns","name","mixins","paginationPage","props","required","type","Boolean","String","default","selection","Array","max","Number","ids","extraInfo","Object","dicts","materialCodeOrName","columnSets","deptSelectedInfo","list","visible","radio","methods","$emit","materialIdList","page","Promise","code","uuid","deliveryNumber","resolve","res","reject","err","handleUpdateTableSelected","handleDefault","done","onDeptSelectConfirm","length","usedOffice","resetForm","$refs","formName","resetFields","component","toObject","$keys","it","module","exports","keys","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","$export","core","fails","KEY","exec","fn","exp","S","F","trim","endDate","disabledDate","time","getTime","Date","startDate","handleAdd","formIdent","refreshKey","expandList","handleRowClick","scopedSlots","_u","scope","handleModify","row","handleViewDeliveryOrder","handleAddDeliveryOrder","dialogForm","editType","dialogVisible","dialogTitle","addDialogVisible","id","refresh","form","rules","selectInfo","materielSelectInfo","handleDelete","handleConfirm","_s","onSelectConfirm","map","materialId","onMaterielSelectConfirm","purchaseDate","materialsUnit","phone","contact","supplierId","supplierName","dataSources","materialShow","wmsOrderMaterialJoinList","components","ModelSelect","ModelSelectMateriel","node","orderType","watch","handler","immediate","deep","validate","valid","contractId","message","orderId","orderMaterialId","orderNum","price","materialName","materialCode","materialSpec","spec","unitMaterial","unitName","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","lockScroll","column","label","rightObj","EditDialog","AddDialog","$route","meta","nameOrCode","supplierPullList","computed","mounted","$router","push","params","item","view","routeName","getOwnPropertySymbols","baseConfig","baseURL","process","withCredentials","headers","Accept","service","axios","create","ToskTap","interceptors","use","config","$store","getters","token","error","response","Notification","msg","duration","status","e","toString","setTimeout","dispatch","then","window","location","href","getLoginPath"],"mappings":"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","file":"js/InStorageAssist.b96dfcc3.js","sourcesContent":["import request from '@/apis/request.wms'\r\nimport download from '@/apis/request.download'\r\n\r\n// 获取树列表\r\nexport function getTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/treeList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 合同详情\r\nexport function getContractDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增树列表\r\nexport function addTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改树列表\r\nexport function editTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除树列表\r\nexport function delTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 点击树查询右侧详情\r\nexport function getTreeNodeDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/detail',\r\n    method: 'post',\r\n    data,\r\n    timeout: Infinity\r\n  })\r\n}\r\n\r\n// 查看订单下的物料信息分页列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/listMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getListNewApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/orderMaterialTabInfo',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增采购订单\r\nexport function addOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改采购订单\r\nexport function editOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除采购订单\r\nexport function getOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 注意此接口已废弃 获取物料信息\r\nexport function getMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/pageListMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改采购订单备注\r\nexport function modifyOrderRemarkApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/editRemarks',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取采购订单历史(需传订单id)\r\nexport function getPurchaseOrderHistoryApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/listDeliveryReceiptHistory',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 导出采购订单和物料明细\r\nexport function exportOrderMaterialDetailApi(data = {}) {\r\n  return download({\r\n    url: '/enterWarehouse/WmsOrder/export',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印采购订单和物料明细\r\nexport function printOrderDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 采购订单-全部页签 自定义字段列表接口\r\nexport function allMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/allMaterialList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除订单物料\r\nexport function delOrderMaterialApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/delOrderMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"materialCodeOrName\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"物料编码或名称\"},model:{value:(_vm.query.materialCodeOrName),callback:function ($$v) {_vm.$set(_vm.query, \"materialCodeOrName\", $$v)},expression:\"query.materialCodeOrName\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")])],1)],1),_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":false,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <div class=\"clearfix top-filter\">\r\n        <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n          <el-form-item prop=\"materialCodeOrName\" class=\"fl\">\r\n            <el-input v-model=\"query.materialCodeOrName\" filterable clearable placeholder=\"物料编码或名称\" style=\"width: 178px;\" class=\"filter-item\" />\r\n          </el-form-item>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"success\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"searchInit\"\r\n          >搜索</el-button>\r\n          <!-- <el-button\r\n              class=\"filter-item\"\r\n              type=\"warning\"\r\n              icon=\"el-icon-refresh-left\"\r\n              @click=\"resetForm('filterItem')\"\r\n            >重置</el-button> -->\r\n        </el-form>\r\n      </div>\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"false\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi as getListSelectApi } from '@/apis/modules/base/baseMaterialInformation'\r\n\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        materialCodeOrName: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'code',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'name',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'spec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'description',\r\n          label: '物料描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'type_dictText',\r\n          label: '物料类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'minOutboundUnitName',\r\n          label: '最小单位SKU',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'isExpirationDate',\r\n          label: '是否有保质期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: (c) => c.isExpirationDate === 0 ? '否' : '是'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupCode',\r\n          label: '物料组编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupDescription',\r\n          label: '物料组描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'dataSources_dictText',\r\n          label: '数据来源',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'deliveryNumber',\r\n          label: '本次到货数量',\r\n          align: 'center',\r\n          minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 0\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          }\r\n          // setMax: (row) => {\r\n          //   return row.orderNum\r\n          // }\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        materialIdList: this.ids,\r\n        ...this.extraInfo,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: 0,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    // Tip 重置检索项表单\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Material.vue?vue&type=template&id=d25cbdd0&scoped=true&\"\nimport script from \"./Material.vue?vue&type=script&lang=js&\"\nexport * from \"./Material.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Material.vue?vue&type=style&index=0&id=d25cbdd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d25cbdd0\",\n  null\n  \n)\n\nexport default component.exports","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDialog.vue?vue&type=style&index=0&id=1b7cf3fd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDialog.vue?vue&type=style&index=0&id=1b7cf3fd&lang=scss&scoped=true&\"","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"}},[_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"code\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"订单号\"},model:{value:(_vm.query.code),callback:function ($$v) {_vm.$set(_vm.query, \"code\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.code\"}})],1),_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"nameOrCode\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"供应商名称或编号\"},model:{value:(_vm.query.nameOrCode),callback:function ($$v) {_vm.$set(_vm.query, \"nameOrCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.nameOrCode\"}})],1),_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"startDate\"}},[_c('el-date-picker',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"开始时间\"},on:{\"change\":function($event){_vm.query.endDate = ''}},model:{value:(_vm.query.startDate),callback:function ($$v) {_vm.$set(_vm.query, \"startDate\", $$v)},expression:\"query.startDate\"}})],1),_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"endDate\"}},[_c('el-date-picker',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"结束时间\",\"picker-options\":{disabledDate: function (time) { return time.getTime() < new Date(_vm.query.startDate).getTime(); }}},model:{value:(_vm.query.endDate),callback:function ($$v) {_vm.$set(_vm.query, \"endDate\", $$v)},expression:\"query.endDate\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增订单（测试）\")])],1)],1),_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"selection\":false,\"table-column-sort\":true,\"form-ident\":_vm.formIdent,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":300,\"refresh-key\":_vm.refreshKey,\"expand-list\":_vm.expandList},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleModify(scope.row)}}},[_vm._v(\"详细\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleViewDeliveryOrder(scope.row)}}},[_vm._v(\"显示交接单\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddDeliveryOrder(scope.row)}}},[_vm._v(\"新增交接单\")])]}}])})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}}),_c('edit-dialog',{attrs:{\"dialog-form\":_vm.dialogForm,\"edit-type\":_vm.editType,\"type\":_vm.type},model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:\"dialogVisible\"}}),_c('add-dialog',{attrs:{\"dialog-form\":_vm.dialogForm,\"edit-type\":_vm.editType,\"title\":_vm.dialogTitle,\"order-type\":_vm.type},on:{\"confirm\":_vm.init},model:{value:(_vm.addDialogVisible),callback:function ($$v) {_vm.addDialogVisible=$$v},expression:\"addDialogVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":580,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":true,\"selection\":false,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"580\"\r\n          :loading=\"loading\"\r\n          :index=\"true\"\r\n          :index-fixed=\"true\"\r\n          :selection=\"false\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <!-- <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" /> -->\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi as getListSelectApi } from '@/apis/modules/in-storage/purchase'\r\n\r\nexport default {\r\n  name: 'InStorageConsignDetail',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '订单详情'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dialogForm: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      type: 1,\r\n      loading: false,\r\n      refName: 'InStorageConsignDetail',\r\n      query: {},\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'orderNum',\r\n          label: '订单数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitMaterial',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n        // {\r\n        //   module: 'word',\r\n        //   prop: 'deliveredNumber',\r\n        //   label: '日期',\r\n        //   align: 'center',\r\n        //   minWidth: '',\r\n        //   fixed: false,\r\n        //   sortable: false,\r\n        //   resizable: true,\r\n        //   headerAlign: 'center'\r\n        // }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: []\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        type: this.type,\r\n        materialIdList: [],\r\n        id: this.dialogForm.id,\r\n        ...this.extraInfo\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.tableData = data\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    refresh() {\r\n      // 更新分页\r\n      this.init('clean')\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=13c0428c&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=13c0428c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13c0428c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-drawer',{attrs:{\"center\":true,\"append-to-body\":true,\"close-on-press-escape\":false,\"wrapper-closable\":false,\"title\":_vm.title,\"visible\":_vm.value,\"size\":\"70%\",\"destroy-on-close\":true,\"direction\":\"btt\",\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"inline\":\"\",\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-scrollbar',{staticClass:\"scroll-drawer\"},[_c('el-form-item',{attrs:{\"label\":\"订单编号\",\"prop\":\"code\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":_vm.editType !== 'add',\"placeholder\":\"请输入订单编号\"},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"供应商选择\",\"prop\":\"supplierId\"}},[[_c('div',{staticClass:\"selected-wrapper\"},[_c('el-input',{staticStyle:{\"width\":\"143px\"},attrs:{\"disabled\":\"\",\"placeholder\":\"请选择内容\"},model:{value:(_vm.form.supplierName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.supplierName\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"5px\",\"padding-left\":\"0\",\"padding-right\":\"0\",\"width\":\"30px\"},attrs:{\"plain\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.selectInfo.visible = true}}})],1)]],2),_c('el-form-item',{attrs:{\"label\":\"采购日期\",\"prop\":\"purchaseDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"178px\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"请选择采购日期\",\"clearable\":false},model:{value:(_vm.form.purchaseDate),callback:function ($$v) {_vm.$set(_vm.form, \"purchaseDate\", $$v)},expression:\"form.purchaseDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用料单位\",\"prop\":\"materialsUnit\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"请输入用料单位\"},model:{value:(_vm.form.materialsUnit),callback:function ($$v) {_vm.$set(_vm.form, \"materialsUnit\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.materialsUnit\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系人\",\"prop\":\"contact\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"请填写联系人\"},model:{value:(_vm.form.contact),callback:function ($$v) {_vm.$set(_vm.form, \"contact\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.contact\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系人电话\",\"prop\":\"phone\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"请填写联系人电话\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.phone\"}})],1),_c('el-row',{staticStyle:{\"padding\":\"0 10px\"}},[_c('divider',[_vm._v(\"物料信息\")]),_c('el-row',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.materielSelectInfo.visible = true}}},[_vm._v(\"新建\")])],1),_c('table-com',{key:_vm.refreshKey,ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"index\":true,\"selection\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"table-height-type\":300,\"operation-width\":100,\"expand-list\":_vm.expandList,\"table-column-sort\":false},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('div',{staticClass:\"drawer-footer\"},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleConfirm('form')}}},[_vm._v(_vm._s(_vm.loading ? '提交中 ...' : '确 定'))]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1),_c('model-select',{attrs:{\"multiple\":false},on:{\"confirm\":_vm.onSelectConfirm},model:{value:(_vm.selectInfo.visible),callback:function ($$v) {_vm.$set(_vm.selectInfo, \"visible\", $$v)},expression:\"selectInfo.visible\"}}),_c('model-select-materiel',{attrs:{\"ids\":_vm.tableData.map(function (i) { return i.materialId; })},on:{\"confirm\":_vm.onMaterielSelectConfirm},model:{value:(_vm.materielSelectInfo.visible),callback:function ($$v) {_vm.$set(_vm.materielSelectInfo, \"visible\", $$v)},expression:\"materielSelectInfo.visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-drawer\r\n    :center=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-press-escape=\"false\"\r\n    :wrapper-closable=\"false\"\r\n    :title=\"title\"\r\n    :visible=\"value\"\r\n    size=\"70%\"\r\n    :destroy-on-close=\"true\"\r\n    direction=\"btt\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-form ref=\"form\" :model=\"form\" inline :rules=\"rules\" label-width=\"120px\">\r\n      <el-scrollbar class=\"scroll-drawer\">\r\n        <el-form-item label=\"订单编号\" prop=\"code\">\r\n          <el-input v-model.trim=\"form.code\" :disabled=\"editType !== 'add'\" placeholder=\"请输入订单编号\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"供应商选择\" prop=\"supplierId\">\r\n          <template>\r\n            <div class=\"selected-wrapper\">\r\n              <el-input v-model.trim=\"form.supplierName\" disabled placeholder=\"请选择内容\" style=\"width: 143px;\" />\r\n              <el-button plain type=\"primary\" style=\"margin-left:5px;padding-left:0;padding-right:0;width:30px\" icon=\"el-icon-search\" @click=\"selectInfo.visible = true\" />\r\n            </div>\r\n          </template>\r\n        </el-form-item>\r\n        <el-form-item label=\"采购日期\" prop=\"purchaseDate\">\r\n          <el-date-picker\r\n            v-model=\"form.purchaseDate\"\r\n            type=\"date\"\r\n            style=\"width: 178px;\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择采购日期\"\r\n            :clearable=\"false\"\r\n          />\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"订单金额\" prop=\"orderAmount\">\r\n          <el-input-number v-model=\"form.orderAmount\" placeholder=\"请输入订单金额\" :min=\"0\" style=\"width: 178px;\" />\r\n        </el-form-item> -->\r\n        <el-form-item label=\"用料单位\" prop=\"materialsUnit\">\r\n          <!-- <el-input-number v-model=\"form.materialsUnit\" placeholder=\"请输入用料单位\" :min=\"0\" style=\"width: 178px;\" /> -->\r\n          <el-input v-model.trim=\"form.materialsUnit\" placeholder=\"请输入用料单位\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"订单类型\" prop=\"type\">\r\n          <el-input-number v-model=\"form.type\" placeholder=\"请输入订单类型\" :min=\"0\" style=\"width: 178px;\" />\r\n        </el-form-item> -->\r\n        <el-form-item label=\"联系人\" prop=\"contact\">\r\n          <el-input v-model.trim=\"form.contact\" placeholder=\"请填写联系人\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人电话\" prop=\"phone\">\r\n          <el-input v-model.trim=\"form.phone\" placeholder=\"请填写联系人电话\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"数据来源\" prop=\"dataSources\">\r\n          <el-input v-model.trim=\"form.dataSources\" placeholder=\"请填写数据来源\" style=\"width: 178px;\" />\r\n        </el-form-item> -->\r\n\r\n        <el-row style=\"padding: 0 10px;\">\r\n          <divider>物料信息</divider>\r\n          <el-row style=\"margin: 10px 0;\">\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"materielSelectInfo.visible = true\">新建</el-button>\r\n          </el-row>\r\n          <table-com\r\n            :key=\"refreshKey\"\r\n            ref=\"baseTableRef\"\r\n            :loading=\"loading\"\r\n            :index=\"true\"\r\n            :selection=\"false\"\r\n            :table-data=\"tableData\"\r\n            :column-list=\"columnList\"\r\n            :table-height-type=\"300\"\r\n            :operation-width=\"100\"\r\n            :expand-list=\"expandList\"\r\n            :table-column-sort=\"false\"\r\n            @rowClick=\"handleRowClick\"\r\n            @refresh=\"searchInit\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n            </template>\r\n          </table-com>\r\n        </el-row>\r\n        <!-- <el-form-item label=\"订单物料选择\" prop=\"supplierId\">\r\n          <template>\r\n            <div class=\"selected-wrapper\">\r\n              <el-input v-model.trim=\"form.materialShow\" disabled placeholder=\"请选择订单物料\" style=\"width: 143px;\" />\r\n              <el-button plain type=\"primary\" style=\"margin-left:5px;padding-left:0;padding-right:0;width:30px\" icon=\"el-icon-search\" @click=\"selectInfo.visible = true\" />\r\n            </div>\r\n          </template>\r\n        </el-form-item> -->\r\n\r\n      </el-scrollbar>\r\n      <div class=\"drawer-footer\">\r\n        <el-button :loading=\"loading\" type=\"primary\" @click=\"handleConfirm('form')\">{{ loading ? '提交中 ...' : '确 定' }}</el-button>\r\n        <el-button @click=\"beforeClose\">取 消</el-button>\r\n      </div>\r\n    </el-form>\r\n\r\n    <!-- 新增选择  -->\r\n    <model-select\r\n      v-model=\"selectInfo.visible\"\r\n      :multiple=\"false\"\r\n      @confirm=\"onSelectConfirm\"\r\n    />\r\n\r\n    <!-- 新增选择 物料列表  -->\r\n    <model-select-materiel\r\n      v-model=\"materielSelectInfo.visible\"\r\n      :ids=\"tableData.map(i => i.materialId)\"\r\n      @confirm=\"onMaterielSelectConfirm\"\r\n    />\r\n\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport _ from 'lodash'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport ModelSelectMateriel from '@/components/ModalSelect/Material'\r\nimport ModelSelect from '@/components/ModalSelect/Supplier'\r\nimport { addOrderApi as addApi, editOrderApi as updateApi } from '@/apis/modules/in-storage/purchase'\r\n\r\nconst INIT_FORM = {\r\n  purchaseDate: '',\r\n  materialsUnit: '',\r\n  // orderAmount: 0,\r\n  phone: '',\r\n  contact: '',\r\n  code: '',\r\n  supplierId: '',\r\n  supplierName: '',\r\n  // 数据来源（数据来源 0：Wms，1：SAP）\r\n  dataSources: 0,\r\n  materialShow: '',\r\n  wmsOrderMaterialJoinList: []\r\n}\r\n\r\nexport default {\r\n  name: 'InStoragePurchaseTreeAddCom',\r\n  components: {\r\n    ModelSelect,\r\n    ModelSelectMateriel\r\n  },\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    editType: {\r\n      type: String,\r\n      default: 'add'\r\n    },\r\n    dialogForm: {\r\n      type: Object,\r\n      default: () => {\r\n        return _.cloneDeep(INIT_FORM)\r\n      }\r\n    },\r\n    node: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    orderType: {\r\n      type: [Number, String], // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n      default: 1\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      refreshKey: new Date().getTime(),\r\n      form: _.cloneDeep(INIT_FORM),\r\n      loading: false,\r\n      rules: {\r\n        code: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        supplierId: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        purchaseDate: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        materialsUnit: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        phone: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        contact: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ]\r\n      },\r\n      query: {},\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编码',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitMaterial',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'orderNum',\r\n          label: '订单数量',\r\n          align: 'center',\r\n          minWidth: 120,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 0\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          }\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'price',\r\n          label: '单价',\r\n          align: 'center',\r\n          minWidth: 120,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 0\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          }\r\n        }\r\n      ],\r\n      expandList: [],\r\n      selectInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      materielSelectInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    dialogForm: {\r\n      handler: function(value) {\r\n        this.refreshKey = new Date().getTime()\r\n        if (this.editType === 'add') {\r\n          this.form = _.cloneDeep(INIT_FORM)\r\n        } else {\r\n          this.form = { ...value }\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleConfirm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.loading = false\r\n          if (this.editType === 'add') {\r\n            addApi({\r\n              ...this.form,\r\n              wmsOrderMaterialJoinList: this.tableData,\r\n              contractId: 0,\r\n              type: this.orderType // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n            }).then(res => {\r\n              const { code } = res\r\n              if (!code) {\r\n                this.$message({\r\n                  message: `${this.title}成功`,\r\n                  type: 'success'\r\n                })\r\n                this.$emit('confirm')\r\n                this.beforeClose()\r\n              }\r\n              this.loading = false\r\n            }).catch(err => {\r\n              console.log(err)\r\n              this.loading = false\r\n            })\r\n          } else {\r\n            updateApi({\r\n              ...this.form,\r\n              wmsOrderMaterialJoinList: this.tableData\r\n            }).then(res => {\r\n              const { code } = res\r\n              if (!code) {\r\n                this.$message({\r\n                  message: `${this.title}成功`,\r\n                  type: 'success'\r\n                })\r\n                this.$listeners.handleRefreshTree(false, true)\r\n                this.beforeClose()\r\n              }\r\n              this.loading = false\r\n            }).catch(err => {\r\n              console.log(err)\r\n              this.loading = false\r\n            })\r\n          }\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    onSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.form.supplierId = list[0].id\r\n        this.form.supplierName = list[0].name\r\n      }\r\n    },\r\n    onMaterielSelectConfirm(list) {\r\n      console.log('!!!!!', list)\r\n      if (list.length) {\r\n        const orderId = this.form.id || null\r\n        const selectList = list.map(i => {\r\n          return {\r\n            ...i,\r\n            uuid: uuidv4(),\r\n            orderId,\r\n            orderMaterialId: i.id,\r\n            orderNum: 0,\r\n            price: 0,\r\n            materialId: i.id,\r\n            materialName: i.name,\r\n            materialCode: i.code,\r\n            materialSpec: i.spec,\r\n            unitMaterial: i.unitName\r\n          }\r\n        })\r\n        console.log('!!!!!', selectList)\r\n        this.tableData = [...this.tableData, ...selectList]\r\n      }\r\n    },\r\n    // 删除\r\n    handleDelete(item) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        this.tableData = this.tableData.filter(i => i.uuid !== item.uuid)\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      console.log(row)\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n      this.rightObj = { ...row }\r\n    },\r\n    refresh() {\r\n    },\r\n    initSelect() {\r\n      if (this.editType !== 'add' && this.dialogForm.wmsOrderMaterialJoinList.length) {\r\n        this.tableData = _.cloneDeep(this.dialogForm.wmsOrderMaterialJoinList).map(i => {\r\n          return {\r\n            uuid: uuidv4(),\r\n            ...i\r\n          }\r\n        })\r\n      }\r\n    },\r\n    beforeClose(done) {\r\n      console.log('执行了')\r\n      this.form = _.cloneDeep(INIT_FORM)\r\n      this.tableData = new Array(0)\r\n      this.$refs.form.resetFields()\r\n      // this.form.wmsOrderMaterialJoinList = new Array(0)\r\n      this.$emit('input', false)\r\n      typeof done === 'function' && done()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n  <style lang='scss' scoped>\r\n  .container{\r\n    width: 860px;\r\n    margin: 0 auto;\r\n    .left{\r\n      width: 640px;\r\n    }\r\n    .right{\r\n      margin-left: 20px;\r\n      width: 180px;\r\n    }\r\n  }\r\n  ::v-deep:focus {\r\n    outline: 0;\r\n  }\r\n  .scroll-drawer {\r\n    // height: calc(100vh - 150px);\r\n    // overflow: auto;\r\n  }\r\n  ::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n    overflow-x: hidden;\r\n  }\r\n\r\n  .drawer-footer{\r\n    text-align: right;\r\n  }\r\n  </style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddDialog.vue?vue&type=template&id=1b7cf3fd&scoped=true&\"\nimport script from \"./AddDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./AddDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddDialog.vue?vue&type=style&index=0&id=1b7cf3fd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b7cf3fd\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表新增\r\nexport function addListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表修改\r\nexport function updateListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 注意此接口已废弃 主列表详情\r\nexport function getListDetailApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/pageListMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"app-container\">\r\n    <!-- 头部搜索 -->\r\n    <div class=\"clearfix top-filter\">\r\n      <el-form ref=\"filterItem\" :model=\"query\" inline>\r\n        <el-form-item prop=\"code\" class=\"fl\">\r\n          <el-input v-model.trim=\"query.code\" clearable placeholder=\"订单号\" class=\"filter-item\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"nameOrCode\" class=\"fl\">\r\n          <el-input v-model.trim=\"query.nameOrCode\" clearable placeholder=\"供应商名称或编号\" class=\"filter-item\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"startDate\" class=\"fl\">\r\n          <el-date-picker\r\n            v-model=\"query.startDate\"\r\n            class=\"filter-item\"\r\n            type=\"date\"\r\n            style=\"width: 178px;\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"开始时间\"\r\n            @change=\"query.endDate = ''\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item prop=\"endDate\" class=\"fl\">\r\n          <el-date-picker\r\n            v-model=\"query.endDate\"\r\n            class=\"filter-item\"\r\n            type=\"date\"\r\n            style=\"width: 178px;\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"结束时间\"\r\n            :picker-options=\"{disabledDate: (time) => time.getTime() < new Date(query.startDate).getTime()}\"\r\n          />\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button>\r\n        <el-button class=\"filter-item\" type=\"primary\" @click=\"handleAdd\">新增订单（测试）</el-button>\r\n      </el-form>\r\n    </div>\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        :loading=\"loading\"\r\n        :selection=\"false\"\r\n        :table-column-sort=\"true\"\r\n        :form-ident=\"formIdent\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"300\"\r\n        :refresh-key=\"refreshKey\"\r\n        :expand-list=\"expandList\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"searchInit\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"handleModify(scope.row)\">详细</el-button>\r\n          <el-button type=\"success\" @click=\"handleViewDeliveryOrder(scope.row)\">显示交接单</el-button>\r\n          <el-button type=\"primary\" @click=\"handleAddDeliveryOrder(scope.row)\">新增交接单</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n\r\n    <!-- 详情 -->\r\n    <edit-dialog\r\n      v-model=\"dialogVisible\"\r\n      :dialog-form=\"dialogForm\"\r\n      :edit-type=\"editType\"\r\n      :type=\"type\"\r\n    />\r\n\r\n    <!-- 新增（测试） -->\r\n    <add-dialog\r\n      v-model=\"addDialogVisible\"\r\n      :dialog-form=\"dialogForm\"\r\n      :edit-type=\"editType\"\r\n      :title=\"dialogTitle\"\r\n      :order-type=\"type\"\r\n      @confirm=\"init\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport EditDialog from './Dialog'\r\nimport AddDialog from './AddDialog'\r\nimport { getListApi } from '@/apis/modules/in-storage/assist'\r\nimport tableHeadSet from '@/mixins/tableHeadSet'\r\n\r\nexport default {\r\n  name: 'InStorageConsign',\r\n  components: {\r\n    EditDialog,\r\n    AddDialog\r\n  },\r\n  mixins: [paginationPage, tableHeadSet],\r\n  data() {\r\n    return {\r\n      title: this.$route.meta.title,\r\n      type: '2',\r\n      loading: false,\r\n      query: {\r\n        code: '',\r\n        nameOrCode: '',\r\n        startDate: '',\r\n        endDate: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'code',\r\n          label: '订单号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'supplierName',\r\n          label: '供应商',\r\n          align: 'center',\r\n          minWidth: '200',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'contact',\r\n          label: '联系人',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'phone',\r\n          label: '电话',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialsUnit',\r\n          label: '接收人',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'purchaseDate',\r\n          label: '日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      dialogForm: {},\r\n      supplierPullList: [],\r\n      editType: 'add',\r\n      dialogVisible: false,\r\n      addDialogVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    dialogTitle() {\r\n      if (this.editType === 'add') {\r\n        return `新增${this.title}信息`\r\n      } else {\r\n        return `编辑${this.title}信息`\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init(type) {\r\n      console.log('init method')\r\n      this.loading = true\r\n      const params = type ? { ...this.query, type: this.type } : {\r\n        ...this.query,\r\n        type: this.type,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { formIdent, formHeadSets, pageData } = data\r\n            this.formIdent = formIdent\r\n            this.columnList = this.initTableHeadMixins(formHeadSets)\r\n            const { list, ...pageInfo } = pageData\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n      this.rightObj = { ...row }\r\n    },\r\n    refresh() {\r\n      // 更新分页\r\n      this.init('clean')\r\n    },\r\n    handleAdd() {\r\n      this.editType = 'add'\r\n      this.dialogForm = {}\r\n      this.addDialogVisible = true\r\n    },\r\n    handleModify(item) {\r\n      this.dialogForm = { ...item }\r\n      this.editType = 'modify'\r\n      this.dialogVisible = true\r\n    },\r\n    // 显示交接单\r\n    handleViewDeliveryOrder(item) {\r\n      this.$router.push({\r\n        name: 'InStorageAssistDelivery',\r\n        params: {\r\n          id: item.id,\r\n          type: 2 // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n        }\r\n      })\r\n    },\r\n    // 新增交接单\r\n    handleAddDeliveryOrder(item) {\r\n      this.$router.push({\r\n        name: 'InStorageDeliveryAdd',\r\n        params: {\r\n          view: 'add',\r\n          orderId: item.id,\r\n          type: 2, // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n          routeName: this.$route.name\r\n        }\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ca1dc146&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca1dc146\",\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=13c0428c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=13c0428c&lang=scss&scoped=true&\"","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","import axios from 'axios'\r\nimport { Notification } from 'element-ui'\r\nimport $store from '@/store'\r\nimport { getLoginPath } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst baseConfig = {\r\n  baseURL: process.env.VUE_APP_BASE_API_WMS, // api的base_url\r\n  withCredentials: true,\r\n  timeout: 30000, // request timeout\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    Accept: 'application/json'\r\n  }\r\n}\r\n\r\nconst service = axios.create(baseConfig)\r\n\r\nlet ToskTap = false\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // console.log('request', $store.getters.language)\r\n    // Do something before request is sent\r\n    if ($store.getters.token) {\r\n      // 设置token\r\n      config['responseType'] = 'blob'\r\n      config.headers['Authorization'] = `${$store.getters.token}`\r\n      // 设置语言\r\n      // config.headers['Accept-Language'] = `${$store.getters.language === 'en' ? 'en-US' : 'zh-CN'}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone interceptor\r\nservice.interceptors.response.use(\r\n  response => {\r\n    if (response && response.data) {\r\n      if (response.data.code && response.data.code === 999) {\r\n        /*\r\n        *   返回结果为错误时提示信息\r\n        */\r\n        Notification.error({\r\n          message: response.data.msg,\r\n          duration: 5 * 1000\r\n        })\r\n      }\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    let code = 0\r\n    try {\r\n      code = error.response.status\r\n    } catch (e) {\r\n      if (error.toString().indexOf('Error: timeout') !== -1) {\r\n        Notification.error({\r\n          title: '网络请求超时',\r\n          duration: 5000\r\n        })\r\n        return Promise.reject(error)\r\n      }\r\n    }\r\n    /*\r\n    *   token过期或者没有权限，踢登录，退出登录\r\n    */\r\n    if (code === 401 || code === 403) {\r\n      if (!ToskTap) {\r\n        ToskTap = true\r\n        Notification.error({\r\n          title: '登录信息已过期或者没有访问权限',\r\n          duration: 5000\r\n        })\r\n        setTimeout(() => {\r\n          ToskTap = false\r\n        }, 5000)\r\n      }\r\n      // 没有权限踢登录\r\n      $store.dispatch('resetToken').then(() => {\r\n        setTimeout(() => {\r\n          window.location.href = getLoginPath()\r\n        }, 3 * 1000)\r\n      })\r\n      return Promise.reject(error)\r\n    } else {\r\n      Notification.error({\r\n        title: error,\r\n        duration: 5000\r\n      })\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n)\r\n\r\nexport default service\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=d25cbdd0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=d25cbdd0&lang=scss&scoped=true&\""],"sourceRoot":""}