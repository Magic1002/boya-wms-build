{"version":3,"sources":["webpack:///./src/apis/modules/base/baseMaterialInformation.js","webpack:///./src/apis/modules/base/baseSupplier.js","webpack:///./src/components/ModalSelect/Supplier.vue?3a1a","webpack:///src/components/ModalSelect/Supplier.vue","webpack:///./src/components/ModalSelect/Supplier.vue?5038","webpack:///./src/components/ModalSelect/Supplier.vue","webpack:///./src/components/ModalSelect/Supplier.vue?1d35","webpack:///./src/mixins/tableHeadSet.js","webpack:///./node_modules/uuid/dist/esm-browser/native.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js"],"names":["getListApi","data","request","url","method","getAddApi","getEditApi","getDeleteApi","getPullListItemApi","render","_vm","this","_h","$createElement","_c","_self","attrs","title","value","beforeClose","on","initSelect","staticClass","ref","query","nativeOn","$event","preventDefault","staticStyle","model","callback","$$v","$set","expression","_l","item","index","key","name","searchInit","_v","columnList","length","_e","loading","refName","multiple","formIdent","tableData","refreshKey","expandList","tableSelection","selectionChange","pageInfo","current","size","total","init","slot","confirmDialog","staticRenderFns","mixins","props","required","type","Boolean","String","default","selection","Array","max","Number","extraInfo","Object","dicts","supplierName","columnSets","supplierPullList","methods","$emit","page","Promise","code","resolve","res","reject","err","getSupplierPullList","handleUpdateTableSelected","handleDefault","done","resetForm","$refs","formName","resetFields","component","tableColumnSortData","labels","initTableHeadMixins","apiHeadSets","module","columnSetsName","width","totalHeadSets","map","i","isParam","c","find","prop","$nextTick","filter","f","extend","show","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","push","toString","slice","unsafeStringify","arr","offset","toLowerCase","v4","options","buf","rnds","random"],"mappings":"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","file":"js/BillOutsourceOutAdd~InStorageAssist~InStorageFinish~InStoragePurchase.c1d8574d.js","sourcesContent":["import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function getAddApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function getEditApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 详情\r\nexport function getDetailApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/supplier/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 下拉列表\r\nexport function getPullListItemApi(data = {}) {\r\n  return request({\r\n    url: '/basic/supplier/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function getAddApi(data = {}) {\r\n  return request({\r\n    url: '/basic/supplier/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function getEditApi(data = {}) {\r\n  return request({\r\n    url: '/basic/supplier/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data = {}) {\r\n  return request({\r\n    url: '/basic/supplier/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"900px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"supplierName\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"供应商名称搜索\"},model:{value:(_vm.query.supplierName),callback:function ($$v) {_vm.$set(_vm.query, \"supplierName\", $$v)},expression:\"query.supplierName\"}},_vm._l((_vm.supplierPullList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")])],1)],1),(!_vm.columnList.length)?_c('el-empty',{attrs:{\"loading\":_vm.loading,\"image-size\":850,\"description\":\"暂无配置\"}}):_vm._e(),_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"index\":\"\",\"table-height-type\":480,\"loading\":_vm.loading,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":true,\"form-ident\":_vm.formIdent,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"refresh-key\":_vm.refreshKey,\"expand-list\":_vm.expandList,\"table-selection\":_vm.tableSelection},on:{\"refresh\":_vm.searchInit,\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"900px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- 头部搜索 -->\r\n      <div class=\"clearfix top-filter\">\r\n        <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n          <el-form-item prop=\"supplierName\" class=\"fl\">\r\n            <el-select v-model=\"query.supplierName\" filterable clearable placeholder=\"供应商名称搜索\" style=\"width: 178px;\" class=\"filter-item\">\r\n              <el-option\r\n                v-for=\"(item,index) in supplierPullList\"\r\n                :key=\"index\"\r\n                :label=\"item.name\"\r\n                :value=\"item.name\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"success\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"searchInit\"\r\n          >搜索</el-button>\r\n          <!-- <el-button\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-refresh-left\"\r\n            @click=\"resetForm('filterItem')\"\r\n          >重置</el-button> -->\r\n        </el-form>\r\n      </div>\r\n      <!-- 列表 -->\r\n      <el-empty v-if=\"!columnList.length\" :loading=\"loading\" :image-size=\"850\" description=\"暂无配置\" />\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          index\r\n          :table-height-type=\"480\"\r\n          :loading=\"loading\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"true\"\r\n          :form-ident=\"formIdent\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :refresh-key=\"refreshKey\"\r\n          :expand-list=\"expandList\"\r\n          :table-selection=\"tableSelection\"\r\n          @refresh=\"searchInit\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport QueryItemMixin from '@/mixins/queryItem'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport tableHeadSet from '@/mixins/tableHeadSet'\r\nimport { getListApi as getListSelectApi, getPullListItemApi } from '@/apis/modules/base/baseSupplier'\r\n\r\nexport default {\r\n  name: 'SupplierSelect',\r\n  mixins: [QueryItemMixin, tableHeadSet, paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '供应商选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    // 接口传入的额外信息\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectSupplierSelect',\r\n      query: {\r\n        supplierName: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      supplierPullList: []\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        ...this.extraInfo\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { formIdent, formHeadSets, pageData } = data\r\n            this.formIdent = formIdent\r\n            this.columnList = this.initTableHeadMixins(formHeadSets)\r\n            const { list, ...pageInfo } = pageData\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n      this.getSupplierPullList()\r\n    },\r\n    // 下拉数据\r\n    getSupplierPullList() {\r\n      return new Promise((resolve, reject) => {\r\n        getPullListItemApi({}).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.supplierPullList = data || []\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Supplier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Supplier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Supplier.vue?vue&type=template&id=2e1e03ad&scoped=true&\"\nimport script from \"./Supplier.vue?vue&type=script&lang=js&\"\nexport * from \"./Supplier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Supplier.vue?vue&type=style&index=0&id=2e1e03ad&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e1e03ad\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Supplier.vue?vue&type=style&index=0&id=2e1e03ad&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Supplier.vue?vue&type=style&index=0&id=2e1e03ad&lang=scss&scoped=true&\"","/*\r\n*   表头获取和配置的公用方法\r\n*\t\t使用方法:\r\n*   引入：\r\n*   import tableHeadSet from '@/mixins/tableHeadSet'\r\n*   配置:\r\n*   mixins: [tableHeadSet]\r\n*/\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formIdent: '', // 可配置表单的唯一标识\r\n      tableData: [], // 表格数据\r\n      columnList: [], // 表头配置\r\n      expandList: [], // 扩展字段\r\n      tableColumnSortData: [],\r\n      labels: {}, // 字段名称\r\n      refreshKey: 1 // el-table刷新的key\r\n    }\r\n  },\r\n  methods: {\r\n    /*\r\n    * 接口获取的表头和本地设置的表头进行合并\r\n    * 本页面配置的表头  columnSets\r\n    * 接口给回的表头 apiHeadSets\r\n    * isExtend 是否拓展字段\r\n    * isShow 是否显示\r\n    */\r\n    initTableHeadMixins(apiHeadSets = [], module = 'word', columnSetsName = 'columnSets', width = 100) {\r\n      // 将 columnSets 和 apiHeadSets 合并，生成总的头部设置\r\n      const totalHeadSets = apiHeadSets.map(i => {\r\n        return {\r\n          // isExtend: i.extend,\r\n          // isShow: i.show,\r\n          // headerAlign: i.headAlign,\r\n          // isDict: i.dict,\r\n          // isForceShow: i.forceShow,\r\n          // extend: i.extend,\r\n          isParam: false,\r\n          ...i,\r\n          width: module === 'input' && !i.width ? width : i.width,\r\n          module\r\n        }\r\n      }).map(item => {\r\n        const c = this[columnSetsName].find(i => i.prop === item.prop)\r\n        return c ? { ...item, ...c } : { ...item }\r\n      })\r\n\r\n      // 筛选扩展字段\r\n      this.$nextTick(() => {\r\n        if (module === 'word') {\r\n          this.expandList = totalHeadSets.filter(f => f.extend && f.show)\r\n        }\r\n      })\r\n\r\n      /*\r\n      *   返回表头配置\r\n      *   1. 会将本地columnSets设置与api返回的apiHeadSets进行合并，本地属性将会覆盖远程属性\r\n      *   2. 执行顺序，先合并并覆盖属性，再进行过滤，将过滤show和extend属性\r\n      */\r\n      this.$nextTick(() => {\r\n        this.refreshKey += 1\r\n      })\r\n      return totalHeadSets.filter(f => f.show && !f.extend)\r\n    }\r\n  }\r\n}\r\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"sourceRoot":""}