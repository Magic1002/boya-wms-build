{"version":3,"sources":["webpack:///./src/components/ModalSelect/MaterialForm.vue?882d","webpack:///src/components/ModalSelect/MaterialForm.vue","webpack:///./src/components/ModalSelect/MaterialForm.vue?91b3","webpack:///./src/components/ModalSelect/MaterialForm.vue","webpack:///./src/components/ModalSelect/MaterialForm.vue?c0f2"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","value","beforeClose","on","initSelect","staticClass","ref","query","nativeOn","$event","preventDefault","staticStyle","type","indexOf","_k","keyCode","key","searchInit","model","callback","$$v","$set","trim","expression","_v","resetForm","_b","refName","rowKey","loading","multiple","tableData","columnList","tableSelection","selectionChange","sortChange","getDynamicRow","$attrs","pageInfo","current","size","total","init","slot","handleConfirm","staticRenderFns","name","mixins","paginationPage","props","required","Boolean","String","default","selection","Array","max","Number","ids","extraInfo","Object","dicts","data","materialCodeOrName","columnSets","deptSelectedInfo","list","visible","radio","rowObj","methods","materialIdList","page","Promise","code","uuid","deliveryNumber","i","orderNum","check","row","some","resolve","res","reject","err","$refs","formName","resetFields","handleUpdateTableSelected","$emit","done","onDeptSelectConfirm","length","usedOffice","item","component"],"mappings":"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","file":"js/WMSBaseItemGroup~WarehouseCheck.5a2971b7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-form',{ref:\"filterItem\",staticClass:\"top-filter clearfix\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"materialCodeOrName\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"物料编号或名称\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.materialCodeOrName),callback:function ($$v) {_vm.$set(_vm.query, \"materialCodeOrName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.materialCodeOrName\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")])],1),_c('el-row',[_c('table-com',_vm._b({ref:_vm.refName,attrs:{\"row-key\":_vm.rowKey,\"table-height-type\":490,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange,\"sortChange\":_vm.sortChange,\"dynamicRow\":_vm.getDynamicRow}},'table-com',_vm.$attrs,false))],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirm}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <el-form ref=\"filterItem\" class=\"top-filter clearfix\" :model=\"query\" inline @submit.native.prevent>\r\n        <el-form-item prop=\"materialCodeOrName\">\r\n          <el-input v-model.trim=\"query.materialCodeOrName\" placeholder=\"物料编号或名称\" class=\"filter-item\" style=\"width: 178px;\" clearable @keyup.enter.native=\"searchInit\" />\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button>\r\n      </el-form>\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :row-key=\"rowKey\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"true\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          v-bind=\"$attrs\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n          @sortChange=\"sortChange\"\r\n          @dynamicRow=\"getDynamicRow\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"handleConfirm\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi as getListSelectApi } from '@/apis/modules/base/baseMaterialInformation'\r\n\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        materialCodeOrName: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'code',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'name',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'spec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'description',\r\n          label: '物料描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitMeasureName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'inventoryNum',\r\n          label: '库存数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: 'custom',\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitPrice',\r\n          label: '单价',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: 'custom',\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'totalPrice',\r\n          label: '总价',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: 'custom',\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'type_dictText',\r\n          label: '物料类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'minOutboundUnitName',\r\n          label: '最小单位SKU',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'isExpirationDate',\r\n          label: '是否有保质期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: (c) => c.isExpirationDate === 0 ? '否' : '是'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupCode',\r\n          label: '物料组编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupDescription',\r\n          label: '物料组描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'dataSources_dictText',\r\n          label: '数据来源',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      rowKey: 'id',\r\n      rowObj: {}\r\n    }\r\n  },\r\n  methods: {\r\n    init(sortInfo) {\r\n      const params = {\r\n        ...this.query,\r\n        materialIdList: [], // 接口所需，其他地方也涉及到了这个接口，不然会报错\r\n        ...this.extraInfo,\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        ...sortInfo && sortInfo.order && { orderBy: `${sortInfo.prop} ${sortInfo.order === 'ascending' ? 'asc' : 'desc'}` }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: i.orderNum,\r\n                ...i\r\n              }\r\n            })\r\n            const rowKey = this.rowKey\r\n            const ids = this.tableSelection.map(i => i[rowKey])\r\n            this.tableData.forEach(row => {\r\n              function check(row) {\r\n                const id = row[rowKey]\r\n                return ids.some(i => i === id)\r\n              }\r\n              if (check(row)) {\r\n                this.$nextTick(() => {\r\n                  this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                })\r\n              }\r\n            })\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 表格自定义排序\r\n    sortChange({ column, prop, order }) {\r\n      this.init({ prop, order })\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    },\r\n    // 初始化\r\n    initSelect() {\r\n      // 初始化选中项\r\n      this.searchInit()\r\n    },\r\n    // 选项改变\r\n    selectionChange(arr) {\r\n      this.tableSelection = [...arr]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    // 关闭\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      typeof done === 'function' && done()\r\n      this.tableSelection = new Array(0)\r\n      this.resetForm('filterItem')\r\n    },\r\n    // 确定\r\n    handleConfirm() {\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    // 注意：此方法貌似废弃了\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    getDynamicRow(item) {\r\n      this.rowObj = item\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialForm.vue?vue&type=template&id=a64e797a&scoped=true&\"\nimport script from \"./MaterialForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialForm.vue?vue&type=style&index=0&id=a64e797a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a64e797a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=style&index=0&id=a64e797a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=style&index=0&id=a64e797a&lang=scss&scoped=true&\""],"sourceRoot":""}