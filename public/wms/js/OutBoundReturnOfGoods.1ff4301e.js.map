{"version":3,"sources":["webpack:///./src/views/out-bound/return-of-goods/Material.vue?471e","webpack:///src/views/out-bound/return-of-goods/Material.vue","webpack:///./src/views/out-bound/return-of-goods/Material.vue?d2db","webpack:///./src/views/out-bound/return-of-goods/Material.vue","webpack:///./src/apis/modules/in-storage/info/index.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/components/ModalSelect/WarehousingEntry.vue?9f75","webpack:///./src/views/out-bound/return-of-goods/Dialog.vue?bac4","webpack:///./src/apis/modules/out-bound/return-of-goods.js","webpack:///./src/views/out-bound/return-of-goods/Material.vue?a5a9","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./src/components/ModalSelect/WarehousingEntry.vue?742e","webpack:///src/components/ModalSelect/WarehousingEntry.vue","webpack:///./src/components/ModalSelect/WarehousingEntry.vue?0ed4","webpack:///./src/components/ModalSelect/WarehousingEntry.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./src/views/in-storage/inspection/status.js","webpack:///./src/mixins/tableHeadSet.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/uuid/dist/esm-browser/native.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./src/views/out-bound/return-of-goods/index.vue?17c1","webpack:///./src/views/out-bound/return-of-goods/Dialog.vue?6787","webpack:///src/views/out-bound/return-of-goods/Dialog.vue","webpack:///./src/views/out-bound/return-of-goods/Dialog.vue?8208","webpack:///./src/views/out-bound/return-of-goods/Dialog.vue","webpack:///src/views/out-bound/return-of-goods/index.vue","webpack:///./src/views/out-bound/return-of-goods/index.vue?5ae1","webpack:///./src/views/out-bound/return-of-goods/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","value","beforeClose","on","initSelect","isCheckAll","_e","checkAll","_v","reverseSelection","staticClass","ref","refName","loading","multiple","rowKey","tableData","columnList","tableSelection","selectionChange","pageInfo","current","size","total","$event","$set","init","columnList1","dialogInfo1","subBarCodeList","model","callback","$$v","skuVisible","expression","slot","confirmDialog","staticRenderFns","name","components","PackageToSKU","mixins","paginationPage","props","required","type","Boolean","String","default","selection","Array","max","Number","ids","id","extraInfo","Object","dicts","data","query","columnSets","deptSelectedInfo","list","visible","radio","methods","length","$emit","$message","message","page","Promise","code","uuid","deliveryNumber","i","orderNum","resolve","res","reject","err","isArray","check","row","some","curPageCheckedArr","push","includes","$nextTick","handleUpdateTableSelected","handleDefault","done","onDeptSelectConfirm","usedOffice","component","getListApi","request","url","method","getPdfUrlApi","getWarehouseWarrantApi","toObject","$keys","it","returnMaterialApi","getPullListItemApi","addApi","editApi","deleteApi","getDetailApi","printApi","submitApi","withdrawApi","auditApi","module","exports","keys","nativeOn","preventDefault","staticStyle","indexOf","_k","keyCode","key","searchInit","trim","billNumber","resetForm","$refs","formName","resetFields","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","$export","core","fails","KEY","exec","fn","exp","S","F","deliveryReceiptStatusPullMap","statusMap","0","1","2","3","4","5","6","7","statusChartMap","statusMap1","statusChartMap1","inspectResultStatusMap","inspectResultMap","typePullMap","statusPullMap","statusStrMap","returnOfGoodsMap","formIdent","expandList","tableColumnSortData","labels","refreshKey","initTableHeadMixins","apiHeadSets","columnSetsName","width","totalHeadSets","map","isParam","item","c","find","prop","filter","f","extend","show","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","toString","slice","unsafeStringify","arr","offset","toLowerCase","v4","options","buf","rnds","random","getOwnPropertySymbols","_l","index","handleAdd","scopedSlots","_u","scope","status","handle","handleModify","handleDetail","handlePrint","dialogForm","dialogType","dialogTitle","dialogVisible","form","rules","dialogInfo","_s","stockInNumber","selectInfo","detailList","label","formatter","splice","$index","handleConfirm","entity","onSelectConfirm","billNumberId","warehousingConfirm","MaterialSelect","WarehousingEntry","INIT_FORM","formThead","gradeOpts","computed","watch","handler","immediate","validate","valid","modify","add","api","handleDel","num","el","number","barcodeNumber","barCode","assign","Pagination","EditDialog","$route","meta","custumerPullList","statusFormatter","typeMap","navbarWarehouseCheckedList","deep","mounted","getcustumerPullList","warehouseIds","$router","Submit","Delete","Withdraw","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","lockScroll","obj","window","open"],"mappings":"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","file":"js/OutBoundReturnOfGoods.1ff4301e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-row',[(!_vm.isCheckAll)?_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.checkAll}},[_vm._v(\"跨页全选\")]):_vm._e(),(_vm.isCheckAll)?_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.reverseSelection}},[_vm._v(\"跨页反选\")]):_vm._e()],1),_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":false,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"row-key\":_vm.rowKey,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('package-to-s-k-u',{attrs:{\"title\":'供应商条码',\"is-show-print-btn\":false,\"extra-info\":{columnList: _vm.columnList1 || [], tableData: _vm.dialogInfo1.subBarCodeList || []}},model:{value:(_vm.skuVisible),callback:function ($$v) {_vm.skuVisible=$$v},expression:\"skuVisible\"}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-row>\r\n      <el-button v-if=\"!isCheckAll\" type=\"warning\" plain @click=\"checkAll\">跨页全选</el-button>\r\n      <el-button v-if=\"isCheckAll\" type=\"warning\" plain @click=\"reverseSelection\">跨页反选</el-button>\r\n    </el-row>\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- <query-item :query-obj=\"query\" out-key=\"billNumber\" out-placeholder=\"入库单号\" />\r\n        <query-item :query-obj=\"query\" out-key=\"source\" out-placeholder=\"来源\" />\r\n        <query-item :query-obj=\"query\" out-key=\"storekeeper\" out-placeholder=\"条码号\" @handleQuery=\"handleQuery\" /> -->\r\n\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"false\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :row-key=\"rowKey\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <package-to-s-k-u\r\n      v-model=\"skuVisible\"\r\n      :title=\"'供应商条码'\"\r\n      :is-show-print-btn=\"false\"\r\n      :extra-info=\"{columnList: columnList1 || [], tableData: dialogInfo1.subBarCodeList || []}\"\r\n    />\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport PackageToSKU from '@/components/ModalSelect/PackageToSKU'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { returnMaterialApi as getListSelectApi } from '@/apis/modules/out-bound/return-of-goods'\r\n\r\nimport QueryItemMixin from '@/mixins/queryItem'\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  components: {\r\n    PackageToSKU\r\n  },\r\n  mixins: [paginationPage, QueryItemMixin],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    id: {\r\n      type: [Number, String],\r\n      default: ''\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      rowKey: 'barCode',\r\n      // 跨页全选标记\r\n      isCheckAll: false,\r\n      query: {},\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'link',\r\n          type: (item) => Array.isArray(item.subBarCodeList) && !!item.subBarCodeList.length ? 'primary' : '',\r\n          prop: 'barCode',\r\n          underline: false,\r\n          minWidth: 150,\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          handleClick: (item) => {\r\n            if (!item.subBarCodeList.length) return\r\n            this.skuVisible = true\r\n            this.dialogInfo1 = item\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storageNo',\r\n          label: '当前库位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnList1: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barCode',\r\n          label: '条码号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storageNo',\r\n          label: '当前库位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      tableData: [],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      skuVisible: false,\r\n      dialogInfo1: {}\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      if (!this.tableSelection.length) {\r\n        this.$message({\r\n          message: `请选择物料`,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        ...this.extraInfo\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        this.loading = true\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: i.orderNum,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.barCode))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    checkAll() {\r\n      this.isCheckAll = true\r\n      const params = {\r\n        ...this.query,\r\n        ...this.extraInfo,\r\n        page: {\r\n          current: 1, // 当前页码\r\n          size: 10000 // 每页条数\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list } = data\r\n            if (list && Array.isArray(list) && list.length) {\r\n              this.tableSelection = list\r\n              if (!this.tableSelection.length) {\r\n                this.isCheckAll = false\r\n                this.$notify.warning({\r\n                  title: '警告',\r\n                  message: `暂不支持跨页全选`\r\n                })\r\n                return\r\n              }\r\n\r\n              // 初始化当前页面的勾选\r\n              const rowKey = this.rowKey\r\n              const ids = this.tableSelection.map(i => i[rowKey]) // 满足可被勾选条件的数据\r\n              const curPageCheckedArr = [] // 当前页满足可被勾选条件de项\r\n              this.tableData.forEach(row => {\r\n                function check(row) {\r\n                  const id = row[rowKey]\r\n                  return ids.some(i => i === id)\r\n                }\r\n                if (check(row)) {\r\n                  curPageCheckedArr.push(row)\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n\r\n              // 除了当前页的其余页勾选\r\n              this.tableSelection.forEach(row => {\r\n                // 排除当前页已勾选的项,并选中其它可勾选项\r\n                const ids = curPageCheckedArr.map(i => i[rowKey])\r\n                if (!ids.includes(row[rowKey])) {\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 跨页反选\r\n    reverseSelection() {\r\n      this.isCheckAll = false\r\n      this.$nextTick(() => {\r\n        this.$refs[this.refName].$refs.multipleTable.clearSelection()\r\n        this.tableSelection = []\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n  <style lang=\"scss\" scoped>\r\n  .scroll-dialog {\r\n    height: 600px;\r\n  }\r\n  ::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n    overflow-x: hidden;\r\n  }\r\n   ::v-deep .el-dialog__body {\r\n    padding-top: 10px;\r\n    padding-bottom: 0;\r\n  }\r\n  </style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Material.vue?vue&type=template&id=61a9a88d&scoped=true&\"\nimport script from \"./Material.vue?vue&type=script&lang=js&\"\nexport * from \"./Material.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Material.vue?vue&type=style&index=0&id=61a9a88d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61a9a88d\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/deliveryReceiptPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表新增\r\nexport function addListApi(data) {\r\n  return request({\r\n    url: '/mes/technologyMainMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表修改\r\nexport function updateListApi(data) {\r\n  return request({\r\n    url: '/mes/technologyMainMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data) {\r\n  return request({\r\n    url: '/mes/technologyMainMaterial/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印\r\nexport function getPdfUrlApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 出库管理/退货 入库单选择\r\nexport function getWarehouseWarrantApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/pageList4ReturnMaterials',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=style&index=0&id=18b772d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=style&index=0&id=18b772d4&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=2786f1a7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=2786f1a7&lang=scss&scoped=true&\"","import request from '@/apis/request.wms'\r\n// 出库管理/退货 弹窗选择物料\r\nexport function returnMaterialApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/detailPageList4ReturnMaterials',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 入库单详情\r\nexport function getInDetail(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/detailPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 下拉列表\r\nexport function getPullListItemApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function addApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function editApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function deleteApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 详情\r\nexport function getDetailApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 打印\r\nexport function printApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 提交\r\nexport function submitApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/submit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 撤回\r\nexport function withdrawApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/withdraw',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 审核->通过、驳回、未通过\r\nexport function auditApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/audit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=61a9a88d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=61a9a88d&lang=scss&scoped=true&\"","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"billNumber\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"入库单号\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.billNumber),callback:function ($$v) {_vm.$set(_vm.query, \"billNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.billNumber\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")])],1),_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":false,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- 头部搜索 -->\r\n      <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n        <el-form-item prop=\"billNumber\">\r\n          <el-input v-model.trim=\"query.billNumber\" placeholder=\"入库单号\" class=\"filter-item\" style=\"width: 178px;\" clearable @keyup.enter.native=\"searchInit\" />\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <!-- <el-button\r\n          class=\"filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button> -->\r\n      </el-form>\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"false\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getWarehouseWarrantApi as getListSelectApi } from '@/apis/modules/in-storage/info'\r\nimport QueryItemMixin from '@/mixins/queryItem'\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage, QueryItemMixin],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '入库单选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        billNumber: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'billNumber',\r\n          label: '单号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'source',\r\n          label: '来源(供应商或生产单位)',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'documentDate',\r\n          label: '日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storekeeperName',\r\n          label: '库管员',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      if (!this.tableSelection.length) {\r\n        this.$message({\r\n          message: '请选择入库单',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        ...this.extraInfo\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: i.orderNum,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WarehousingEntry.vue?vue&type=template&id=18b772d4&scoped=true&\"\nimport script from \"./WarehousingEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./WarehousingEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WarehousingEntry.vue?vue&type=style&index=0&id=18b772d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18b772d4\",\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 检验状态\r\nexport const deliveryReceiptStatusPullMap = [\r\n  {\r\n    id: 1,\r\n    name: '待检验'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '检验中'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '已完成'\r\n  },\r\n  {\r\n    id: 6,\r\n    name: '待更新'\r\n  },\r\n  {\r\n    id: 7,\r\n    name: '档案未上传'\r\n  }\r\n]\r\nexport const statusMap = {\r\n  0: 'danger',\r\n  1: 'info', // 待检验\r\n  2: 'warning', // 检验中\r\n  3: 'success', // 已完成\r\n  4: 'success', // 已完成\r\n  5: 'success', // 已完成\r\n  6: 'danger', // 待更新\r\n  7: 'danger'\r\n}\r\nexport const statusChartMap = {\r\n  0: '草稿',\r\n  1: '待检验', // 灰色\r\n  2: '检验中', // 橙色\r\n  3: '已完成', // 绿色\r\n  4: '已完成', // 绿色\r\n  5: '已完成', // 绿色\r\n  6: '待更新', // 红色\r\n  7: '档案未上传'\r\n}\r\n// 物资检验单据下物料枚举状态\r\nexport const statusMap1 = {\r\n  0: '', // 不检验\r\n  1: 'info', // 待检验\r\n  2: 'warning', // 检验中\r\n  3: 'success', // 已完成\r\n  4: 'success' // 已入库\r\n}\r\nexport const statusChartMap1 = {\r\n  0: '', // 不检验\r\n  1: '待检验', // 灰色\r\n  2: '检验中', // 橙色\r\n  3: '已完成', // 绿色\r\n  4: '已完成' // 已入库\r\n}\r\nexport const inspectResultStatusMap = {\r\n  0: 'danger',\r\n  1: 'success'\r\n}\r\n\r\nexport const inspectResultMap = {\r\n  0: '不合格',\r\n  1: '合格'\r\n}\r\n\r\nexport const typeMap = {\r\n  1: '全检',\r\n  2: '抽检'\r\n}\r\n\r\nexport const typePullMap = [\r\n  {\r\n    id: 1,\r\n    name: '全检'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '抽检'\r\n  }\r\n]\r\n\r\nexport const statusPullMap = [\r\n  {\r\n    id: 1,\r\n    name: '待检验'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '检验中'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '已完成'\r\n  }\r\n]\r\nexport const statusStrMap = {\r\n  0: '未处理',\r\n  1: '待完成',\r\n  2: '已完成'\r\n}\r\nexport const returnOfGoodsMap = {\r\n  0: '未提交',\r\n  1: '审核中',\r\n  2: '未通过',\r\n  3: '已完成',\r\n  4: '驳回'\r\n}\r\n","/*\r\n*   表头获取和配置的公用方法\r\n*\t\t使用方法:\r\n*   引入：\r\n*   import tableHeadSet from '@/mixins/tableHeadSet'\r\n*   配置:\r\n*   mixins: [tableHeadSet]\r\n*/\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formIdent: '', // 可配置表单的唯一标识\r\n      tableData: [], // 表格数据\r\n      columnList: [], // 表头配置\r\n      expandList: [], // 扩展字段\r\n      tableColumnSortData: [],\r\n      labels: {}, // 字段名称\r\n      refreshKey: 1 // el-table刷新的key\r\n    }\r\n  },\r\n  methods: {\r\n    /*\r\n    * 接口获取的表头和本地设置的表头进行合并\r\n    * 本页面配置的表头  columnSets\r\n    * 接口给回的表头 apiHeadSets\r\n    * isExtend 是否拓展字段\r\n    * isShow 是否显示\r\n    */\r\n    initTableHeadMixins(apiHeadSets = [], module = 'word', columnSetsName = 'columnSets', width = 100) {\r\n      // 将 columnSets 和 apiHeadSets 合并，生成总的头部设置\r\n      const totalHeadSets = apiHeadSets.map(i => {\r\n        return {\r\n          // isExtend: i.extend,\r\n          // isShow: i.show,\r\n          // headerAlign: i.headAlign,\r\n          // isDict: i.dict,\r\n          // isForceShow: i.forceShow,\r\n          // extend: i.extend,\r\n          isParam: false,\r\n          ...i,\r\n          width: module === 'input' && !i.width ? width : i.width,\r\n          module\r\n        }\r\n      }).map(item => {\r\n        const c = this[columnSetsName].find(i => i.prop === item.prop)\r\n        return c ? { ...item, ...c } : { ...item }\r\n      })\r\n\r\n      // 筛选扩展字段\r\n      this.$nextTick(() => {\r\n        if (module === 'word') {\r\n          this.expandList = totalHeadSets.filter(f => f.extend && f.show)\r\n        }\r\n      })\r\n\r\n      /*\r\n      *   返回表头配置\r\n      *   1. 会将本地columnSets设置与api返回的apiHeadSets进行合并，本地属性将会覆盖远程属性\r\n      *   2. 执行顺序，先合并并覆盖属性，再进行过滤，将过滤show和extend属性\r\n      */\r\n      this.$nextTick(() => {\r\n        this.refreshKey += 1\r\n      })\r\n      return totalHeadSets.filter(f => f.show && !f.extend)\r\n    }\r\n  }\r\n}\r\n","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"billNumber\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"退货单号\"},model:{value:(_vm.query.billNumber),callback:function ($$v) {_vm.$set(_vm.query, \"billNumber\", $$v)},expression:\"query.billNumber\"}},_vm._l((_vm.custumerPullList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.billNumber,\"value\":item.billNumber}})}),1)],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")])],1)],1),_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"selection\":false,\"table-column-sort\":true,\"form-ident\":_vm.formIdent,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":350,\"refresh-key\":_vm.refreshKey,\"expand-list\":_vm.expandList},on:{\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [([1, 5].includes(scope.row.status))?[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handle(scope.row, 'Submit')}}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handleModify(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handle(scope.row, 'Delete')}}},[_vm._v(\"删除\")])]:_vm._e(),(scope.row.status === 2)?[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handle(scope.row, 'Withdraw')}}},[_vm._v(\"撤回\")])]:_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleDetail(scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePrint(scope.row)}}},[_vm._v(\"打印\")])]}}])})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}}),_c('edit-dialog',{attrs:{\"dialog-form\":_vm.dialogForm,\"dialog-type\":_vm.dialogType,\"title\":_vm.dialogTitle},on:{\"submit\":_vm.init},model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:\"dialogVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-drawer',{attrs:{\"center\":true,\"append-to-body\":true,\"close-on-press-escape\":false,\"wrapper-closable\":false,\"title\":_vm.title,\"size\":\"40%\",\"visible\":_vm.value,\"destroy-on-close\":true,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"inline\":\"\",\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-scrollbar',{staticClass:\"scroll-drawer\"},[_c('el-form-item',{attrs:{\"label\":\"入库单\",\"prop\":\"stockInNumber\"}},[_c('el-link',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":_vm.dialogType === 'detail',\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogInfo.visible = true}}},[_vm._v(_vm._s(_vm.form.stockInNumber ? _vm.form.stockInNumber : \"请选择\"))])],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_c('span',{staticClass:\"divider-title\"},[_vm._v(\"物料\")]),(_vm.dialogType !== 'detail')?_c('el-button',{staticClass:\"divider-button\",attrs:{\"disabled\":!_vm.form.stockInNumber,\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\"},on:{\"click\":function($event){_vm.selectInfo.visible = true}}}):_vm._e()],1),_c('el-row',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.form.detailList,\"border\":\"\"}},[_c('el-table-column',{key:\"1\",attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"80\"}}),_vm._l((_vm.formThead),function(item){return _c('el-table-column',{key:item.label,attrs:{\"label\":item.label,\"prop\":item.prop,\"align\":\"center\",\"formatter\":item.formatter}})}),(_vm.dialogType !== 'detail')?_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.form.detailList.splice(scope.$index, 1)}}},[_vm._v(\"删除\")])]}}],null,false,3970603675)}):_vm._e()],2)],1)],1),_c('div',{staticClass:\"drawer-footer\"},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleConfirm('form')}}},[_vm._v(_vm._s(_vm.loading ? '提交中 ...' : '确 定'))]),(_vm.dialogType !== 'detail')?_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")]):_vm._e()],1)],1),_c('material-select',{attrs:{\"multiple\":true,\"extra-info\":{entity: _vm.entity},\"selection\":_vm.form.detailList.map(function (item) { return item.id; })},on:{\"confirm\":_vm.onSelectConfirm},model:{value:(_vm.selectInfo.visible),callback:function ($$v) {_vm.$set(_vm.selectInfo, \"visible\", $$v)},expression:\"selectInfo.visible\"}}),_c('warehousing-entry',{attrs:{\"multiple\":false,\"selection\":[_vm.form.billNumberId]},on:{\"confirm\":_vm.warehousingConfirm},model:{value:(_vm.dialogInfo.visible),callback:function ($$v) {_vm.$set(_vm.dialogInfo, \"visible\", $$v)},expression:\"dialogInfo.visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-drawer\r\n    :center=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-press-escape=\"false\"\r\n    :wrapper-closable=\"false\"\r\n    :title=\"title\"\r\n    size=\"40%\"\r\n    :visible=\"value\"\r\n    :destroy-on-close=\"true\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-form ref=\"form\" :model=\"form\" inline :rules=\"rules\" label-width=\"120px\">\r\n      <el-scrollbar class=\"scroll-drawer\">\r\n        <el-form-item label=\"入库单\" prop=\"stockInNumber\">\r\n          <el-link\r\n            :disabled=\"dialogType === 'detail'\"\r\n            type=\"primary\"\r\n            style=\"width: 178px\"\r\n            @click=\"dialogInfo.visible = true\"\r\n          >{{ form.stockInNumber ? form.stockInNumber : \"请选择\"\r\n          }}</el-link>\r\n        </el-form-item>\r\n\r\n        <el-divider content-position=\"left\">\r\n          <span class=\"divider-title\">物料</span>\r\n          <el-button\r\n            v-if=\"dialogType !== 'detail'\"\r\n            :disabled=\"!form.stockInNumber\"\r\n            class=\"divider-button\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-plus\"\r\n            circle\r\n            @click=\"selectInfo.visible = true\"\r\n          />\r\n        </el-divider>\r\n        <el-row>\r\n          <el-table :data=\"form.detailList\" border style=\"width: 100%\">\r\n            <el-table-column key=\"1\" align=\"center\" type=\"index\" label=\"序号\" width=\"80\" />\r\n            <el-table-column v-for=\"item in formThead\" :key=\"item.label\" :label=\"item.label\" :prop=\"item.prop\" align=\"center\" :formatter=\"item.formatter\" />\r\n            <el-table-column v-if=\"dialogType !== 'detail'\" label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"danger\" @click=\"form.detailList.splice(scope.$index, 1)\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-row>\r\n      </el-scrollbar>\r\n      <div class=\"drawer-footer\">\r\n        <el-button :loading=\"loading\" type=\"primary\" @click=\"handleConfirm('form')\">{{ loading ? '提交中 ...' : '确 定' }}</el-button>\r\n        <el-button v-if=\"dialogType !== 'detail'\" @click=\"beforeClose\">取 消</el-button>\r\n      </div>\r\n    </el-form>\r\n    <!-- 物料弹框选择  -->\r\n    <material-select\r\n      v-model=\"selectInfo.visible\"\r\n      :multiple=\"true\"\r\n      :extra-info=\"{entity}\"\r\n      :selection=\"form.detailList.map(item => item.id)\"\r\n      @confirm=\"onSelectConfirm\"\r\n    />\r\n    <!-- 入库单  -->\r\n    <warehousing-entry\r\n      v-model=\"dialogInfo.visible\"\r\n      :multiple=\"false\"\r\n      :selection=\"[form.billNumberId]\"\r\n      @confirm=\"warehousingConfirm\"\r\n    />\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { addApi as addListApi, editApi as updateListApi } from '@/apis/modules/out-bound/return-of-goods'\r\nimport MaterialSelect from './Material.vue'\r\nimport WarehousingEntry from '@/components/ModalSelect/WarehousingEntry'\r\nconst INIT_FORM = () => ({\r\n  stockInNumber: '',\r\n  billNumberId: '',\r\n  detailList: []\r\n})\r\nconst formThead = [\r\n  { label: '物料编码', prop: 'materialCode' },\r\n  { label: '物料名称', prop: 'materialName' },\r\n  { label: '规格型号', prop: 'materialSpec' },\r\n  { label: '评估类型', prop: 'assessType_dictText' },\r\n  { label: '条码号', prop: 'barcodeNumber' },\r\n  { label: '数量', prop: 'num' },\r\n  { label: '计量单位', prop: 'unitName' }\r\n]\r\n\r\nexport default {\r\n  name: 'CustomerInfoDialogComs',\r\n  components: {\r\n    MaterialSelect,\r\n    WarehousingEntry\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    dialogType: {\r\n      type: String,\r\n      default: 'add'\r\n    },\r\n    dialogForm: {\r\n      type: Object,\r\n      default: () => {\r\n        return { ...INIT_FORM() }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: INIT_FORM(),\r\n      loading: false,\r\n      selectInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      dialogInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      formThead: formThead,\r\n      rules: {\r\n        stockInNumber: [\r\n          { required: true, message: '请选择入库单', trigger: 'change' }\r\n        ]\r\n      },\r\n      gradeOpts: []\r\n    }\r\n  },\r\n  computed: {\r\n    entity() {\r\n      return { id: this.form.billNumberId }\r\n    }\r\n  },\r\n  watch: {\r\n    dialogForm: {\r\n      handler: function(value) {\r\n        if (this.dialogType === 'add') {\r\n          this.form = { ...INIT_FORM() }\r\n        } else {\r\n          this.form = { ...value }\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleConfirm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (!this.form.detailList.length) {\r\n            this.$message({\r\n              message: '请选择物料',\r\n              type: 'warning'\r\n            })\r\n            return\r\n          }\r\n          this.loading = true\r\n          const api = {\r\n            modify: updateListApi,\r\n            add: addListApi\r\n          }[this.dialogType || 'add']\r\n          api({\r\n            ...this.form\r\n          }).then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.$message({\r\n                message: `操作成功`,\r\n                type: 'success'\r\n              })\r\n              this.$emit('submit')\r\n              this.beforeClose()\r\n            }\r\n            this.loading = false\r\n          }).catch(err => {\r\n            console.log(err)\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    initSelect() {\r\n    },\r\n    // 删除\r\n    handleDel(item) {\r\n      const { id } = item\r\n      this.form.detailList = this.form.detailList.filter(item => item.id !== id)\r\n    },\r\n    // Tip 选择物料\r\n    onSelectConfirm(list) {\r\n      if (list.length) {\r\n        list = list.map(el => {\r\n          return {\r\n            num: el.number,\r\n            barcodeNumber: el.barCode,\r\n            ...el\r\n          }\r\n        })\r\n        this.form.detailList = list\r\n      }\r\n    },\r\n    // Tip 选择入库单\r\n    warehousingConfirm(list) {\r\n      if (list.length) {\r\n        this.form.stockInNumber = list[0].billNumber\r\n        this.form.billNumberId = list[0].id\r\n      }\r\n    },\r\n\r\n    beforeClose(done) {\r\n      this.$refs.form.resetFields()\r\n      this.$emit('input', false)\r\n      this.form = Object.assign({}, { ...INIT_FORM() })\r\n      typeof done === 'function' && done()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n  <style lang='scss' scoped>\r\n  .container{\r\n    width: 860px;\r\n    margin: 0 auto;\r\n    .left{\r\n      width: 640px;\r\n    }\r\n    .right{\r\n      margin-left: 20px;\r\n      width: 180px;\r\n    }\r\n  }\r\n  ::v-deep:focus {\r\n    outline: 0;\r\n  }\r\n  .scroll-drawer {\r\n    height: calc(100vh - 150px);\r\n    // overflow: auto;\r\n  }\r\n  ::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n    overflow-x: hidden;\r\n  }\r\n  ::v-deep .el-drawer {\r\n    width: 640px;\r\n  }\r\n  .drawer-footer{\r\n    text-align: right;\r\n  }\r\n  </style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=2786f1a7&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=2786f1a7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2786f1a7\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"clearfix top-filter\">\r\n      <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n        <el-form-item prop=\"billNumber\">\r\n          <el-select v-model=\"query.billNumber\" filterable clearable placeholder=\"退货单号\" style=\"width: 178px;\" class=\"filter-item\">\r\n            <el-option\r\n              v-for=\"(item,index) in custumerPullList\"\r\n              :key=\"index\"\r\n              :label=\"item.billNumber\"\r\n              :value=\"item.billNumber\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <!-- <el-button\r\n          class=\"filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button> -->\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-plus\"\r\n          @click=\"handleAdd\"\r\n        >新增</el-button>\r\n      </el-form>\r\n    </div>\r\n\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        :loading=\"loading\"\r\n        :selection=\"false\"\r\n        :table-column-sort=\"true\"\r\n        :form-ident=\"formIdent\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"350\"\r\n        :refresh-key=\"refreshKey\"\r\n        :expand-list=\"expandList\"\r\n        @refresh=\"searchInit\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <template v-if=\"[1, 5].includes(scope.row.status)\">\r\n            <el-button type=\"primary\" @click=\"handle(scope.row, 'Submit')\">提交</el-button>\r\n            <el-button type=\"warning\" @click=\"handleModify(scope.row)\">修改</el-button>\r\n            <el-button type=\"danger\" @click=\"handle(scope.row, 'Delete')\">删除</el-button>\r\n          </template>\r\n          <template v-if=\"scope.row.status === 2\">\r\n            <el-button type=\"warning\" @click=\"handle(scope.row, 'Withdraw')\">撤回</el-button>\r\n          </template>\r\n          <el-button type=\"primary\" @click=\"handleDetail(scope.row)\">详情</el-button>\r\n          <el-button type=\"primary\" @click=\"handlePrint(scope.row)\">打印</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    <edit-dialog\r\n      v-model=\"dialogVisible\"\r\n      :dialog-form=\"dialogForm\"\r\n      :dialog-type=\"dialogType\"\r\n      :title=\"dialogTitle\"\r\n      @submit=\"init\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getListApi, getPullListItemApi, deleteApi, submitApi, withdrawApi, printApi } from '@/apis/modules/out-bound/return-of-goods'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport Pagination from '@/components/Pagination'\r\nimport EditDialog from './Dialog'\r\nimport tableHeadSet from '@/mixins/tableHeadSet'\r\nimport { returnOfGoodsMap } from '@/views/in-storage/inspection/status'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n    EditDialog\r\n  },\r\n  mixins: [paginationPage, tableHeadSet],\r\n  data() {\r\n    return {\r\n      query: {\r\n        billNumber: ''\r\n      },\r\n      dialogForm: {},\r\n      title: this.$route.meta.title,\r\n      loading: false,\r\n      custumerPullList: [],\r\n      dialogType: 'add',\r\n      dialogVisible: false,\r\n      columnSets: [{\r\n        module: 'status',\r\n        prop: 'status',\r\n        formatter: (status) => {\r\n          return returnOfGoodsMap[status - 1]\r\n        },\r\n        statusFormatter: (scope) => {\r\n          const typeMap = {\r\n            '1': 'info',\r\n            '2': 'primary',\r\n            '3': 'warning',\r\n            '4': 'danger',\r\n            '5': 'info'\r\n          }\r\n          return scope.status ? typeMap[scope.status] : ''\r\n        } }],\r\n      returnOfGoodsMap: returnOfGoodsMap\r\n    }\r\n  },\r\n  computed: {\r\n    dialogTitle() {\r\n      if (this.dialogType === 'add') {\r\n        return `新增${this.title}`\r\n      } else if (this.dialogType === 'modify') {\r\n        return `修改${this.title}`\r\n      } else {\r\n        return `${this.title}详情`\r\n      }\r\n    },\r\n    ...mapGetters('app', {\r\n      navbarWarehouseCheckedList: 'navbarWarehouseCheckedList'\r\n    })\r\n  },\r\n  watch: {\r\n    navbarWarehouseCheckedList: {\r\n      handler() {\r\n        this.init()\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    this.getcustumerPullList()\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.loading = true\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          page: {\r\n            ...this.pageInfo\r\n          },\r\n          ...this.query,\r\n          warehouseIds: this.navbarWarehouseCheckedList.map(item => item.id)\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { formIdent, formHeadSets, pageData } = data\r\n            this.formIdent = formIdent\r\n            this.columnList = this.initTableHeadMixins(formHeadSets)\r\n            const { list, ...pageInfo } = pageData\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 新增\r\n    handleAdd() {\r\n      this.$router.push({\r\n        name: 'BillReturnMaterialsAdd'\r\n      })\r\n    },\r\n    // 修改\r\n    handleModify(item) {\r\n      this.$router.push({\r\n        name: 'BillReturnMaterialsEdit',\r\n        query: {\r\n          billNumber: item.billNumber\r\n        }\r\n      })\r\n    },\r\n    // 操作按钮回调 提交、删除、撤回\r\n    handle(item, name) {\r\n      const obj = {\r\n        Submit: { api: submitApi, tip: '该工单即将提交' },\r\n        Delete: { api: deleteApi, tip: '该工单即将删除' },\r\n        Withdraw: { api: withdrawApi, tip: '该工单即将撤回' }\r\n      }\r\n      this.$confirm(`${obj[name]['tip']}，是否继续？`, '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        type: 'warning',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        obj[name]['api']({\r\n          ...name === 'Delete' && { id: item.id, dataSources: item.dataSources },\r\n          ...['Submit', 'Withdraw'].includes(name) && { billNumber: item.billNumber }\r\n        }).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$notify.success({\r\n              title: '成功',\r\n              message: '操作成功'\r\n            })\r\n            this.init()\r\n          }\r\n        })\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '操作已取消'\r\n        })\r\n      })\r\n    },\r\n    // Tip 下拉数据\r\n    getcustumerPullList() {\r\n      return new Promise((resolve, reject) => {\r\n        getPullListItemApi({}).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.custumerPullList = data || []\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 详情\r\n    handleDetail(item) {\r\n      this.$router.push({\r\n        name: 'BillReturnMaterialsDetail',\r\n        query: {\r\n          billNumber: item.billNumber\r\n        }\r\n      })\r\n    },\r\n    // Tip 打印\r\n    handlePrint(item) {\r\n      const { billNumber } = item\r\n      const params = { billNumber }\r\n      return new Promise((resolve, reject) => {\r\n        printApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            console.log('data', data)\r\n            window.open(process.env.VUE_APP_BASE_API_WMS + data)\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5cda0578&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}