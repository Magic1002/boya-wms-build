(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InStorageInspection"],{2391:function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"w",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"u",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"t",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"x",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"r",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"v",(function(){return g})),n.d(t,"o",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return x})),n.d(t,"s",(function(){return I})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return C}));var r=n("bc43");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deliveryReceiptPageList",method:"post",data:e})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsDeliveryReceipt/finish",method:"post",data:e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deliveryMaterialPageList",method:"post",data:e})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deliveryMaterialItemList",method:"post",data:e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsDeliveryMaterial/finish",method:"post",data:e})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/inspectPageList",method:"post",data:e})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/save",method:"post",data:e})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/detail",method:"post",data:e})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/modifyInspectNo",method:"post",data:e})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/editFile",method:"post",data:e})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/fileList",method:"post",data:e})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/saveInspectResult",method:"post",data:e})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/selectInspectResultByDeliveryMaterialId",method:"post",data:e})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/submitInspectResult",method:"post",data:e})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/inspectReject",method:"post",data:e})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/barcodePrint",method:"post",data:e})}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/packageCodeSamplingList",method:"post",data:e})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/genUnqualifiedBarcodeList",method:"post",data:e})}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/unqualifiedBarcodeScan",method:"post",data:e})}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/queryUnqualifiedBarcodeList",method:"post",data:e})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/saveUnqualifiedBarcodeList",method:"post",data:e})}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deleteUnqualifiedBarcode",method:"post",data:e})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/editUnqualifiedBarcodeReason",method:"post",data:e})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/enterWarehouse/wmsInspect/deleteFile",method:"post",data:e})}},"32a6":function(e,t,n){var r=n("241e"),i=n("c3a1");n("ce7e")("keys",(function(){return function(e){return i(r(e))}}))},"36a2":function(e,t,n){"use strict";var r=n("e4d5"),i=n.n(r);i.a},6077:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"clearfix top-filter"},[n("el-form",{ref:"filterItem",attrs:{model:e.query,inline:""}},[n("el-form-item",{staticClass:"fl",attrs:{prop:"supplier"}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{clearable:"",placeholder:"供应商编号或名称"},model:{value:e.query.supplier,callback:function(t){e.$set(e.query,"supplier","string"===typeof t?t.trim():t)},expression:"query.supplier"}})],1),n("el-form-item",{staticClass:"fl",attrs:{prop:"code"}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{clearable:"",placeholder:"合同号或订单号"},model:{value:e.query.code,callback:function(t){e.$set(e.query,"code","string"===typeof t?t.trim():t)},expression:"query.code"}})],1),n("el-form-item",{staticClass:"fl",attrs:{prop:"status"}},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{filterable:"",clearable:"",placeholder:"单据状态"},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},e._l(e.deliveryReceiptStatusPullMap,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{staticClass:"fl",attrs:{prop:"no"}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{clearable:"",placeholder:"交接单号"},model:{value:e.query.no,callback:function(t){e.$set(e.query,"no","string"===typeof t?t.trim():t)},expression:"query.no"}})],1),n("el-form-item",{staticClass:"fl",attrs:{prop:"inspectNo"}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{clearable:"",placeholder:"检验单号"},model:{value:e.query.inspectNo,callback:function(t){e.$set(e.query,"inspectNo","string"===typeof t?t.trim():t)},expression:"query.inspectNo"}})],1),n("el-form-item",{staticClass:"fl",attrs:{prop:"startDate"}},[n("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"开始时间"},on:{change:function(t){e.query.endDate=""}},model:{value:e.query.startDate,callback:function(t){e.$set(e.query,"startDate",t)},expression:"query.startDate"}})],1),n("el-form-item",{staticClass:"fl",attrs:{prop:"endDate"}},[n("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"结束时间","picker-options":{disabledDate:function(t){return t.getTime()<new Date(e.query.startDate).getTime()}}},model:{value:e.query.endDate,callback:function(t){e.$set(e.query,"endDate",t)},expression:"query.endDate"}})],1),n("el-button",{staticClass:"filter-item",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchInit}},[e._v("搜索")]),n("el-button",{staticClass:"filter-item",attrs:{type:"warning",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("filterItem")}}},[e._v("重置")])],1)],1),n("el-row",[n("table-com",{ref:"baseTableRef",attrs:{loading:e.loading,selection:!1,"table-column-sort":!0,"form-ident":e.formIdent,"table-data":e.tableData,"column-list":e.columnList,"operation-width":180,"refresh-key":e.refreshKey,"expand-list":e.expandList},on:{rowClick:e.handleRowClick,refresh:e.searchInit},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",disabled:t.row.status>=3},on:{click:function(n){return e.toDetail(t.row)}}},[e._v("检验")]),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.handleDocument(t.row)}}},[e._v("文档管理")])]}}])})],1),n("pagination",{attrs:{page:e.pageInfo.current,limit:e.pageInfo.size,total:e.total},on:{"update:page":function(t){return e.$set(e.pageInfo,"current",t)},"update:limit":function(t){return e.$set(e.pageInfo,"size",t)},pagination:e.init}}),n("edit-dialog",{attrs:{"dialog-form":e.dialogForm,"edit-type":e.editType},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}})],1)},i=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("a8db")),o=n("bd86"),l=n("1790"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{center:!0,"append-to-body":!0,"close-on-press-escape":!1,"wrapper-closable":!1,title:e.title,size:"70%",direction:"btt",visible:e.value,"destroy-on-close":!0,"before-close":e.beforeClose},on:{open:e.initSelect}},[n("el-scrollbar",[n("div",{staticStyle:{margin:"0 10px"}},[n("divider",[e._v("物资检验")]),n("el-row",[n("el-descriptions",{attrs:{border:!0,direction:"vertical",column:8}},[n("el-descriptions-item",{attrs:{label:"合同号"}},[e._v(e._s(e.dialogForm.contractNo))]),n("el-descriptions-item",{attrs:{label:"订单号"}},[e._v(e._s(e.dialogForm.orderNo))]),n("el-descriptions-item",{attrs:{label:"供应商"}},[e._v(e._s(e.dialogForm.supplierName))]),n("el-descriptions-item",{attrs:{label:"交接单号"}},[e._v(e._s(e.dialogForm.no))]),n("el-descriptions-item",{attrs:{label:"交货日期"}},[e._v(e._s(e.dialogForm.deliveryDate))]),n("el-descriptions-item",{attrs:{label:"检验单号"}},[e._v(e._s(e.dialogForm.inspectNo))]),n("el-descriptions-item",{attrs:{label:"状态"}},[n("el-tag",{attrs:{type:e.statusMap[e.dialogForm.status],"disable-transitions":""}},[e._v("\n              "+e._s(e.statusChartMap[e.dialogForm.status])+"\n            ")])],1)],1)],1),n("el-row",[n("table-com",{key:e.refreshKey,ref:"baseTableRef",attrs:{loading:e.loading,index:!0,selection:!1,"table-data":e.tableData,"column-list":e.columnList,"table-height-type":360,"operation-width":130,"expand-list":e.expandList,"table-column-sort":!1},on:{rowClick:e.handleRowClick,refresh:e.searchInit},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.handleModify(t.row)}}},[e._v("详细")])]}}])})],1),n("pagination",{attrs:{page:e.pageInfo.current,limit:e.pageInfo.size,total:e.total},on:{"update:page":function(t){return e.$set(e.pageInfo,"current",t)},"update:limit":function(t){return e.$set(e.pageInfo,"size",t)},pagination:e.init}})],1)]),n("edit-dialog",{attrs:{"dialog-form":e.dialogInfo,"edit-type":e.editInfoType,title:"查看不合格条码详细内容"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}})],1)},c=[],u=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,top:"5vh",visible:e.value,"show-close":!0,width:"1100px","lock-scroll":!1,"destroy-on-close":!0,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.beforeClose},on:{open:e.initSelect}},[n("el-scrollbar",{staticClass:"scroll-dialog"},[n("el-row",[n("el-descriptions",{attrs:{border:!0,direction:"vertical",column:4}},[n("el-descriptions-item",{attrs:{label:"物料编号"}},[e._v(e._s(e.dialogForm.materialCode))]),n("el-descriptions-item",{attrs:{label:"物料名称"}},[e._v(e._s(e.dialogForm.materialName))]),n("el-descriptions-item",{attrs:{label:"规格型号"}},[e._v(e._s(e.dialogForm.materialSpec))]),n("el-descriptions-item",{attrs:{label:"数量"}},[e._v(e._s(e.dialogForm.deliveryNumber))])],1)],1),n("el-row",[n("table-com",{ref:e.refName,attrs:{"row-key":"uuid","table-height-type":540,loading:e.loading,index:!0,"index-fixed":!0,selection:!1,multiple:e.multiple,"selection-fixed":!1,"table-column-sort":!1,"table-data":e.tableData,"column-list":e.columnList,"show-operate":!1,"operate-fixed":!1,"table-selection":e.tableSelection},on:{selectionChange:e.selectionChange}})],1),n("pagination",{attrs:{page:e.pageInfo.current,limit:e.pageInfo.size,total:e.total},on:{"update:page":function(t){return e.$set(e.pageInfo,"current",t)},"update:limit":function(t){return e.$set(e.pageInfo,"size",t)},pagination:e.init}})],1)],1)}),d=[],f=n("75fc"),p=(n("c5f6"),n("ec26")),m=n("2391");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"MaterialOrderSelect",mixins:[l["a"]],props:{value:{required:!0,type:Boolean},title:{type:String,default:""},multiple:{type:Boolean,default:!0},selection:{type:Array,default:function(){return[]}},max:{type:Number,default:0},dialogForm:{type:Object,default:function(){return{}}},extraInfo:{type:Object,default:function(){}}},dicts:[],data:function(){return{loading:!1,refName:"modelSelectMaterialOrderSelect",form:{},rules:{},query:{},tableData:[],columnList:[{module:"word",prop:"barCode",label:"条码号",align:"center",minWidth:160,fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"status",prop:"inspectResult",label:"检验结果",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,headerAlign:"center",formatter:function(e){return null===e?"未检验":e?"合格":"不合格"},statusFormatter:function(e){return null===e.inspectResult?"info":e.inspectResult?"success":"danger"}},{module:"word",prop:"inspectNumber",label:"数量",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:function(e){return e.number},headerAlign:"center"},{module:"word",prop:"remarks",label:"不合格原因",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"}],columnSets:[],tableSelection:[]}},methods:{confirmDialog:function(){this.beforeClose()},init:function(e){var t=this,n=e?h({deliveryMaterialId:this.dialogForm.id},this.extraInfo):h({deliveryMaterialId:this.dialogForm.id},this.extraInfo,{page:h({},this.pageInfo)});return new Promise((function(e,r){t.loading=!0,Object(m["f"])(h({},n)).then((function(n){var r=n.code,i=n.data;if(!r){var o=i.list,l=Object(a["a"])(i,["list"]);t.initPage(l),t.tableData=o.map((function(e){return h({},e,{uuid:Object(p["a"])()})}))}t.loading=!1,e(n)})).catch((function(e){t.loading=!1,r(e)}))}))},initSelect:function(){this.init()},selectionChange:function(e){this.tableSelection=Object(f["a"])(e)},handleUpdateTableSelected:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},refresh:function(){this.init()},beforeClose:function(e){this.$emit("input",!1),"function"===typeof e&&e()},onDeptSelectConfirm:function(e){e.length&&(this.query.usedOffice=e[0].name)}}},y=g,v=(n("b53a"),n("2877")),w=Object(v["a"])(y,u,d,!1,null,"676c674c",null),O=w.exports,j=n("dc8f");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={code:"",supplierId:"",supplierName:"",contact:"",phone:"",purchaseDate:""},S={name:"InStorageConsignCom",components:{EditDialog:O},mixins:[l["a"]],props:{value:{type:Boolean,default:!1},editType:{type:String,default:"add"},dialogForm:{type:Object,default:function(){return I({},D)}}},data:function(){var e=this;return{title:"检验详细内容",refreshKey:(new Date).getTime(),form:D,loading:!1,rules:{},query:{},tableData:[],columnList:[{module:"word",prop:"materialCode",label:"物料编号",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"materialName",label:"物料名称",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"materialSpec",label:"规格型号",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"materialAssessType_dictText",label:"评估类型",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,headerAlign:"center"},{module:"word",prop:"deliveryNumber",label:"交货数量",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"unitName",label:"计量单位",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"applicant",label:"申请人",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"qualifiedNumber",label:"合格数量",align:"center",minWidth:160,fixed:!1,sortable:!1,resizable:!0,headerAlign:"center",formatter:function(e){return e.deliveryNumber-e.unqualifiedNumber}},{module:"word",prop:"unqualifiedNumber",label:"不合格数量",align:"center",minWidth:160,fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"status",prop:"status",label:"状态",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,headerAlign:"center",formatter:function(t){return e.statusChartMap1[t]},statusFormatter:function(t){return e.statusMap1[t.status]}}],expandList:[],dialogVisible:!1,dialogInfo:{},editInfoType:"add",statusMap:j["g"],statusChartMap:j["e"],statusChartMap1:j["f"],statusMap1:j["h"]}},computed:{},watch:{dialogForm:{handler:function(e){"add"===this.editType?this.form=I({},D):this.form=I({},e)},immediate:!0}},methods:{init:function(){var e=this;return this.loading=!0,new Promise((function(t,n){Object(m["h"])(I({page:I({},e.pageInfo)},e.query,{deliveryReceiptId:e.dialogForm.id})).then((function(n){var r=n.code,i=n.data;if(!r){var o=i.list,l=Object(a["a"])(i,["list"]);e.initPage(l),e.tableData=o}e.loading=!1,t(n)})).catch((function(t){e.loading=!1,n(t)}))}))},handleConfirm:function(e){this.beforeClose()},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除选中信息, 是否继续?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",cancelButtonClass:"btn-custom-cancel",lockScroll:!1}).then((function(){t.tableData=t.tableData.filter((function(t){return t.uuid!==e.uuid}))})).catch((function(e){t.$notify.info({title:"消息",message:"已取消删除"})}))},onSelectConfirm:function(e){e.length&&(this.form.supplierId=e[0].id,this.form.supplierName=e[0].name)},handleAdd:function(){this.editInfoType="add",this.dialogInfo={},this.dialogVisible=!0},handleModify:function(e){this.dialogInfo=I({},e),this.editInfoType="modify",this.dialogVisible=!0},handleRowClick:function(e){var t=e.row,n=e.column;e.cell,e.event;if("操作"===n.label)return!1;this.rightObj=I({},t)},refresh:function(){this.init()},initSelect:function(){this.init()},beforeClose:function(e){this.$emit("input",!1),this.form=Object.assign({},I({},D)),"function"===typeof e&&e()}}},C=S,k=(n("36a2"),Object(v["a"])(C,s,c,!1,null,"500e05ae",null)),P=k.exports,q=n("e08f");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={components:{EditDialog:P},mixins:[l["a"],q["a"]],data:function(){return{title:this.$route.meta.title,loading:!1,query:{supplier:"",code:"",status:"",no:"",inspectNo:"",startDate:"",endDate:""},tableData:[],columnList:[{module:"word",prop:"contractNo",label:"合同号",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"orderNo",label:"订单号",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"supplierName",label:"供应商",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"no",label:"交接单号",align:"center",minWidth:"200",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"deliveryDate",label:"交货日期",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"inspectNo",label:"检验单号",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"status",prop:"status",label:"状态",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,headerAlign:"center",formatter:function(e){return j["e"][e]},statusFormatter:function(e){return j["g"][e.status]}}],columnSets:[{module:"status",prop:"status",formatter:function(e){return j["e"][e]},statusFormatter:function(e){return j["g"][e.status]}}],dialogForm:{},supplierPullList:[],editType:"add",dialogVisible:!1,deliveryReceiptStatusPullMap:j["a"]}},computed:{dialogTitle:function(){return"add"===this.editType?"新增".concat(this.title,"信息"):"编辑".concat(this.title,"信息")}},mounted:function(){this.init()},methods:{init:function(e){var t=this;this.loading=!0;var n=e?_({},this.query):_({},this.query,{page:_({},this.pageInfo)});return new Promise((function(e,r){Object(m["l"])(_({},n)).then((function(n){var r=n.code,i=n.data;if(!r){var o=i.formIdent,l=i.formHeadSets,s=i.pageData;t.formIdent=o,t.columnList=t.initTableHeadMixins(l);var c=s.list,u=Object(a["a"])(s,["list"]);t.initPage(u),t.tableData=c}t.loading=!1,e(n)})).catch((function(e){t.loading=!1,r(e)}))}))},handleSubmit:function(e){var t=this;this.$confirm("确认检验完成, 是否继续?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",cancelButtonClass:"btn-custom-cancel",type:"warning",lockScroll:!1}).then((function(){e.id&&Object(m["w"])({id:e.id}).then((function(e){var n=e.code;n||(t.$message({message:"操作成功",type:"success"}),t.init())}))})).catch((function(){t.$message({message:"已取消操作",type:"info"})}))},handleRowClick:function(e){var t=e.row,n=e.column;e.cell,e.event;if("操作"===n.label)return!1;this.rightObj=_({},t),this.handleModify(_({},t))},refresh:function(){this.init("clean")},toDetail:function(e){this.$router.push({name:"InStorageInspectionDetail",params:{id:e.id}})},handleDocument:function(e){this.$router.push({name:"InStorageInspectionDocument",params:{id:e.id}})},handleAdd:function(){this.editType="add",this.dialogForm={},this.dialogVisible=!0},handleModify:function(e){this.dialogForm=_({},e),this.editType="modify",this.dialogVisible=!0},resetForm:function(e){this.$refs[e].resetFields(),this.searchInit()}}},N=F,$=Object(v["a"])(N,r,i,!1,null,"783b9dd6",null);t["default"]=$.exports},"65edc":function(e,t,n){},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},a4bb:function(e,t,n){e.exports=n("8aae")},a8db:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("e265"),i=n.n(r),a=n("a4bb"),o=n.n(a);function l(e,t){if(null==e)return{};var n,r,i={},a=o()(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e,t){if(null==e)return{};var n,r,a=l(e,t);if(i.a){var o=i()(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},b53a:function(e,t,n){"use strict";var r=n("65edc"),i=n.n(r);i.a},ce7e:function(e,t,n){var r=n("63b6"),i=n("584a"),a=n("294c");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},dc8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return p}));var r=[{id:1,name:"待检验"},{id:2,name:"检验中"},{id:3,name:"已完成"},{id:6,name:"待更新"},{id:7,name:"档案未上传"}],i={0:"danger",1:"info",2:"warning",3:"success",4:"success",5:"success",6:"danger",7:"danger"},a={0:"草稿",1:"待检验",2:"检验中",3:"已完成",4:"已完成",5:"已完成",6:"待更新",7:"档案未上传"},o={0:"",1:"info",2:"warning",3:"success",4:"success"},l={0:"",1:"待检验",2:"检验中",3:"已完成",4:"已完成"},s={0:"danger",1:"success"},c={0:"不合格",1:"合格"},u=[{id:1,name:"全检"},{id:2,name:"抽检"}],d=[{id:1,name:"待检验"},{id:2,name:"检验中"},{id:3,name:"已完成"}],f={0:"未处理",1:"待完成",2:"已完成"},p={0:"未提交",1:"审核中",2:"未通过",3:"已完成",4:"驳回"}},e08f:function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("7514");var r=n("bd86");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={data:function(){return{formIdent:"",tableData:[],columnList:[],expandList:[],tableColumnSortData:[],labels:{},refreshKey:1}},methods:{initTableHeadMixins:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"columnSets",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=t.map((function(e){return a({isParam:!1},e,{width:"input"!==n||e.width?e.width:i,module:n})})).map((function(t){var n=e[r].find((function(e){return e.prop===t.prop}));return n?a({},t,{},n):a({},t)}));return this.$nextTick((function(){"word"===n&&(e.expandList=o.filter((function(e){return e.extend&&e.show})))})),this.$nextTick((function(){e.refreshKey+=1})),o.filter((function(e){return e.show&&!e.extend}))}}}},e265:function(e,t,n){e.exports=n("ed33")},e4d5:function(e,t,n){},ec26:function(e,t,n){"use strict";const r="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var i={randomUUID:r};let a;const o=new Uint8Array(16);function l(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)}const s=[];for(let d=0;d<256;++d)s.push((d+256).toString(16).slice(1));function c(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}function u(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();e=e||{};const r=e.random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return c(r)}t["a"]=u},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols}}]);
//# sourceMappingURL=InStorageInspection.6e1798c2.js.map