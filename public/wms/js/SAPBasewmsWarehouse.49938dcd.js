(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SAPBasewmsWarehouse"],{"32a6":function(e,t,r){var n=r("241e"),a=r("c3a1");r("ce7e")("keys",(function(){return function(e){return a(n(e))}}))},5580:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return c}));var n=r("bc43");function a(e){return Object(n["a"])({url:"/basic/factory/pageList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/basic/factory/listItem",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/basic/factory/add",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/basic/factory/edit",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/basic/factory/delete",method:"post",data:e})}},"8aae":function(e,t,r){r("32a6"),e.exports=r("584a").Object.keys},9402:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"clearfix top-filter"},[r("el-form",{ref:"filterItem",attrs:{model:e.query,inline:""}},[r("el-form-item",{staticClass:"fl",attrs:{prop:"name"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{filterable:"",clearable:"",placeholder:"仓库名称"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}},e._l(e.warehousePullList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-button",{staticClass:"filter-item",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchInit}},[e._v("搜索")]),r("el-button",{staticClass:"filter-item",attrs:{type:"warning",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("filterItem")}}},[e._v("重置")]),r("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),r("el-row",[r("table-com",{ref:"baseTableRef",attrs:{loading:e.loading,selection:!1,"table-data":e.tableData,"column-list":e.columnList,"operation-width":180,"table-column-sort":!1},on:{rowClick:e.handleRowClick,refresh:e.searchInit},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",icon:"el-icon-edit"},on:{click:function(r){return e.handleModify(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),r("pagination",{attrs:{page:e.pageInfo.current,limit:e.pageInfo.size,total:e.total},on:{"update:page":function(t){return e.$set(e.pageInfo,"current",t)},"update:limit":function(t){return e.$set(e.pageInfo,"size",t)},pagination:e.init}}),r("edit-dialog",{attrs:{"dialog-form":e.dialogForm,"edit-type":e.dialogType,title:e.dialogTitle},on:{confirm:function(t){e.init(),e.getwarehousePullList()}},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}})],1)},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("a8db")),i=r("bd86"),l=r("bc43");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l["a"])({url:"/basic/wmsWarehouseSap/pageList",method:"post",data:e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l["a"])({url:"/basic/wmsWarehouseSap/listItem",method:"post",data:e})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l["a"])({url:"/basic/wmsWarehouseSap/add",method:"post",data:e})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l["a"])({url:"/basic/wmsWarehouseSap/edit",method:"post",data:e})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l["a"])({url:"/basic/wmsWarehouseSap/delete",method:"post",data:e})}var m=r("1790"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-drawer",{attrs:{center:!0,"append-to-body":!0,"close-on-press-escape":!1,"wrapper-closable":!1,title:e.title,size:"50",visible:e.value,"destroy-on-close":!0,"before-close":e.beforeClose},on:{open:e.initSelect}},[r("el-form",{ref:"form",attrs:{model:e.form,inline:"",rules:e.rules,"label-width":"120px"}},[r("el-scrollbar",{staticClass:"scroll-drawer"},[r("el-form-item",{attrs:{label:"仓库名称",prop:"name"}},[r("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"工厂",prop:"factoryId"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.factoryId,callback:function(t){e.$set(e.form,"factoryId",t)},expression:"form.factoryId"}},e._l(e.factoryPullList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{staticClass:"remarks-sty",attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{placeholder:"请填写",type:"textarea",rows:5},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks","string"===typeof t?t.trim():t)},expression:"form.remarks"}})],1)],1),r("div",{staticClass:"drawer-footer"},[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v(e._s(e.loading?"提交中 ...":"确 定"))]),r("el-button",{on:{click:e.beforeClose}},[e._v("取 消")])],1)],1)],1)},b=[],h=r("5580");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){return{name:"",factoryId:"",remarks:""}},O={props:{value:{type:Boolean,default:!1},title:{type:String,default:""},editType:{type:String,default:"add"},dialogForm:{type:Object,default:function(){return y({},v())}}},data:function(){return{form:v(),loading:!1,rules:{name:[{required:!0,message:"请输入仓库名称",trigger:"blur"}],factoryId:[{required:!0,message:"请选择工厂",trigger:"blur"}],remarks:[{required:!0,message:"请填写备注",trigger:"blur"}]},gradeOpts:[],factoryPullList:[]}},computed:{},dicts:[],watch:{dialogForm:{handler:function(e){"add"===this.editType?this.form=y({},v()):this.form=y({},e)},immediate:!0}},methods:{handleConfirm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!1;var r="modify"===t.editType?f:u;r(y({},t.form)).then((function(e){var r=e.code;r||(t.$message({message:"".concat(t.title,"成功"),type:"success"}),t.$emit("confirm"),t.beforeClose()),t.loading=!1})).catch((function(e){t.loading=!1}))}))},initSelect:function(){this.getFactoryPullList()},getFactoryPullList:function(){var e=this;return new Promise((function(t,r){Object(h["e"])({}).then((function(r){var n=r.code,a=r.data;n||(e.factoryPullList=a||[]),t(r)})).catch((function(e){r(e)}))}))},beforeClose:function(e){this.$refs.form.resetFields(),this.$emit("input",!1),this.form=Object.assign({},y({},v())),"function"===typeof e&&e()},handleChange:function(e){}}},w=O,j=(r("be18"),r("2877")),P=Object(j["a"])(w,p,b,!1,null,"d27ce7d8",null),k=P.exports;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={components:{EditDialog:k},mixins:[m["a"]],data:function(){return{query:{name:""},dialogForm:{},title:this.$route.meta.title,loading:!1,tableData:[],warehousePullList:[],dialogType:"add",dialogVisible:!1,columnList:[{module:"word",prop:"name",label:"仓库名称",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"factoryCodeName",label:"工厂",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"remarks",label:"备注",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"}]}},computed:{dialogTitle:function(){return"add"===this.dialogType?"新增".concat(this.title):"编辑".concat(this.title)}},mounted:function(){this.init(),this.getwarehousePullList()},methods:{init:function(){var e=this;return this.loading=!0,new Promise((function(t,r){c(C({page:C({},e.pageInfo)},e.query)).then((function(r){var n=r.code,a=r.data;if(!n){var i=a.list,l=Object(o["a"])(a,["list"]);e.initPage(l),e.tableData=i}e.loading=!1,t(r)})).catch((function(t){e.loading=!1,r(t)}))}))},getwarehousePullList:function(){var e=this;return new Promise((function(t,r){s({}).then((function(r){var n=r.code,a=r.data;n||(e.warehousePullList=a||[]),t(r)})).catch((function(e){r(e)}))}))},handleAdd:function(){this.dialogType="add",this.dialogForm={},this.dialogVisible=!0},handleModify:function(e){this.dialogForm=C({},e),this.dialogType="modify",this.dialogVisible=!0},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该".concat(this.title,", 是否继续?"),"提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",cancelButtonClass:"btn-custom-cancel",type:"warning",lockScroll:!1}).then((function(){e.id&&d({id:e.id}).then((function(e){var r=e.code;r||(t.$message({message:"删除成功",type:"success"}),t.init(),t.getwarehousePullList())}))})).catch((function(){t.$message({message:"已取消删除",type:"info"})}))},handleRowClick:function(e){e.row;var t=e.column;e.cell,e.event;if("操作"===t.label)return!1},resetForm:function(e){this.$refs[e].resetFields(),this.searchInit()}}},I=S,$=Object(j["a"])(I,n,a,!1,null,"1f2df09b",null);t["default"]=$.exports},a4bb:function(e,t,r){e.exports=r("8aae")},a8db:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("e265"),a=r.n(n),o=r("a4bb"),i=r.n(o);function l(e,t){if(null==e)return{};var r,n,a={},o=i()(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function c(e,t){if(null==e)return{};var r,n,o=l(e,t);if(a.a){var i=a()(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},be18:function(e,t,r){"use strict";var n=r("d3a8"),a=r.n(n);a.a},ce7e:function(e,t,r){var n=r("63b6"),a=r("584a"),o=r("294c");e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",i)}},d3a8:function(e,t,r){},e265:function(e,t,r){e.exports=r("ed33")},ed33:function(e,t,r){r("014b"),e.exports=r("584a").Object.getOwnPropertySymbols}}]);
//# sourceMappingURL=SAPBasewmsWarehouse.49938dcd.js.map