{"version":3,"sources":["webpack:///./src/mixins/tags.js","webpack:///./src/views/out-bound/outbound-information/edit/Dialog.vue?cbc4","webpack:///./src/apis/modules/out-bound/outbound-information-detail.js","webpack:///./src/views/out-bound/outbound-information/edit/index.vue?907d","webpack:///./src/views/out-bound/outbound-information/edit/index.vue?8e37","webpack:///./src/views/out-bound/outbound-information/edit/Dialog.vue?0534","webpack:///src/views/out-bound/outbound-information/edit/Dialog.vue","webpack:///./src/views/out-bound/outbound-information/edit/Dialog.vue?c039","webpack:///./src/views/out-bound/outbound-information/edit/Dialog.vue","webpack:///src/views/out-bound/outbound-information/edit/index.vue","webpack:///./src/views/out-bound/outbound-information/edit/index.vue?82c6","webpack:///./src/views/out-bound/outbound-information/edit/index.vue"],"names":["data","methods","setTagsTitleMixins","t","extraTitle","title","this","$route","meta","tempRoute","Object","assign","route","$store","dispatch","closeTagsMixins","closeTagsBackMixins","$router","go","getDetailApi","request","url","method","getSaveApi","modifySaveApi","getSaveDetailApi","submitDialogApi","getListApi","printApi","scanQROutWarehouseApi","timeout","saveStockOutMaterialsApi","render","_vm","_h","$createElement","_c","_self","staticClass","on","beforeClose","_v","attrs","$event","handleSave","handlePrintTemplate","_s","form","documentDate","accountingDate","shipmentFactoryName","billNumber","shipmentWarehouseName","movementType","costCenterName","ledgerSubjects","asset","receiptFactoryName","orderNumber","receiptWarehouseName","project","billType_dictText","affiliatedBillNumber","network","custumerCode","transferOrderNumber","ref","rules","nativeOn","preventDefault","staticStyle","model","value","callback","$$v","$set","expression","_l","label","item","key","trim","stockOutNum","stockOutItems","loading","detailList","columnList","handleRowClick","getDetail","scopedSlots","_u","fn","scope","id","handleDetail","row","dialogForm","editType","dialogVisible","staticRenderFns","initSelect","materialCode","materialName","materialSpec","addBarcode","inventoryList","length","refreshKey","expandList","init","splice","$index","handleConfirm","map","materialId","warehouseId","onSelectedBarcode","syncBarcode","barcodeVisible","name","components","MaterialBarcode","mixins","paginationPage","props","type","Boolean","default","String","Date","getTime","INIT_FORM","watch","handler","Promise","code","resolve","res","reject","err","column","$emit","done","list","filter","component","EditDialog","tags","tableData","computed","routeQuery","routeParams","mounted","$refs","formName","validate","push","params","billType","window","open"],"mappings":"kKAAe,QACbA,KADa,WAEX,MAAO,IAETC,QAAS,CAOPC,mBAPO,WAOyC,IAA7BC,EAA6B,uDAAzB,KAAMC,EAAmB,uDAAN,KACpCC,EAAQF,GAAKG,KAAKC,OAAOC,KAAKH,MAC5BI,EAAYC,OAAOC,OAAO,GAAIL,KAAKC,QACrCH,IACFC,EAAQ,GAAH,OAAMA,EAAN,YAAeD,EAAf,MAEP,IAAMQ,EAAQF,OAAOC,OAAO,GAAIF,EAAW,CAAEJ,UAC7CC,KAAKO,OAAOC,SAAS,6BAA8BF,IAKrDG,gBAnBO,WAoBL,IAAMN,EAAYC,OAAOC,OAAO,GAAIL,KAAKC,QACzCD,KAAKO,OAAOC,SAAS,mBAAoBL,IAK3CO,oBA1BO,WA2BL,IAAMP,EAAYC,OAAOC,OAAO,GAAIL,KAAKC,QACzCD,KAAKO,OAAOC,SAAS,mBAAoBL,GACzCH,KAAKW,QAAQC,IAAI,O,oCCjCvB,yBAA+sB,EAAG,G,kCCAltB,kUAGO,SAASC,EAAanB,GAC3B,OAAOoB,eAAQ,CACbC,IAAK,yCACLC,OAAQ,OACRtB,SAYG,SAASuB,EAAWvB,GACzB,OAAOoB,eAAQ,CACbC,IAAK,gCACLC,OAAQ,OACRtB,SAIG,SAASwB,EAAcxB,GAC5B,OAAOoB,eAAQ,CACbC,IAAK,iCACLC,OAAQ,OACRtB,SAIG,SAASyB,EAAiBzB,GAC/B,OAAOoB,eAAQ,CACbC,IAAK,mCACLC,OAAQ,OACRtB,SAIG,SAAS0B,EAAgB1B,GAC9B,OAAOoB,eAAQ,CACbC,IAAK,8DACLC,OAAQ,OACRtB,SAIG,SAAS2B,EAAW3B,GACzB,OAAOoB,eAAQ,CACbC,IAAK,qCACLC,OAAQ,OACRtB,SAYG,SAAS4B,IAAoB,IAAX5B,EAAW,uDAAJ,GAC9B,OAAOoB,eAAQ,CACbC,IAAK,kCACLC,OAAQ,OACRtB,SAIG,SAAS6B,IAAiC,IAAX7B,EAAW,uDAAJ,GAC3C,OAAOoB,eAAQ,CACbC,IAAK,+CACLC,OAAQ,OACRtB,OACA8B,QAAS,OAIN,SAASC,IAAoC,IAAX/B,EAAW,uDAAJ,GAC9C,OAAOoB,eAAQ,CACbC,IAAK,kDACLC,OAAQ,OACRtB,W,kCCxFJ,yBAA8sB,EAAG,G,yCCAjtB,IAAIgC,EAAS,WAAa,IAAIC,EAAI3B,KAAS4B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQN,EAAIO,cAAc,CAACP,EAAIQ,GAAG,SAAS,GAAGL,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOV,EAAIW,WAAW,WAAW,CAACX,EAAIQ,GAAG,SAASL,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQN,EAAIY,sBAAsB,CAACZ,EAAIQ,GAAG,WAAW,KAAKL,EAAG,SAAS,CAACA,EAAG,cAAc,CAACM,MAAM,CAAC,UAAY,KAAK,CAACN,EAAG,mBAAmB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACN,EAAG,kBAAkB,CAACM,MAAM,CAAC,OAAS,IAAI,CAACN,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKC,cAAgB,UAAUZ,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKE,gBAAkB,UAAUb,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKG,qBAAuB,UAAUd,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKI,YAAc,UAAUf,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKK,uBAAyB,UAAUhB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKM,cAAgB,UAAUjB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKO,gBAAkB,UAAUlB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKQ,gBAAkB,UAAUnB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,OAAO,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKS,OAAS,UAAUpB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKU,oBAAsB,UAAUrB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,OAAO,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKW,aAAe,UAAUtB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKY,sBAAwB,UAAUvB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,OAAO,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKa,SAAW,UAAUxB,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQT,EAAIc,KAAKc,mBAAqB,QAAQ,CAAC5B,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKe,sBAAwB,UAAU1B,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,OAAO,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKgB,SAAW,UAAU3B,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKiB,cAAgB,UAAU5B,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,QAAQ,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKkB,qBAAuB,WAAW,IAAI,IAAI,IAAI,GAAG7B,EAAG,UAAU,CAAC8B,IAAI,OAAO5B,YAAY,WAAWI,MAAM,CAAC,MAAQT,EAAIc,KAAK,MAAQd,EAAIkC,MAAM,OAAS,GAAG,cAAc,QAAQC,SAAS,CAAC,OAAS,SAASzB,GAAQA,EAAO0B,oBAAqB,CAACjC,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,OAAO,MAAQ,SAAS,CAACN,EAAG,YAAY,CAACE,YAAY,cAAcgC,YAAY,CAAC,MAAQ,SAAS5B,MAAM,CAAC,WAAa,GAAG,UAAY,GAAG,YAAc,QAAQ6B,MAAM,CAACC,MAAOvC,EAAIc,KAAS,KAAE0B,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAIc,KAAM,OAAQ2B,IAAME,WAAW,cAAc3C,EAAI4C,GAAG,CAAE,CAACL,MAAO,EAAEM,MAAO,MAAM,CAACN,MAAO,EAAEM,MAAO,QAAQ,SAASC,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKP,MAAM9B,MAAM,CAAC,MAAQqC,EAAKD,MAAM,MAAQC,EAAKP,YAAW,IAAI,GAAGpC,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,cAAc,MAAQ,OAAO,CAACN,EAAG,WAAW,CAACE,YAAY,cAAcgC,YAAY,CAAC,MAAQ,SAAS5B,MAAM,CAAC,YAAc,SAAS6B,MAAM,CAACC,MAAOvC,EAAIc,KAAgB,YAAE0B,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAIc,KAAM,cAA+B,kBAAR2B,EAAkBA,EAAIO,OAAQP,IAAOE,WAAW,uBAAuB,GAAGxC,EAAG,eAAe,CAACE,YAAY,KAAKI,MAAM,CAAC,KAAO,cAAc,MAAQ,OAAO,CAACN,EAAG,OAAO,CAACH,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKmC,kBAAkB9C,EAAG,eAAe,CAACE,YAAY,KAAKI,MAAM,CAAC,KAAO,gBAAgB,MAAQ,QAAQ,CAACN,EAAG,OAAO,CAACH,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKoC,qBAAqB,GAAG/C,EAAG,SAAS,CAACA,EAAG,YAAY,CAAC8B,IAAI,eAAexB,MAAM,CAAC,QAAUT,EAAImD,QAAQ,OAAQ,EAAK,WAAY,EAAM,aAAanD,EAAIc,KAAKsC,WAAW,cAAcpD,EAAIqD,WAAW,kBAAkB,IAAI,qBAAoB,GAAO/C,GAAG,CAAC,SAAWN,EAAIsD,eAAe,QAAUtD,EAAIuD,WAAWC,YAAYxD,EAAIyD,GAAG,CAAC,CAACV,IAAI,UAAUW,GAAG,SAASC,GAAO,MAAO,CAACxD,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,UAAYT,EAAIc,KAAK8C,IAAItD,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOV,EAAI6D,aAAaF,EAAMG,QAAQ,CAAC9D,EAAIQ,GAAG,gBAAgB,GAAGL,EAAG,cAAc,CAACM,MAAM,CAAC,cAAcT,EAAI+D,WAAW,YAAY/D,EAAIgE,UAAU1D,GAAG,CAAC,QAAUN,EAAIuD,WAAWjB,MAAM,CAACC,MAAOvC,EAAiB,cAAEwC,SAAS,SAAUC,GAAMzC,EAAIiE,cAAcxB,GAAKE,WAAW,oBAAoB,IACv1IuB,EAAkB,G,4FCDlB,EAAS,WAAa,IAAIlE,EAAI3B,KAAS4B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACM,MAAM,CAAC,QAAS,EAAK,kBAAiB,EAAK,yBAAwB,EAAM,oBAAmB,EAAM,MAAQT,EAAI5B,MAAM,KAAO,MAAM,UAAY,MAAM,QAAU4B,EAAIuC,MAAM,oBAAmB,EAAK,eAAevC,EAAIO,aAAaD,GAAG,CAAC,KAAON,EAAImE,aAAa,CAAChE,EAAG,eAAe,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACkC,YAAY,CAAC,gBAAgB,SAAS,CAAClC,EAAG,kBAAkB,CAACM,MAAM,CAAC,OAAS,GAAG,UAAY,WAAW,OAAS,IAAI,CAACN,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKsD,iBAAiBjE,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKuD,iBAAiBlE,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAKwD,kBAAkB,IAAI,GAAGnE,EAAG,MAAM,CAACkC,YAAY,CAAC,gBAAgB,OAAO,SAAW,WAAW,CAAClC,EAAG,YAAY,CAACE,YAAY,KAAKI,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQN,EAAIuE,aAAa,CAACvE,EAAIQ,GAAG,WAAW,GAAGL,EAAG,MAAM,CAACkC,YAAY,CAAC,gBAAgB,SAAS,CAAClC,EAAG,kBAAkB,CAACA,EAAG,uBAAuB,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIQ,GAAGR,EAAIa,GAAGb,EAAIc,KAAK0D,cAAgBxE,EAAIc,KAAK0D,cAAcC,OAAS,OAAO,IAAI,GAAGtE,EAAG,YAAY,CAAC4C,IAAI/C,EAAI0E,WAAWzC,IAAI,eAAexB,MAAM,CAAC,OAAQ,EAAK,WAAY,EAAM,aAAaT,EAAIc,KAAK0D,eAAiB,GAAG,cAAcxE,EAAIqD,WAAW,oBAAoB,IAAI,kBAAkB,IAAI,eAAe,GAAG,cAAcrD,EAAI2E,WAAW,qBAAoB,GAAOrE,GAAG,CAAC,SAAWN,EAAIsD,eAAe,QAAUtD,EAAI4E,MAAMpB,YAAYxD,EAAIyD,GAAG,CAAC,CAACV,IAAI,UAAUW,GAAG,SAASC,GAAO,MAAO,CAACxD,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAUH,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOV,EAAIc,KAAK0D,cAAcK,OAAOlB,EAAMmB,OAAQ,MAAM,CAAC9E,EAAIQ,GAAG,gBAAgB,GAAGL,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOV,EAAI+E,cAAc,WAAW,CAAC/E,EAAIQ,GAAG,SAASL,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQN,EAAIO,cAAc,CAACP,EAAIQ,GAAG,UAAU,GAAGL,EAAG,mBAAmB,CAACM,MAAM,CAAC,UAAYT,EAAIc,KAAK0D,cAAgBxE,EAAIc,KAAK0D,cAAcQ,KAAI,SAAUlC,GAAQ,OAAOA,EAAKc,MAAS,GAAG,aAAa,CAACqB,WAAYjF,EAAIc,KAAKmE,WAAYC,YAAalF,EAAIc,KAAKoE,aAAa,gBAAe,GAAM5E,GAAG,CAAC,QAAUN,EAAImF,kBAAkB,YAAcnF,EAAIoF,aAAa9C,MAAM,CAACC,MAAOvC,EAAkB,eAAEwC,SAAS,SAAUC,GAAMzC,EAAIqF,eAAe5C,GAAKE,WAAW,qBAAqB,IACp3E,EAAkB,G,omBCsEtB,wBACA,gBACA,gBACA,gBACA,mBAGA,GACE2C,KAAM,0BACNC,WAAY,CACVC,gBAAJ,QAEEC,OAAQ,CAACC,EAAX,MACEC,MAAO,CACLpD,MAAO,CACLqD,KAAMC,QACNC,SAAS,GAEX9B,SAAU,CACR4B,KAAMG,OACND,QAAS,IAEX/B,WAAY,CACV6B,KAAMnH,OACNqH,QAAS,WACP,OAAO,EAAf,WAIE/H,KAtBF,WAuBI,MAAO,CACLK,MAAO,KACPsG,YAAY,IAAIsB,MAAOC,UACvBnF,KAAMoF,IACNhE,MAAO,GACPmB,WAAY,CAClB,CACQ,OAAR,OACQ,KAAR,gBACQ,MAAR,MACQ,MAAR,SACQ,MAAR,IAEQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,MACQ,MAAR,KACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,WACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,kBACQ,MAAR,KACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,kBACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,kBACQ,MAAR,UACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,WAGMsB,WAAY,GACZU,gBAAgB,IAGpBc,MAAO,CACLpC,WAAY,CACVqC,QAAS,SAAf,GAC8B,QAAlB/H,KAAK2F,SACP3F,KAAKyC,KAAO,EAAtB,QAEUzC,KAAKyC,KAAO,EAAtB,SAKE9C,QAAS,CAEP4G,KAFJ,WAEA,WACM,OAAO,IAAIyB,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,CACUzC,GAAI,EAAd,UACA,sBACA,kBACe0C,IACH,EAAZ,QAGUC,EAAQC,MAClB,mBACUC,EAAOC,UAKb3B,cAnBJ,WAmBA,WACM,OAAN,OAAM,CAAN,KACA,YACA,sBACA,SACauB,IACH,EAAV,iBACU,EAAV,kBAEA,wBAKIhD,eAjCJ,YAiCA,+CAEM,GAAqB,OAAjBqD,EAAO9D,MACT,OAAO,GAIXsB,WAxCJ,WAyCM9F,KAAKuG,QAGPrE,YA5CJ,SA4CA,GACMlC,KAAKuI,MAAM,SAAS,GACpBvI,KAAKyC,KAAOrC,OAAOC,OAAO,GAAI,EAApC,SACsB,oBAATmI,GAAuBA,KAGhCtC,WAlDJ,WAmDMlG,KAAKgH,gBAAiB,GAGxBF,kBAtDJ,SAsDA,GACU2B,EAAKrC,OACPpG,KAAKyC,KAAK0D,cAAgBsC,EAAK9B,KAAI,SAA3C,UACA,QACA,kBACA,8BACA,UACA,8BACA,oBACA,sBACA,kCACA,kCACA,sCAGQ3G,KAAKyC,KAAK0D,cAAgB,IAK9BY,YA1EJ,SA0EA,GAEM/G,KAAKyC,KAAK0D,cAAgBnG,KAAKyC,KAAK0D,cAAcuC,QAAO,SAA/D,4BChRga,I,wBCQ5ZC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,gmBCyEf,wBACA,gBACA,kBACA,sBACA,cACA,oBACA,gBACA,kBACA,kBACA,gBACA,aACA,YACA,SACA,uBACA,WACA,eACA,WACA,gBACA,QACA,eACA,gBAGA,GACE1B,KAAM,mBACNC,WAAY,CACV0B,WAAJ,GAEExB,OAAQ,CAACyB,EAAX,aACEnJ,KANF,WAOI,MAAO,CACLK,MAAOC,KAAKC,OAAOC,KAAKH,MACxB+E,SAAS,EACTrC,KAAM,IACNqG,UAAW,GACX9D,WAAY,CAClB,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,8BACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,MACQ,MAAR,KACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,WACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,WAGMnB,MAAO,CACL0D,KAAM,CACd,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,YAIM7B,WAAY,GAEZC,SAAU,GAEVC,eAAe,IAGnBmD,SAAU,CACRC,WADJ,WACA,MACA,oBADA,EACA,aADA,EACA,SACM,MAAO,CAAb,0BAEIC,YALJ,WAKA,IAEA,gCACM,MAAO,CAAb,gBAGEC,QA9GF,WA+GIlJ,KAAKkF,aAEPvF,QAAS,CAEP,UAFJ,6KAGA,yEAHA,UAGA,EAHA,OAIA,UAJA,iDAKA,iBALA,wGAQI2C,WARJ,SAQA,cACMtC,KAAKmJ,MAAMC,GAAUC,SAA3B,oKACA,EADA,wBAEA,EAFA,KAGA,QAHA,SAKA,kCALA,UAKA,EALA,OAMA,UANA,iDAOA,YACA,eACA,iBAEA,cAXA,kDAcA,GAdA,oGAmBInH,YA5BJ,WA6BMlC,KAAKO,OAAOC,SAAS,mBAAoBR,KAAKC,QAE9CD,KAAKW,QAAQ2I,KAAK,CAChBrC,KAAM,qBACNsC,OAAQ,CACN1G,WAAY7C,KAAKgJ,WAAWnG,WAC5B2G,SAAUxJ,KAAKgJ,WAAWQ,aAKhCvE,eAxCJ,YAwCA,oCACM,GAAqB,OAAjBqD,EAAO9D,MACT,OAAO,GAIXgB,aA9CJ,SA8CA,GACMxF,KAAK2F,SAAW,SAChB3F,KAAK0F,WAAa,EAAxB,MACM1F,KAAK4F,eAAgB,GAGvBrD,oBApDJ,WAoDA,WACM,OAAO,IAAIyF,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,CACUnF,WAAY,EAAtB,kBACA,sBACA,kBACeoF,GAEHwB,OAAOC,KAAK,mCAAxB,GAEUxB,EAAQC,MAClB,mBACUC,EAAOC,YCpS8Y,ICQ3Z,G,UAAY,eACd,EACA3G,EACAmE,GACA,EACA,KACA,WACA,OAIa,e","file":"js/OutBoundInfoEdit.4bfd3217.js","sourcesContent":["export default {\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    /*\r\n    *   1. 修改tagsView\r\n    *   @params t (默认为this.$route.meta.title) tags中名称\r\n    *   @params extraTitle  tags中除了当前页面 name 额外添加的name  展示方式为 name(extraTitle)\r\n    *   完全修改的时候只传入完成 t 即可， 需要在当前 title 中添加小括号补充参数的传递 null, extraTitle\r\n    */\r\n    setTagsTitleMixins(t = null, extraTitle = null) {\r\n      let title = t || this.$route.meta.title\r\n      const tempRoute = Object.assign({}, this.$route)\r\n      if (extraTitle) {\r\n        title = `${title}（${extraTitle}）`\r\n      }\r\n      const route = Object.assign({}, tempRoute, { title })\r\n      this.$store.dispatch('tagsView/updateVisitedView', route)\r\n    },\r\n    /*\r\n    *   2. 关闭当前页签\r\n    */\r\n    closeTagsMixins() {\r\n      const tempRoute = Object.assign({}, this.$route)\r\n      this.$store.dispatch('tagsView/delView', tempRoute)\r\n    },\r\n    /*\r\n    *   3. 关闭当前页签并后退路由\r\n    */\r\n    closeTagsBackMixins() {\r\n      const tempRoute = Object.assign({}, this.$route)\r\n      this.$store.dispatch('tagsView/delView', tempRoute)\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=2df8a867&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=2df8a867&lang=scss&scoped=true&\"","import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getDetailApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOutDetail/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增保存之前的数据填充\r\nexport function getAddDetailApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/beforeAdd',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 保存\r\nexport function getSaveApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 出库单修改保存接口\r\nexport function modifySaveApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 保存之后的详情\r\nexport function getSaveDetailApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 详情保存\r\nexport function submitDialogApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOutDetail/saveMaterialDetailInventory',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 出库单列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 打印\r\nexport function printApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 扫码出库\r\nexport function scanQROutWarehouseApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/scanQROutWarehouse',\r\n    method: 'post',\r\n    data,\r\n    timeout: 2 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n// 出库管理/出库单据信息 保存物料\r\nexport function saveStockOutMaterialsApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsStockOut/saveStockOutMaterials',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f1e23890&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f1e23890&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"fl\"},[_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"返回\")])],1),_c('div',{staticClass:\"fr\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSave('form')}}},[_vm._v(\"保 存\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePrintTemplate}},[_vm._v(\"打印预览\")])],1)]),_c('el-row',[_c('el-collapse',{attrs:{\"accordion\":\"\"}},[_c('el-collapse-item',{attrs:{\"title\":\"单据信息\"}},[_c('el-descriptions',{attrs:{\"column\":2}},[_c('el-descriptions-item',{attrs:{\"label\":\"凭证日期\"}},[_vm._v(_vm._s(_vm.form.documentDate || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"记账日期\"}},[_vm._v(_vm._s(_vm.form.accountingDate || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"出货工厂\"}},[_vm._v(_vm._s(_vm.form.shipmentFactoryName || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"单据编号\"}},[_vm._v(_vm._s(_vm.form.billNumber || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"出货仓库\"}},[_vm._v(_vm._s(_vm.form.shipmentWarehouseName || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"移动类型\"}},[_vm._v(_vm._s(_vm.form.movementType || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"成本中心\"}},[_vm._v(_vm._s(_vm.form.costCenterName || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"总账科目\"}},[_vm._v(_vm._s(_vm.form.ledgerSubjects || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"资产\"}},[_vm._v(_vm._s(_vm.form.asset || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"收货工厂\"}},[_vm._v(_vm._s(_vm.form.receiptFactoryName || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"订单\"}},[_vm._v(_vm._s(_vm.form.orderNumber || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"收货仓库\"}},[_vm._v(_vm._s(_vm.form.receiptWarehouseName || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"项目\"}},[_vm._v(_vm._s(_vm.form.project || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":_vm.form.billType_dictText || '---'}},[_vm._v(_vm._s(_vm.form.affiliatedBillNumber || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"网络\"}},[_vm._v(_vm._s(_vm.form.network || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"客户号\"}},[_vm._v(_vm._s(_vm.form.custumerCode || '---'))]),_c('el-descriptions-item',{attrs:{\"label\":\"转储单\"}},[_vm._v(_vm._s(_vm.form.transferOrderNumber || '---'))])],1)],1)],1)],1),_c('el-form',{ref:\"form\",staticClass:\"clearfix\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"inline\":\"\",\"label-width\":\"80px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"type\",\"label\":\"单据类型\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"单据类型\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l(([{value: 1,label: '常规'},{value: 2,label: '战略'}]),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"explanation\",\"label\":\"说明\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"请填写说明\"},model:{value:(_vm.form.explanation),callback:function ($$v) {_vm.$set(_vm.form, \"explanation\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.explanation\"}})],1),_c('el-form-item',{staticClass:\"fr\",attrs:{\"prop\":\"stockOutNum\",\"label\":\"数量\"}},[_c('span',[_vm._v(_vm._s(_vm.form.stockOutNum))])]),_c('el-form-item',{staticClass:\"fr\",attrs:{\"prop\":\"stockOutItems\",\"label\":\"出库项\"}},[_c('span',[_vm._v(_vm._s(_vm.form.stockOutItems))])])],1),_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"index\":true,\"selection\":false,\"table-data\":_vm.form.detailList,\"column-list\":_vm.columnList,\"operation-width\":120,\"table-column-sort\":false},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.getDetail},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.form.id},on:{\"click\":function($event){return _vm.handleDetail(scope.row)}}},[_vm._v(\"详细\")])]}}])})],1),_c('edit-dialog',{attrs:{\"dialog-form\":_vm.dialogForm,\"edit-type\":_vm.editType},on:{\"confirm\":_vm.getDetail},model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:\"dialogVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-drawer',{attrs:{\"center\":true,\"append-to-body\":true,\"close-on-press-escape\":false,\"wrapper-closable\":false,\"title\":_vm.title,\"size\":\"70%\",\"direction\":\"btt\",\"visible\":_vm.value,\"destroy-on-close\":true,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"query-more-scroll-drawer\"},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-descriptions',{attrs:{\"border\":\"\",\"direction\":\"vertical\",\"column\":3}},[_c('el-descriptions-item',{attrs:{\"label\":\"物料编号\"}},[_vm._v(_vm._s(_vm.form.materialCode))]),_c('el-descriptions-item',{attrs:{\"label\":\"物料名称\"}},[_vm._v(_vm._s(_vm.form.materialName))]),_c('el-descriptions-item',{attrs:{\"label\":\"规格型号\"}},[_vm._v(_vm._s(_vm.form.materialSpec))])],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"15px\",\"overflow\":\"hidden\"}},[_c('el-button',{staticClass:\"fl\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addBarcode}},[_vm._v(\"新增条码\")])],1),_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-descriptions',[_c('el-descriptions-item',{attrs:{\"label\":\"条码数量\"}},[_vm._v(_vm._s(_vm.form.inventoryList ? _vm.form.inventoryList.length : 0))])],1)],1),_c('table-com',{key:_vm.refreshKey,ref:\"baseTableRef\",attrs:{\"index\":true,\"selection\":false,\"table-data\":_vm.form.inventoryList || [],\"column-list\":_vm.columnList,\"table-height-type\":310,\"operation-width\":130,\"show-operate\":\"\",\"expand-list\":_vm.expandList,\"table-column-sort\":false},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.init},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.form.inventoryList.splice(scope.$index, 1)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"drawer-footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleConfirm('form')}}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1),_c('material-barcode',{attrs:{\"selection\":_vm.form.inventoryList ? _vm.form.inventoryList.map(function (item) { return item.id; }) : [],\"extra-info\":{materialId: _vm.form.materialId, warehouseId: _vm.form.warehouseId},\"show-operate\":true},on:{\"confirm\":_vm.onSelectedBarcode,\"syncBarcode\":_vm.syncBarcode},model:{value:(_vm.barcodeVisible),callback:function ($$v) {_vm.barcodeVisible=$$v},expression:\"barcodeVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-drawer\r\n    :center=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-press-escape=\"false\"\r\n    :wrapper-closable=\"false\"\r\n    :title=\"title\"\r\n    size=\"70%\"\r\n    direction=\"btt\"\r\n    :visible=\"value\"\r\n    :destroy-on-close=\"true\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"query-more-scroll-drawer\">\r\n      <div style=\"margin-bottom: 15px;\">\r\n        <el-descriptions border direction=\"vertical\" :column=\"3\">\r\n          <el-descriptions-item label=\"物料编号\">{{ form.materialCode }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"物料名称\">{{ form.materialName }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"规格型号\">{{ form.materialSpec }}</el-descriptions-item>\r\n        </el-descriptions>\r\n      </div>\r\n      <div style=\"margin-bottom: 15px;overflow: hidden;\">\r\n        <el-button type=\"primary\" class=\"fl\" @click=\"addBarcode\">新增条码</el-button>\r\n      </div>\r\n      <div style=\"margin-bottom: 15px;\">\r\n        <el-descriptions>\r\n          <el-descriptions-item label=\"条码数量\">{{ form.inventoryList ? form.inventoryList.length : 0 }}</el-descriptions-item>\r\n        </el-descriptions>\r\n      </div>\r\n      <table-com\r\n        :key=\"refreshKey\"\r\n        ref=\"baseTableRef\"\r\n        :index=\"true\"\r\n        :selection=\"false\"\r\n        :table-data=\"form.inventoryList || []\"\r\n        :column-list=\"columnList\"\r\n        :table-height-type=\"310\"\r\n        :operation-width=\"130\"\r\n        show-operate\r\n        :expand-list=\"expandList\"\r\n        :table-column-sort=\"false\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"init\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" @click=\"form.inventoryList.splice(scope.$index, 1)\">删除</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-scrollbar>\r\n    <div class=\"drawer-footer\">\r\n      <el-button type=\"primary\" @click=\"handleConfirm('form')\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n    <!-- 条码选择 -->\r\n    <material-barcode\r\n      v-model=\"barcodeVisible\"\r\n      :selection=\"form.inventoryList ? form.inventoryList.map(item => item.id) : []\"\r\n      :extra-info=\"{materialId: form.materialId, warehouseId: form.warehouseId}\"\r\n      :show-operate=\"true\"\r\n      @confirm=\"onSelectedBarcode\"\r\n      @syncBarcode=\"syncBarcode\"\r\n    />\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport MaterialBarcode from '@/components/ModalSelect/MaterialBarcode'\r\nimport { getDetailApi as getListApi, submitDialogApi } from '@/apis/modules/out-bound/outbound-information-detail'\r\n\r\nconst INIT_FORM = () => ({\r\n  materialCode: '',\r\n  materialName: '',\r\n  materialSpec: '',\r\n  inventoryList: []\r\n})\r\n\r\nexport default {\r\n  name: 'InStorageInfoReceiptCom',\r\n  components: {\r\n    MaterialBarcode\r\n  },\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    editType: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    dialogForm: {\r\n      type: Object,\r\n      default: () => {\r\n        return { ...INIT_FORM() }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      title: '详细',\r\n      refreshKey: new Date().getTime(),\r\n      form: INIT_FORM(),\r\n      rules: {},\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'barcodeNumber',\r\n          label: '条码号',\r\n          align: 'center',\r\n          width: 200,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'currentPosition',\r\n          label: '位置',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'inWarehouseDate',\r\n          label: '入库日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'inWarehouseDays',\r\n          label: '在库时长(天)',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      expandList: [],\r\n      barcodeVisible: false // 条码弹窗控制变量\r\n    }\r\n  },\r\n  watch: {\r\n    dialogForm: {\r\n      handler: function(value) {\r\n        if (this.editType === 'add') {\r\n          this.form = { ...INIT_FORM() }\r\n        } else {\r\n          this.form = { ...value }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // Tip 初始化方法\r\n    init() {\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          id: this.form.id\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.form = data\r\n            console.log('已选择的条码', data.inventoryList)\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 确定操作\r\n    handleConfirm() {\r\n      submitDialogApi({\r\n        ...this.form\r\n      }).then(res => {\r\n        const { code } = res\r\n        if (!code) {\r\n          this.$emit('confirm')\r\n          this.beforeClose()\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // Tip 列表单击\r\n    handleRowClick({ row, rowIndex, column, cell, event }) {\r\n      console.log(row, column, event)\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    },\r\n    // Tip 弹窗初始化\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    // Tip 关闭弹窗\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.form = Object.assign({}, { ...INIT_FORM() })\r\n      typeof done === 'function' && done()\r\n    },\r\n    // Tip 新增条码\r\n    addBarcode() {\r\n      this.barcodeVisible = true\r\n    },\r\n    // Tip 选择条码\r\n    onSelectedBarcode(list) {\r\n      if (list.length) {\r\n        this.form.inventoryList = list.map(item => ({\r\n          id: item.id,\r\n          batchNo: item.batchNo,\r\n          barcodeNumber: item.barcodeNumber,\r\n          num: item.num,\r\n          unitMeasureId: item.unitMeasureId,\r\n          unitName: item.unitName,\r\n          storageId: item.storageId,\r\n          currentPosition: item.currentPosition,\r\n          inWarehouseDate: item.inWarehouseDate,\r\n          inWarehouseDays: item.inWarehouseDays\r\n        }))\r\n      } else {\r\n        this.form.inventoryList = []\r\n      }\r\n      console.log('被选择的条码', list)\r\n    },\r\n    // Tip 同步条码\r\n    syncBarcode(item) {\r\n      console.log('被拆箱的条码', item)\r\n      this.form.inventoryList = this.form.inventoryList.filter(c => c.id !== item.id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.query-more-scroll-drawer {\r\n  height: 500px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n.query-more-drawer-wrapper {\r\n  min-height: 420px;\r\n}\r\n.drawer-footer {\r\n  text-align: right;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=2df8a867&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=2df8a867&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2df8a867\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <el-row class=\"clearfix\">\r\n      <div class=\"fl\">\r\n        <el-button @click=\"beforeClose\">返回</el-button>\r\n      </div>\r\n      <div class=\"fr\">\r\n        <!-- Tip 出库单id生成后保存按钮不展示 -->\r\n        <el-button type=\"primary\" @click=\"handleSave('form')\">保 存</el-button>\r\n        <el-button type=\"primary\" @click=\"handlePrintTemplate\">打印预览</el-button>\r\n      </div>\r\n    </el-row>\r\n    <el-row>\r\n      <el-collapse accordion>\r\n        <el-collapse-item title=\"单据信息\">\r\n          <el-descriptions :column=\"2\">\r\n            <el-descriptions-item label=\"凭证日期\">{{ form.documentDate || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"记账日期\">{{ form.accountingDate || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"出货工厂\">{{ form.shipmentFactoryName || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"单据编号\">{{ form.billNumber || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"出货仓库\">{{ form.shipmentWarehouseName || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"移动类型\">{{ form.movementType || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"成本中心\">{{ form.costCenterName || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"总账科目\">{{ form.ledgerSubjects || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"资产\">{{ form.asset || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"收货工厂\">{{ form.receiptFactoryName || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"订单\">{{ form.orderNumber || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"收货仓库\">{{ form.receiptWarehouseName || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"项目\">{{ form.project || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item :label=\"form.billType_dictText || '---'\">{{ form.affiliatedBillNumber || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"网络\">{{ form.network || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"客户号\">{{ form.custumerCode || '---' }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"转储单\">{{ form.transferOrderNumber || '---' }}</el-descriptions-item>\r\n          </el-descriptions>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n    </el-row>\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" inline label-width=\"80px\" class=\"clearfix\" @submit.native.prevent>\r\n      <el-form-item prop=\"type\" label=\"单据类型\">\r\n        <el-select v-model=\"form.type\" filterable clearable placeholder=\"单据类型\" style=\"width: 178px;\" class=\"filter-item\">\r\n          <el-option\r\n            v-for=\"item in [{value: 1,label: '常规'},{value: 2,label: '战略'}]\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item prop=\"explanation\" label=\"说明\">\r\n        <el-input v-model.trim=\"form.explanation\" placeholder=\"请填写说明\" class=\"filter-item\" style=\"width: 178px;\" />\r\n      </el-form-item>\r\n      <el-form-item prop=\"stockOutNum\" label=\"数量\" class=\"fr\">\r\n        <span>{{ form.stockOutNum }}</span>\r\n      </el-form-item>\r\n      <el-form-item prop=\"stockOutItems\" label=\"出库项\" class=\"fr\">\r\n        <span>{{ form.stockOutItems }}</span>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        :loading=\"loading\"\r\n        :index=\"true\"\r\n        :selection=\"false\"\r\n        :table-data=\"form.detailList\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"120\"\r\n        :table-column-sort=\"false\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"getDetail\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" :disabled=\"!form.id\" @click=\"handleDetail(scope.row)\">详细</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <!-- 详情弹窗 -->\r\n    <edit-dialog\r\n      v-model=\"dialogVisible\"\r\n      :dialog-form=\"dialogForm\"\r\n      :edit-type=\"editType\"\r\n      @confirm=\"getDetail\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tags from '@/mixins/tags'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport EditDialog from './Dialog'\r\nimport { printApi, getSaveDetailApi, modifySaveApi as saveApi } from '@/apis/modules/out-bound/outbound-information-detail'\r\nimport { requestWrapper } from '@/utils/utils'\r\nconst INIT_FORM = () => ({\r\n  documentDate: '', // 凭证日期\r\n  accountingDate: '', // 记证日期\r\n  receiptFactoryName: '', // 收货工厂\r\n  billNumber: '', // 单据编号\r\n  receiptWarehouse: '', // 收货仓库\r\n  movementType: '', // 移动类型\r\n  costCenterName: '', // 成本中心\r\n  ledgerSubjects: '', // 总科账目\r\n  supplierName: '', // 供应商\r\n  buyerName: '', // 采购员\r\n  buyerTel: '', // 电话号\r\n  asset: '', // 资产\r\n  purchaseOrderNumber: '', // 采购订单号\r\n  network: '', // 网络\r\n  orderNumber: '', // 订单\r\n  project: '', // 项目\r\n  contractCode: '', // 合同号/汇总号\r\n  type: '', // 单据类型\r\n  explanation: '', // 说明\r\n  detailList: [] // 出库单->物料列表\r\n})\r\n\r\nexport default {\r\n  name: 'OutBoundInfoEdit',\r\n  components: {\r\n    EditDialog\r\n  },\r\n  mixins: [tags, paginationPage],\r\n  data() {\r\n    return {\r\n      title: this.$route.meta.title,\r\n      loading: false,\r\n      form: INIT_FORM(),\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编码',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      rules: {\r\n        type: [\r\n          { required: true, message: '请选择单据类型', trigger: 'change' }\r\n        ]\r\n      },\r\n      // 弹窗表单信息\r\n      dialogForm: {},\r\n      // 弹窗类型\r\n      editType: '',\r\n      // 详情弹窗变量\r\n      dialogVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    routeQuery() {\r\n      const { billNumber, billType } = this.$route.query\r\n      return { billNumber, billType }\r\n    },\r\n    routeParams() {\r\n      // Tip 出库单号\r\n      const { billNumber } = this.$route.params\r\n      return { billNumber }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDetail()\r\n  },\r\n  methods: {\r\n    // Tip 根据生成的出库单获取详情数据\r\n    async getDetail() {\r\n      const res = await requestWrapper(getSaveDetailApi({ billNumber: this.routeParams.billNumber }))\r\n      if (!res.success) return\r\n      this.form = res.data\r\n    },\r\n    // Tip 保存\r\n    handleSave(formName) {\r\n      this.$refs[formName].validate(async(valid) => {\r\n        if (valid) {\r\n          const params = {\r\n            ...this.form\r\n          }\r\n          const res = await requestWrapper(saveApi(params))\r\n          if (!res.success) return\r\n          this.$message({\r\n            message: '操作成功',\r\n            type: 'success'\r\n          })\r\n          this.getDetail()\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // Tip 返回\r\n    beforeClose() {\r\n      this.$store.dispatch('tagsView/delView', this.$route)\r\n      // 跳转到《出库详情》页面\r\n      this.$router.push({\r\n        name: 'OutBoundInfoDetail',\r\n        params: {\r\n          billNumber: this.routeQuery.billNumber, // 单号\r\n          billType: this.routeQuery.billType // 单据类型\r\n        }\r\n      })\r\n    },\r\n    // Tip 列表点击\r\n    handleRowClick({ row, column, cell, event }) {\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    },\r\n    // Tip 详情\r\n    handleDetail(item) {\r\n      this.editType = 'detail'\r\n      this.dialogForm = { ...item }\r\n      this.dialogVisible = true\r\n    },\r\n    // Tip 打印预览\r\n    handlePrintTemplate() {\r\n      return new Promise((resolve, reject) => {\r\n        printApi({\r\n          billNumber: this.form.billNumber\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            console.log('data', data)\r\n            window.open(process.env.VUE_APP_BASE_API_WMS + data)\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bt15 {\r\n  margin-bottom: 15px !important;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f1e23890&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f1e23890&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1e23890\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}