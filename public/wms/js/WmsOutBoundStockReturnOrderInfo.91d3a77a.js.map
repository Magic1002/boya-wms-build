{"version":3,"sources":["webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/EditDialog.vue?a976","webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/index.vue?41fe","webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/EditDialog.vue?044c","webpack:///src/views/out-bound/stock-return/stockReturnOrderInfo/EditDialog.vue","webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/EditDialog.vue?48bd","webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/EditDialog.vue","webpack:///src/views/out-bound/stock-return/stockReturnOrderInfo/index.vue","webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/index.vue?b4a7","webpack:///./src/views/out-bound/stock-return/stockReturnOrderInfo/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","handleGoBack","_v","attrs","form","status","handleEffect","handleFinish","ref","rules","staticStyle","model","value","callback","$$v","$set","expression","inspectChange","loading","detailList","columnList","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","tkInfo","materialInfo","getDetail","dlgView","staticRenderFns","title","beforeClose","initSelect","visible","tableData","handleDelete","index","handleConfirm","_s","id","extraInfo","stockOutDetailId","forBusiness","returnWarehouseNumber","billNumber","excludeIds","length","map","c","stockOutDetailInventoryId","selectedBarcode","components","BarcodeList","mixins","props","type","Boolean","default","String","dialogType","Object","data","computed","methods","list","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","lockScroll","message","returnWarehouseMaterialId","code","$message","Promise","$emit","done","component","EditDialog","paginationPage","$route","meta","date","stockOutNumber","inspect","mounted","params","$store","dispatch","$router","push","resolve","res","reject","err","item"],"mappings":"mIAAA,yBAAmtB,EAAG,G,kECAttB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQP,EAAIQ,eAAe,CAACR,EAAIS,GAAG,SAAS,GAAGL,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,YAAY,CAACM,MAAM,CAAC,SAA+B,IAApBV,EAAIW,KAAKC,QAAoC,IAApBZ,EAAIW,KAAKC,OAAa,KAAO,UAAU,KAAO,wBAAwBL,GAAG,CAAC,MAAQP,EAAIa,eAAe,CAACb,EAAIS,GAAG,QAAQL,EAAG,YAAY,CAACM,MAAM,CAAC,SAA+B,IAApBV,EAAIW,KAAKC,QAAoC,IAApBZ,EAAIW,KAAKC,OAAa,KAAO,UAAU,KAAO,iBAAiBL,GAAG,CAAC,MAAQP,EAAIc,eAAe,CAACd,EAAIS,GAAG,SAAS,KAAKL,EAAG,UAAU,CAACW,IAAI,OAAOL,MAAM,CAAC,OAAS,GAAG,MAAQV,EAAIW,KAAK,MAAQX,EAAIgB,MAAM,cAAc,OAAO,iBAAiB,SAAS,CAACZ,EAAG,SAAS,CAACA,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,IAAI,CAACN,EAAG,eAAe,CAACM,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACN,EAAG,WAAW,CAACa,YAAY,CAAC,MAAQ,SAASP,MAAM,CAAC,SAAW,GAAG,YAAc,WAAWQ,MAAM,CAACC,MAAOnB,EAAIW,KAAe,WAAES,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKtB,EAAIW,KAAM,aAAcU,IAAME,WAAW,sBAAsB,IAAI,GAAGnB,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,IAAI,CAACN,EAAG,eAAe,CAACM,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACN,EAAG,WAAW,CAACa,YAAY,CAAC,MAAQ,SAASP,MAAM,CAAC,SAAW,GAAG,YAAc,WAAWQ,MAAM,CAACC,MAAOnB,EAAIW,KAAS,KAAES,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKtB,EAAIW,KAAM,OAAQU,IAAME,WAAW,gBAAgB,IAAI,GAAGnB,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,IAAI,CAACN,EAAG,eAAe,CAACM,MAAM,CAAC,MAAQ,SAAS,CAACN,EAAG,WAAW,CAACa,YAAY,CAAC,MAAQ,SAASP,MAAM,CAAC,SAAW,GAAG,YAAc,WAAWQ,MAAM,CAACC,MAAOnB,EAAIW,KAAmB,eAAES,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKtB,EAAIW,KAAM,iBAAkBU,IAAME,WAAW,0BAA0B,IAAI,GAAGnB,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,IAAI,CAACN,EAAG,eAAe,CAACM,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACN,EAAG,iBAAiB,CAACE,YAAY,iBAAiBW,YAAY,CAAC,MAAQ,SAASV,GAAG,CAAC,MAAQP,EAAIwB,eAAeN,MAAM,CAACC,MAAOnB,EAAIW,KAAY,QAAES,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKtB,EAAIW,KAAM,UAAWU,IAAME,WAAW,iBAAiB,CAACnB,EAAG,kBAAkB,CAACM,MAAM,CAAC,OAAQ,IAAO,CAACV,EAAIS,GAAG,OAAOL,EAAG,kBAAkB,CAACM,MAAM,CAAC,OAAQ,IAAQ,CAACV,EAAIS,GAAG,QAAQ,IAAI,IAAI,IAAI,IAAI,GAAGL,EAAG,SAAS,CAACA,EAAG,YAAY,CAACW,IAAI,eAAeL,MAAM,CAAC,QAAUV,EAAIyB,QAAQ,OAAQ,EAAK,WAAY,EAAM,aAAazB,EAAIW,KAAKe,WAAW,cAAc1B,EAAI2B,WAAW,kBAAkB,IAAI,oBAAoB,IAAI,qBAAoB,GAAOC,YAAY5B,EAAI6B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAC5B,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,gBAAgBH,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOjC,EAAIkC,WAAWF,EAAMG,QAAQ,CAACnC,EAAIS,GAAG,gBAAgB,GAAGL,EAAG,cAAc,CAACM,MAAM,CAAC,aAAa,CAAE0B,OAAQpC,EAAIoC,OAAQC,aAAcrC,EAAIqC,eAAgB9B,GAAG,CAAC,OAASP,EAAIsC,WAAWpB,MAAM,CAACC,MAAOnB,EAAW,QAAEoB,SAAS,SAAUC,GAAMrB,EAAIuC,QAAQlB,GAAKE,WAAW,cAAc,IACzzFiB,EAAkB,G,oECDlB,EAAS,WAAa,IAAIxC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACM,MAAM,CAAC,kBAAiB,EAAK,yBAAwB,EAAM,oBAAmB,EAAM,MAAQV,EAAIyC,MAAM,UAAY,MAAM,KAAO,MAAM,QAAUzC,EAAImB,MAAM,oBAAmB,EAAK,eAAenB,EAAI0C,aAAanC,GAAG,CAAC,KAAOP,EAAI2C,aAAa,CAACvC,EAAG,SAAS,CAACa,YAAY,CAAC,aAAa,UAAU,CAACb,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,gBAAgBH,GAAG,CAAC,MAAQ,SAAS0B,GAAQjC,EAAI4C,SAAU,KAAQ,CAAC5C,EAAIS,GAAG,SAAS,GAAGL,EAAG,SAAS,CAACA,EAAG,YAAY,CAACW,IAAI,eAAeL,MAAM,CAAC,SAAU,EAAM,WAAY,EAAM,qBAAoB,EAAM,aAAaV,EAAI6C,UAAU,cAAc7C,EAAI2B,WAAW,kBAAkB,IAAI,oBAAoB,IAAI,gBAAe,GAAMC,YAAY5B,EAAI6B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAC5B,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAUH,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOjC,EAAI8C,aAAad,EAAMG,IAAIH,EAAMe,UAAU,CAAC/C,EAAIS,GAAG,gBAAgB,GAAGL,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACM,MAAM,CAAC,QAAUV,EAAIyB,QAAQ,KAAO,WAAWlB,GAAG,CAAC,MAAQP,EAAIgD,gBAAgB,CAAChD,EAAIS,GAAGT,EAAIiD,GAAGjD,EAAIyB,QAAU,UAAY,UAAUrB,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQP,EAAI0C,cAAc,CAAC1C,EAAIS,GAAG,UAAU,GAAGL,EAAG,eAAe,CAACM,MAAM,CAAC,aAAa,CAACwC,GAAIlD,EAAImD,UAAUd,aAAae,iBAAiBC,YAAa,kBAAmBC,sBAAuBtD,EAAImD,UAAUf,OAAOmB,WAAYC,WAAYxD,EAAI6C,UAAUY,OAASzD,EAAI6C,UAAUa,KAAI,SAAUC,GAAK,OAAOA,EAAEC,6BAAgC,KAAKrD,GAAG,CAAC,QAAUP,EAAI6D,iBAAiB3C,MAAM,CAACC,MAAOnB,EAAW,QAAEoB,SAAS,SAAUC,GAAMrB,EAAI4C,QAAQvB,GAAKE,WAAW,cAAc,IAChnD,EAAkB,G,omBCmDtB,OACEuC,WAAY,CACVC,YAAJ,QAEEC,OAAQ,CAAC,EAAX,aACEC,MAAO,CACL9C,MAAO,CACL+C,KAAMC,QACNC,SAAS,GAEX3B,MAAO,CACLyB,KAAMG,OACND,QAAS,UAEXE,WAAY,CACVJ,KAAMG,OACND,QAAS,IAEXjB,UAAW,CACTe,KAAMK,OACNH,QAAS,WAAf,YAGEI,KAvBF,WAwBI,MAAO,CACL3B,UAAW,GACXpB,SAAS,EACTE,WAAY,CAClB,CACQ,OAAR,OACQ,KAAR,kBACQ,MAAR,KACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,MAEA,CACQ,OAAR,OACQ,KAAR,gBACQ,MAAR,MACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,MAEA,CACQ,OAAR,OACQ,KAAR,MACQ,MAAR,KACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,MAEA,CACQ,OAAR,OACQ,KAAR,WACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,OAGMiB,SAAS,IAGb6B,SAAU,GAEVC,QAAS,CACP/B,WADJ,WAEM1C,KAAKqC,aAEPuB,gBAJJ,SAIA,GACUc,EAAKlB,OACPxD,KAAK4C,UAAY8B,EAAKjB,KAAI,SAAlC,sDAEQzD,KAAK4C,UAAY,IAGrBC,aAXJ,SAWA,gBACM7C,KAAK2E,SAAS,sBAAuB,KAAM,CACzCC,kBAAmB,MACnBC,iBAAkB,MAClBZ,KAAM,UACNa,kBAAmB,oBACnBC,YAAY,IACpB,iBACQ,EAAR,yBACA,mBAEQ,EAAR,cACUvC,MAAO,KACPwC,QAAS,cAIfjC,cA5BJ,SA4BA,cACW/C,KAAK4C,UAAUY,QAOpBxD,KAAKwB,SAAU,EACf,OAAN,OAAM,CAAN,CACQC,WAAYzB,KAAK4C,UACjBS,sBAAuBrD,KAAKkD,UAAUf,OAAOmB,WAC7C2B,0BAA2BjF,KAAKkD,UAAUd,aAAaa,GACvDE,iBAAkBnD,KAAKkD,UAAUd,aAAae,mBACtD,sBACA,SACa+B,IACH,EAAV,UACYF,QAAS,GAArB,qBACYf,KAAM,YAER,EAAV,gBACU,EAAV,eAEQ,EAAR,cACA,mBAEQ,EAAR,eAzBQjE,KAAKmF,SAAS,CACZH,QAAS,UACTf,KAAM,aA0BZ5B,UA1DJ,SA0DA,cACM,OAAO,IAAI+C,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,yDACA,kBAAU,IACV,kBACA,IACY,EAAZ,gBACY,EAAZ,OAGA,mBAEU,EAAV,UAII3C,YA1EJ,SA0EA,GACMzC,KAAKqF,MAAM,SAAS,GACJ,oBAATC,GAAuBA,OClNgY,I,wBCQhaC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,olBCgDf,OACE1B,WAAY,CACV2B,WAAJ,GAEEzB,OAAQ,CAAC0B,EAAX,MACEzB,MAAO,GAEPO,KAPF,WAQI,MAAO,CACL/B,MAAOxC,KAAK0F,OAAOC,KAAKnD,MACxBhB,SAAS,EACTE,WAAY,CAClB,CACQ,OAAR,OACQ,KAAR,oBACQ,MAAR,MACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,MAEA,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,MAGA,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,8BACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,cACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,YACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,WAGMhB,KAAM,CACJ4C,WAAY,GACZsC,KAAM,GACNC,eAAgB,GAChBC,QAAS,KACTrE,WAAY,GACZd,OAAQ,IAEVI,MAAO,CACL8E,eAAgB,CACxB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQD,KAAM,CACd,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQE,QAAS,CACjB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,YAGM3D,OAAQ,GACRC,aAAc,GACdE,SAAS,IAGbkC,SAAU,GAEVuB,QAhHF,WAkHI/F,KAAK0F,OAAOM,OAAO1C,YAActD,KAAKqC,aAExCoC,QAAS,CAEP7D,aAFJ,WAEA,WACM,OAAO,IAAIwE,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,yCACA,kBAAU,IACV,SACA,GACY,EAAZ,YACA,kBACc,EAAd,iBACgB,MAAhB,KACgB,QAAhB,YAIU,EAAV,MAEA,mBACU,EAAV,UAKIvE,aAxBJ,WAwBA,WACM,OAAO,IAAIuE,SAAQ,SAAzB,KAEQ,OAAR,OAAQ,CAAR,yCACA,kBAAU,IAEV,SACA,IACY,EAAZ,6CAEY,EAAZ,cAAc,KAAd,wBACY,EAAZ,UACc,QAAd,OACc,KAAd,gBAIA,2BAMI7E,aA/CJ,WAgDMP,KAAKiG,OAAOC,SAAS,mBAAoBlG,KAAK0F,QAE9C1F,KAAKmG,QAAQC,KAAK,CAAxB,wCAGI/D,UArDJ,WAqDA,WACA,GACQiB,WAAYtD,KAAK0F,OAAOM,OAAO1C,YAEjC,OAAO,IAAI8B,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,yBACA,kBACU,IAAKF,EAAM,CACT,IAAKX,EAAM,OACX,EAAZ,eACY,EAAZ,oCACY,EAAZ,wBACY,EAAZ,4CACY,EAAZ,8BACY,EAAZ,oCACY,EAAZ,4BAEU8B,EAAQC,MAClB,mBACUC,EAAOC,UAKbjF,cA7EJ,WA6EA,WACM,OAAN,OAAM,CAAN,+CACA,kBAEQ,EAAR,eAEA,wBAKIU,WAxFJ,SAwFA,GACMjC,KAAKoC,aAAeqE,EACpBzG,KAAKsC,SAAU,KCjR0Y,ICO3Z,EAAY,eACd,EACAxC,EACAyC,GACA,EACA,KACA,WACA,MAIa,e","file":"js/WmsOutBoundStockReturnOrderInfo.91d3a77a.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=style&index=0&id=6112dc58&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=style&index=0&id=6112dc58&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"fl\"},[_c('el-button',{on:{\"click\":_vm.handleGoBack}},[_vm._v(\"返回\")])],1),_c('div',{staticClass:\"fr\"},[_c('el-button',{attrs:{\"disabled\":_vm.form.status === 1 || _vm.form.status === 2,\"type\":\"warning\",\"icon\":\"el-icon-circle-check\"},on:{\"click\":_vm.handleEffect}},[_vm._v(\"生效\")]),_c('el-button',{attrs:{\"disabled\":_vm.form.status === 0 || _vm.form.status === 2,\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":_vm.handleFinish}},[_vm._v(\"完成\")])],1)]),_c('el-form',{ref:\"form\",attrs:{\"inline\":\"\",\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"left\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"退库单号\",\"prop\":\"billNumber\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":\"\",\"placeholder\":\"请填写退库单号\"},model:{value:(_vm.form.billNumber),callback:function ($$v) {_vm.$set(_vm.form, \"billNumber\", $$v)},expression:\"form.billNumber\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"退库日期\",\"prop\":\"date\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":\"\",\"placeholder\":\"请填写退库日期\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"出库单号\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":\"\",\"placeholder\":\"请填写出库单号\"},model:{value:(_vm.form.stockOutNumber),callback:function ($$v) {_vm.$set(_vm.form, \"stockOutNumber\", $$v)},expression:\"form.stockOutNumber\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"是否检验\",\"prop\":\"inspect\"}},[_c('el-radio-group',{staticClass:\"my-inspect-sty\",staticStyle:{\"width\":\"178px\"},on:{\"input\":_vm.inspectChange},model:{value:(_vm.form.inspect),callback:function ($$v) {_vm.$set(_vm.form, \"inspect\", $$v)},expression:\"form.inspect\"}},[_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1)],1)],1)],1),_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"index\":true,\"selection\":false,\"table-data\":_vm.form.detailList,\"column-list\":_vm.columnList,\"operation-width\":120,\"table-height-type\":685,\"table-column-sort\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_c('edit-dialog',{attrs:{\"extra-info\":{ tkInfo: _vm.tkInfo, materialInfo: _vm.materialInfo }},on:{\"submit\":_vm.getDetail},model:{value:(_vm.dlgView),callback:function ($$v) {_vm.dlgView=$$v},expression:\"dlgView\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-drawer',{attrs:{\"append-to-body\":true,\"close-on-press-escape\":false,\"wrapper-closable\":false,\"title\":_vm.title,\"direction\":\"btt\",\"size\":\"50%\",\"visible\":_vm.value,\"destroy-on-close\":true,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-row',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.visible = true}}},[_vm._v(\"新增\")])],1),_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"loading\":false,\"selection\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":170,\"table-height-type\":270,\"show-operate\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row,scope.index)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"drawer-footer\"},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleConfirm}},[_vm._v(_vm._s(_vm.loading ? '提交中 ...' : '确 定'))]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1),_c('barcode-list',{attrs:{\"extra-info\":{id: _vm.extraInfo.materialInfo.stockOutDetailId,forBusiness: 'returnWarehouse', returnWarehouseNumber: _vm.extraInfo.tkInfo.billNumber, excludeIds: _vm.tableData.length ? _vm.tableData.map(function (c) { return c.stockOutDetailInventoryId; }) : []}},on:{\"confirm\":_vm.selectedBarcode},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-drawer\r\n    :append-to-body=\"true\"\r\n    :close-on-press-escape=\"false\"\r\n    :wrapper-closable=\"false\"\r\n    :title=\"title\"\r\n    direction=\"btt\"\r\n    size=\"50%\"\r\n    :visible=\"value\"\r\n    :destroy-on-close=\"true\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-row style=\"text-align: right;\">\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"visible = true\">新增</el-button>\r\n    </el-row>\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        :loading=\"false\"\r\n        :selection=\"false\"\r\n        :table-column-sort=\"false\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"170\"\r\n        :table-height-type=\"270\"\r\n        :show-operate=\"true\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" @click=\"handleDelete(scope.row,scope.index)\">删除</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <div class=\"drawer-footer\">\r\n      <el-button :loading=\"loading\" type=\"primary\" @click=\"handleConfirm\">{{ loading ? '提交中 ...' : '确 定' }}</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n    <!-- 退货内容三级弹窗  -->\r\n    <barcode-list\r\n      v-model=\"visible\"\r\n      :extra-info=\"{id: extraInfo.materialInfo.stockOutDetailId,forBusiness: 'returnWarehouse', returnWarehouseNumber: extraInfo.tkInfo.billNumber, excludeIds: tableData.length ? tableData.map(c => c.stockOutDetailInventoryId) : []}\"\r\n      @confirm=\"selectedBarcode\"\r\n    />\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { getDetailApi, getMaterialAddApi as addApi } from '@/apis/modules/out-bound/stock-return'\r\nimport { dictCodeMixins } from '@/mixins/dictionary'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport BarcodeList from '@/components/ModalSelect/stockReturn'\r\n\r\nexport default {\r\n  components: {\r\n    BarcodeList\r\n  },\r\n  mixins: [dictCodeMixins, paginationPage],\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '新增退库内容'\r\n    },\r\n    dialogType: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      loading: false,\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'currentPosition',\r\n          label: '库位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barcodeNumber',\r\n          label: '条码号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n        }\r\n      ],\r\n      visible: false\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    initSelect() {\r\n      this.getDetail()\r\n    },\r\n    selectedBarcode(list) {\r\n      if (list.length) {\r\n        this.tableData = list.map(c => ({ ...c, stockOutDetailInventoryId: c.id }))\r\n      } else {\r\n        this.tableData = []\r\n      }\r\n    },\r\n    handleDelete(item, i) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        this.tableData.splice(i, 1)\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    handleConfirm(formName) {\r\n      if (!this.tableData.length) {\r\n        this.$message({\r\n          message: '请选择退库内容',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.loading = true\r\n      addApi({\r\n        detailList: this.tableData,\r\n        returnWarehouseNumber: this.extraInfo.tkInfo.billNumber,\r\n        returnWarehouseMaterialId: this.extraInfo.materialInfo.id,\r\n        stockOutDetailId: this.extraInfo.materialInfo.stockOutDetailId\r\n      }).then(res => {\r\n        const { code } = res\r\n        if (!code) {\r\n          this.$message({\r\n            message: `${this.title}成功`,\r\n            type: 'success'\r\n          })\r\n          this.$emit('submit')\r\n          this.beforeClose()\r\n        }\r\n        this.loading = false\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.loading = false\r\n      })\r\n    },\r\n    getDetail(row) {\r\n      return new Promise((resolve, reject) => {\r\n        getDetailApi({ returnWarehouseMaterialId: this.extraInfo.materialInfo.id })\r\n          .then(res => {\r\n            const { code, data } = res\r\n            if (!code) {\r\n              this.tableData = data || []\r\n              resolve(res)\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err)\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      typeof done === 'function' && done()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep:focus {\r\n  outline: 0;\r\n}\r\n.drawer-footer {\r\n  margin-bottom: 15px;\r\n  text-align: right;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialog.vue?vue&type=template&id=6112dc58&scoped=true&\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditDialog.vue?vue&type=style&index=0&id=6112dc58&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6112dc58\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <el-row class=\"clearfix\">\r\n      <div class=\"fl\">\r\n        <el-button @click=\"handleGoBack\">返回</el-button>\r\n      </div>\r\n      <div class=\"fr\">\r\n        <!-- 退库单初始状态 status=0，草稿 -->\r\n        <!-- 生效后状态 status=1，未完成 -->\r\n        <!-- 完成后状态 status=2，已完成 -->\r\n        <!-- <el-button v-if=\"[1, 2].includes(form.status)\" :disabled=\"form.status !== 1\" type=\"primary\" icon=\"el-icon-check\" @click=\"handleFinish\">完成</el-button>\r\n        <el-button v-if=\"[0].includes(form.status)\" :disabled=\"form.status !== 0\" type=\"warning\" icon=\"el-icon-circle-check\" @click=\"handleEffect\">生效</el-button> -->\r\n        <el-button :disabled=\"form.status === 1 || form.status === 2\" type=\"warning\" icon=\"el-icon-circle-check\" @click=\"handleEffect\">生效</el-button>\r\n        <el-button :disabled=\"form.status === 0 || form.status === 2\" type=\"primary\" icon=\"el-icon-check\" @click=\"handleFinish\">完成</el-button>\r\n      </div>\r\n    </el-row>\r\n    <el-form ref=\"form\" inline :model=\"form\" :rules=\"rules\" label-width=\"80px\" label-position=\"left\">\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n          <el-form-item label=\"退库单号\" prop=\"billNumber\">\r\n            <el-input v-model=\"form.billNumber\" disabled placeholder=\"请填写退库单号\" style=\"width: 178px;\" />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item label=\"退库日期\" prop=\"date\">\r\n            <el-input v-model=\"form.date\" disabled placeholder=\"请填写退库日期\" style=\"width: 178px;\" />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item label=\"出库单号\">\r\n            <el-input v-model=\"form.stockOutNumber\" disabled placeholder=\"请填写出库单号\" style=\"width: 178px;\" />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item label=\"是否检验\" prop=\"inspect\">\r\n            <el-radio-group v-model=\"form.inspect\" style=\"width: 178px;\" class=\"my-inspect-sty\" @input=\"inspectChange\">\r\n              <el-radio-button :label=\"true\">是</el-radio-button>\r\n              <el-radio-button :label=\"false\">否</el-radio-button>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        :loading=\"loading\"\r\n        :index=\"true\"\r\n        :selection=\"false\"\r\n        :table-data=\"form.detailList\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"120\"\r\n        :table-height-type=\"685\"\r\n        :table-column-sort=\"false\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"warning\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <edit-dialog v-model=\"dlgView\" :extra-info=\"{ tkInfo, materialInfo }\" @submit=\"getDetail\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { finishApi, effectApi, getReturnWarehouseDetailApi, getEditApi as editApi } from '@/apis/modules/out-bound/stock-return'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport EditDialog from './EditDialog'\r\nexport default {\r\n  components: {\r\n    EditDialog\r\n  },\r\n  mixins: [paginationPage],\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      title: this.$route.meta.title,\r\n      loading: false,\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupCode',\r\n          label: '物料组',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: null\r\n\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'stockOutNum',\r\n          label: '出库数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'returnNum',\r\n          label: '退库数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      form: {\r\n        billNumber: '', // 退库单号\r\n        date: '', // 退库日期\r\n        stockOutNumber: '', // 出库单号\r\n        inspect: null, // 是否检验\r\n        detailList: [], // 退库物料\r\n        status: '' // 退库单状态\r\n      },\r\n      rules: {\r\n        stockOutNumber: [\r\n          { required: true, message: '请选择出库单号', trigger: 'blur' }\r\n        ],\r\n        date: [\r\n          { required: true, message: '请输入出库日期', trigger: 'blur' }\r\n        ],\r\n        inspect: [\r\n          { required: true, message: '请选择是否检验', trigger: 'change' }\r\n        ]\r\n      },\r\n      tkInfo: {},\r\n      materialInfo: {},\r\n      dlgView: false\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  mounted() {\r\n    // 根据退库单号查详情\r\n    this.$route.params.billNumber && this.getDetail()\r\n  },\r\n  methods: {\r\n    // 生效\r\n    handleEffect() {\r\n      return new Promise((resolve, reject) => {\r\n        effectApi({ billNumber: this.$route.params.billNumber })\r\n          .then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.getDetail()\r\n                .then(res => {\r\n                  this.$notify.success({\r\n                    title: '成功',\r\n                    message: `生效成功`\r\n                  })\r\n                })\r\n            }\r\n            resolve(res)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    // 完成\r\n    handleFinish() {\r\n      return new Promise((resolve, reject) => {\r\n        // 参数为退库单号\r\n        finishApi({ billNumber: this.$route.params.billNumber })\r\n          .then(res => {\r\n            console.log('res: ', res)\r\n            const { code } = res\r\n            if (!code) {\r\n              this.$store.dispatch('tagsView/delView', this.$route)\r\n              // 返回到退库页面\r\n              this.$router.push({ name: 'OutBoundStockReturn' })\r\n              this.$message({\r\n                message: `操作成功`,\r\n                type: 'success'\r\n              })\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log('err', err)\r\n          })\r\n      })\r\n    },\r\n    // 返回\r\n    handleGoBack() {\r\n      this.$store.dispatch('tagsView/delView', this.$route)\r\n      // 返回到新增退库信息页面\r\n      this.$router.push({ name: 'WmsOutBoundAddStockReturnInfo' })\r\n    },\r\n    // 退库单详情\r\n    getDetail() {\r\n      const params = {\r\n        billNumber: this.$route.params.billNumber\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getReturnWarehouseDetailApi(params).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            if (!data) return\r\n            this.tkInfo = { ...data }\r\n            this.form.billNumber = this.tkInfo.billNumber\r\n            this.form.date = this.tkInfo.date\r\n            this.form.stockOutNumber = this.tkInfo.stockOutNumber\r\n            this.form.inspect = this.tkInfo.inspect\r\n            this.form.detailList = this.tkInfo.detailList\r\n            this.form.status = this.tkInfo.status\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 是否检验状态改变回调\r\n    inspectChange() {\r\n      editApi({ id: this.tkInfo.id, inspect: this.form.inspect })\r\n        .then(res => {\r\n          console.log(res)\r\n          this.getDetail()\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    // 编辑\r\n    handleEdit(item) {\r\n      this.materialInfo = item\r\n      this.dlgView = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=535048b6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"535048b6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}