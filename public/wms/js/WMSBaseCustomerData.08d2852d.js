(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WMSBaseCustomerData"],{2994:function(e,t,r){},"32a6":function(e,t,r){var n=r("241e"),i=r("c3a1");r("ce7e")("keys",(function(){return function(e){return i(n(e))}}))},"83a4":function(e,t,r){"use strict";var n=r("2994"),i=r.n(n);i.a},"8aae":function(e,t,r){r("32a6"),e.exports=r("584a").Object.keys},a4bb:function(e,t,r){e.exports=r("8aae")},a8db:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("e265"),i=r.n(n),o=r("a4bb"),a=r.n(o);function l(e,t){if(null==e)return{};var r,n,i={},o=a()(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function c(e,t){if(null==e)return{};var r,n,o=l(e,t);if(i.a){var a=i()(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},ce7e:function(e,t,r){var n=r("63b6"),i=r("584a"),o=r("294c");e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},e265:function(e,t,r){e.exports=r("ed33")},ed33:function(e,t,r){r("014b"),e.exports=r("584a").Object.getOwnPropertySymbols},f04d:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"clearfix top-filter"},[r("el-form",{ref:"filterItem",attrs:{model:e.query,inline:""}},[r("el-form-item",{staticClass:"fl",attrs:{prop:"custumerName"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"178px"},attrs:{filterable:"",clearable:"",placeholder:"客户名称"},model:{value:e.query.custumerName,callback:function(t){e.$set(e.query,"custumerName",t)},expression:"query.custumerName"}},e._l(e.custumerPullList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-button",{staticClass:"filter-item",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchInit}},[e._v("搜索")]),r("el-button",{staticClass:"filter-item",attrs:{type:"warning",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("filterItem")}}},[e._v("重置")]),r("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),r("el-row",[r("table-com",{ref:"baseTableRef",attrs:{loading:e.loading,selection:!1,"table-data":e.tableData,"column-list":e.columnList,"operation-width":180,"table-column-sort":!1},on:{rowClick:e.handleRowClick,refresh:e.searchInit},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",icon:"el-icon-edit"},on:{click:function(r){return e.handleModify(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),r("pagination",{attrs:{page:e.pageInfo.current,limit:e.pageInfo.size,total:e.total},on:{"update:page":function(t){return e.$set(e.pageInfo,"current",t)},"update:limit":function(t){return e.$set(e.pageInfo,"size",t)},pagination:e.init}}),r("edit-dialog",{attrs:{"dialog-form":e.dialogForm,"edit-type":e.dialogType,title:e.dialogTitle},on:{submit:e.init},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}})],1)},i=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("a8db")),a=r("bd86"),l=r("bc43");function c(e){return Object(l["a"])({url:"/basic/custumer/pageList",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/basic/custumer/listItem",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/basic/custumer/add",method:"post",data:e})}function d(e){return Object(l["a"])({url:"/basic/custumer/edit",method:"post",data:e})}function f(e){return Object(l["a"])({url:"/basic/custumer/delete",method:"post",data:e})}var m=r("1790"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-drawer",{attrs:{center:!0,"append-to-body":!0,"close-on-press-escape":!1,"wrapper-closable":!1,title:e.title,size:"50",visible:e.value,"destroy-on-close":!0,"before-close":e.beforeClose},on:{open:e.initSelect}},[r("el-form",{ref:"form",attrs:{model:e.form,inline:"",rules:e.rules,"label-width":"120px"}},[r("el-scrollbar",{staticClass:"scroll-drawer"},[r("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[r("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入客户名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"客户编号",prop:"code"}},[r("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入客户编号"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code","string"===typeof t?t.trim():t)},expression:"form.code"}})],1),r("el-form-item",{attrs:{label:"客户简称",prop:"abbName"}},[r("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入客户简称"},model:{value:e.form.abbName,callback:function(t){e.$set(e.form,"abbName","string"===typeof t?t.trim():t)},expression:"form.abbName"}})],1)],1),r("div",{staticClass:"drawer-footer"},[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleConfirm("form")}}},[e._v(e._s(e.loading?"提交中 ...":"确 定"))]),r("el-button",{on:{click:e.beforeClose}},[e._v("取 消")])],1)],1)],1)},b=[];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={name:"",code:"",abbName:""},O={name:"CustomerInfoDialogComs",props:{value:{type:Boolean,default:!1},title:{type:String,default:""},editType:{type:String,default:"add"},dialogForm:{type:Object,default:function(){return h({},y)}}},data:function(){return{form:y,loading:!1,rules:{name:[{required:!0,message:"请输入客户名称",trigger:"blur"}],code:[{required:!0,message:"请输入客户编号",trigger:"blur"}],abbName:[{required:!0,message:"请输入客户简称",trigger:"blur"}]},gradeOpts:[]}},watch:{dialogForm:{handler:function(e){"add"===this.editType?this.form=h({},y):this.form=h({},e)},immediate:!0}},methods:{handleConfirm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!1,"add"===t.editType?u(h({},t.form)).then((function(e){var r=e.code;r||(t.$message({message:"".concat(t.title,"成功"),type:"success"}),t.$emit("submit"),t.beforeClose()),t.loading=!1})).catch((function(e){t.loading=!1})):d(h({},t.form)).then((function(e){var r=e.code;r||(t.$message({message:"".concat(t.title,"成功"),type:"success"}),t.$emit("submit"),t.beforeClose()),t.loading=!1})).catch((function(e){t.loading=!1}))}))},initSelect:function(){},beforeClose:function(e){this.$refs.form.resetFields(),this.$emit("input",!1),this.form=Object.assign({},h({},y)),"function"===typeof e&&e()}}},v=O,w=(r("83a4"),r("2877")),j=Object(w["a"])(v,p,b,!1,null,"6714fd0d",null),x=j.exports;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={components:{EditDialog:x},mixins:[m["a"]],data:function(){return{query:{custumerName:""},dialogForm:{},title:this.$route.meta.title,loading:!1,tableData:[],custumerPullList:[],dialogType:"add",dialogVisible:!1,columnList:[{module:"word",prop:"code",label:"客户编号",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"name",label:"客户名称",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"abbName",label:"客户简称",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"dataSources_dictText",label:"数据来源",align:"center",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"}]}},computed:{dialogTitle:function(){return"add"===this.dialogType?"新增".concat(this.title):"编辑".concat(this.title)}},mounted:function(){this.init(),this.getcustumerPullList()},methods:{init:function(){var e=this;return this.loading=!0,new Promise((function(t,r){c(k({page:k({},e.pageInfo)},e.query)).then((function(r){var n=r.code,i=r.data;if(!n){var a=i.list,l=Object(o["a"])(i,["list"]);e.initPage(l),e.tableData=a}e.loading=!1,t(r)})).catch((function(t){e.loading=!1,r(t)}))}))},handleAdd:function(){this.dialogType="add",this.dialogForm={},this.dialogVisible=!0},getcustumerPullList:function(){var e=this;return new Promise((function(t,r){s({}).then((function(r){var n=r.code,i=r.data;n||(e.custumerPullList=i||[]),t(r)})).catch((function(e){r(e)}))}))},handleModify:function(e){this.dialogForm=k({},e),this.dialogType="modufy",this.dialogVisible=!0},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该".concat(this.title,", 是否继续?"),"提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",cancelButtonClass:"btn-custom-cancel",type:"warning",lockScroll:!1}).then((function(){e.id&&f({id:e.id,dataSources:e.dataSources}).then((function(e){var r=e.code;r||(t.$message({message:"删除成功",type:"success"}),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},resetForm:function(e){this.$refs[e].resetFields(),this.searchInit()},handleRowClick:function(e){e.row;var t=e.column;e.cell,e.event;if("操作"===t.label)return!1}}},S=C,$=Object(w["a"])(S,n,i,!1,null,null,null);t["default"]=$.exports}}]);
//# sourceMappingURL=WMSBaseCustomerData.08d2852d.js.map