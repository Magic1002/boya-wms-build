(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OutBoundInfoEdit~WarehouseDisposition"],{"1f49":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,top:"5vh",visible:e.value,"show-close":!0,width:"920px","lock-scroll":!1,"destroy-on-close":!0,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.beforeClose},on:{open:e.initSelect}},[n("el-scrollbar",{staticClass:"scroll-dialog"},[n("el-row",[n("table-com",{ref:e.refName,attrs:{"refresh-key":e.refreshKey,"table-height-type":490,loading:e.loading,index:!0,"index-fixed":!1,selection:!0,multiple:e.multiple,"selection-fixed":!1,"table-column-sort":!1,"table-data":e.tableData,"column-list":e.columnList,"show-operate":e.showOperate,"operate-fixed":!1,"table-selection":e.tableSelection,"operation-width":120},on:{selectionChange:e.selectionChange},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",disabled:0===t.row.isCanSplit},on:{click:function(n){return e.handleDevanning(t.row)}}},[e._v("拆箱")])]}}])})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirmDialog}},[e._v("确 定")]),n("el-button",{on:{click:e.beforeClose}},[e._v("取 消")])],1),n("devanning-dialog",{attrs:{"extra-info":e.devanningForm},on:{confirm:e.handleConfirmDevanning},model:{value:e.devanningvisible,callback:function(t){e.devanningvisible=t},expression:"devanningvisible"}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("75fc")),a=(n("6762"),n("2fdb"),n("bd86")),l=(n("7514"),n("c5f6"),n("ec26")),c=n("c650"),s=n("1790"),u=n("72ba");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"MaterialSelect",components:{DevanningDialog:c["a"]},mixins:[s["a"]],props:{value:{required:!0,type:Boolean},title:{type:String,default:"条码选择"},multiple:{type:Boolean,default:!0},selection:{type:Array,default:function(){return[]}},max:{type:Number,default:0},ids:{type:Array,default:function(){return[]}},extraInfo:{type:Object,default:function(){}},showOperate:{type:Boolean,default:!0}},dicts:[],data:function(){return{loading:!1,refName:"modelSelectMaterialSelect",query:{},tableData:[],columnList:[{module:"word",prop:"barcodeNumber",label:"条码号",align:"center",minWidth:170,fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"num",label:"数量",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"unitName",label:"计量单位",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"},{module:"word",prop:"currentPosition",label:"存放位置",align:"center",minWidth:"",fixed:!1,sortable:!1,resizable:!0,formatter:null,headerAlign:"center"}],columnSets:[],tableSelection:[],deptSelectedInfo:{list:[],visible:!1,radio:""},devanningForm:{},devanningvisible:!1,refreshKey:1}},methods:{confirmDialog:function(){this.$emit("confirm",this.tableSelection),this.beforeClose()},handleConfirmDevanning:function(e){var t=this;this.$emit("syncBarcode",e),this.init().then((function(){var e=t.tableData.find((function(e){return e.id===t.devanningForm.id}));e&&(t.devanningForm=e)}))},init:function(){var e=this,t=f({},this.query,{},this.extraInfo);return new Promise((function(n,o){Object(u["c"])(f({},t)).then((function(t){var o=t.code,i=t.data;o||(e.tableData=i.map((function(e){return f({uuid:Object(l["a"])(),deliveryNumber:e.orderNum},e)})),e.refreshKey++,e.tableSelection=e.tableData.filter((function(t){return e.selection.includes(t.id)}))),e.loading=!1,n(t)})).catch((function(t){e.loading=!1,o(t)}))}))},initSelect:function(){this.init()},selectionChange:function(e){this.tableSelection=Object(r["a"])(e)},handleUpdateTableSelected:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},handleDefault:function(){this.tableSelection=new Array(0)},beforeClose:function(e){this.$emit("input",!1),this.handleDefault(),"function"===typeof e&&e()},onDeptSelectConfirm:function(e){e.length&&(this.query.usedOffice=e[0].name)},handleDevanning:function(e){this.devanningvisible=!0,this.devanningForm=f({},e)}}},b=p,m=(n("d3f5"),n("2877")),h=Object(m["a"])(b,o,i,!1,null,"87c2b9e0",null);t["a"]=h.exports},"9cf4":function(e,t,n){},d3f5:function(e,t,n){"use strict";var o=n("9cf4"),i=n.n(o);i.a},ec26:function(e,t,n){"use strict";const o="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var i={randomUUID:o};let r;const a=new Uint8Array(16);function l(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}const c=[];for(let d=0;d<256;++d)c.push((d+256).toString(16).slice(1));function s(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}function u(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();e=e||{};const o=e.random||(e.rng||l)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return s(o)}t["a"]=u}}]);
//# sourceMappingURL=OutBoundInfoEdit~WarehouseDisposition.8c9d391f.js.map