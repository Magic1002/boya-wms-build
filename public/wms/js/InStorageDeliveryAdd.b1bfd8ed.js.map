{"version":3,"sources":["webpack:///./src/apis/modules/base/baseMaterialInformation.js","webpack:///./src/apis/modules/in-storage/purchase/index.js","webpack:///./src/views/in-storage/purchase/delivery/add/index.vue?f256","webpack:///./src/views/in-storage/purchase/delivery/add/Dialog.vue?5541","webpack:///./src/views/in-storage/purchase/delivery/add/DetailDialog.vue?4c20","webpack:///src/views/in-storage/purchase/delivery/add/DetailDialog.vue","webpack:///./src/views/in-storage/purchase/delivery/add/DetailDialog.vue?ffe4","webpack:///./src/views/in-storage/purchase/delivery/add/DetailDialog.vue","webpack:///src/views/in-storage/purchase/delivery/add/Dialog.vue","webpack:///./src/views/in-storage/purchase/delivery/add/Dialog.vue?4936","webpack:///./src/views/in-storage/purchase/delivery/add/Dialog.vue","webpack:///./src/views/in-storage/purchase/OrderMaterial.vue?d8d6","webpack:///src/views/in-storage/purchase/OrderMaterial.vue","webpack:///./src/views/in-storage/purchase/OrderMaterial.vue?3db6","webpack:///./src/views/in-storage/purchase/OrderMaterial.vue","webpack:///./src/views/in-storage/purchase/Material.vue?bb50","webpack:///src/views/in-storage/purchase/Material.vue","webpack:///./src/views/in-storage/purchase/Material.vue?e761","webpack:///./src/views/in-storage/purchase/Material.vue","webpack:///./src/views/in-storage/purchase/delivery/add/MaterialChoose.vue?5d70","webpack:///src/views/in-storage/purchase/delivery/add/MaterialChoose.vue","webpack:///./src/views/in-storage/purchase/delivery/add/MaterialChoose.vue?3712","webpack:///./src/views/in-storage/purchase/delivery/add/MaterialChoose.vue","webpack:///src/views/in-storage/purchase/delivery/add/index.vue","webpack:///./src/views/in-storage/purchase/delivery/add/index.vue?6a2a","webpack:///./src/views/in-storage/purchase/delivery/add/index.vue","webpack:///./src/views/in-storage/purchase/delivery/add/index.vue?1310","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/views/in-storage/purchase/delivery/add/Dialog.vue?89e9","webpack:///./src/mixins/printTagWired.js","webpack:///./src/apis/modules/base/baseUnit.js","webpack:///./src/apis/modules/in-storage/purchase/delivery.js","webpack:///./src/views/in-storage/purchase/delivery/add/MaterialChoose.vue?1a19","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./src/views/in-storage/purchase/Material.vue?7073","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./src/views/in-storage/purchase/OrderMaterial.vue?7de8","webpack:///./src/mixins/tableHeadSet.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/uuid/dist/esm-browser/native.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./src/apis/request.download.js","webpack:///./src/views/in-storage/purchase/delivery/add/DetailDialog.vue?f89b"],"names":["getListApi","data","request","url","method","getAddApi","getEditApi","getDeleteApi","getTreeListApi","getContractDetailApi","addTreeListApi","editTreeListApi","delTreeListApi","getTreeNodeDetailApi","timeout","Infinity","getListNewApi","addOrderApi","editOrderApi","getOrderApi","modifyOrderRemarkApi","getPurchaseOrderHistoryApi","exportOrderMaterialDetailApi","download","printOrderDetailApi","allMaterialListApi","delOrderMaterialApi","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","on","beforeClose","_v","params","view","staticStyle","attrs","handleSave","_s","_e","includes","form","status","canStockInMatarialCount","handleInWarehouse","ref","rules","model","callback","$$v","$set","trim","orderType","$event","handleAddMaterial","isReverse","enabled","handleAddMaterial1","handleSetTable","query","nativeOn","preventDefault","type","indexOf","_k","keyCode","key","searchInit","init","resetForm","handleAllGenerate","handleAllPrint","tableComKey","refTableName","tableSelection","tableLoading","formIdent","tableData","columnList","expandList","handleCellStyle","refreshKey","selectable","handleRowClick","selectionChange","getDynamicRow","scopedSlots","_u","fn","scope","row","handleGenerateBarcode","handleViewBarcode","handleDelete","pageInfo","current","size","total","paginationStatusChange","dialogForm","editType","confirmCallBack","dialogVisible","map","i","materialId","id","Number","orderId","onSelectConfirm","orderSelectInfo","selectInfo","deliveryReceiptId","excludeOrderMaterialIds","c","orderMaterialId","handleChooseConfirm","visible","staticRenderFns","title","initSelect","materialCode","materialName","materialSpec","materialAssessType_dictText","orderNumber","unitName","deliveredNumber","deliveryNumber","$route","extraInfo","handleModify","handleClean","length","handlePrintAll","loading","handlePrint","columnList1","dialogInfo1","subBarCodeList","skuVisible","dialogInfo","editInfoType","dialogTitle","deliveryMaterialId","info","useMinUnit","handleInfoMinSkuNameChange","_l","item","minSkuName","materialSpq","handleUseMinUnitChange","handleUnitChange","unitIdShow","baseValidate1","handleUpdate","refName","multiple","refresh","numberSum","handlePrintBarcode","slot","hasDuplicates","confirmDialog","mixins","paginationPage","props","required","Boolean","String","default","selection","Array","max","Object","dicts","columnListBase","columnListExtra","columnSets","deptSelectedInfo","list","radio","unitList","minSkuUnitPullList","computed","isSnNo","minSkuUnit","Set","snNoArr","bool","unitId","unitNumber","minSkuUnitId","watch","methods","getUnitPullList","initList","Promise","code","resolve","res","reject","err","page","resetTableColumn","baseValidate","$notify","error","message","useMinSku","$emit","done","absenceBatchNo","absenceTime","absenceSnNOArr","warning","dmdList","spq","confirmFlag","submitBottomDetailList","confirmEditMaterial","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","confirmButtonClass","lockScroll","printNumber","getDataAndPrint","dmdEntity","batchNo","number","unitMeasureId","qualityGuaranteePeriod","barCode","snNo","barCodeType","handleNumberChange","$nextTick","lastRow","handleCalculateDate","result","productionDate","y","date","getFullYear","m","getMonth","d","getDate","component","components","EditDialog","PackageToSKU","Date","getTime","handler","immediate","ids","lock","text","spinner","background","close","handleAdd","column","label","rightObj","valid","materialIdList","handleUpdateTableSelected","handleDefault","onDeptSelectConfirm","usedOffice","numberControl","materialCodeOrName","uuid","isCheckAll","checkAll","reverseSelection","_b","rowKey","sortChange","$attrs","rowObj","handleSelectUp","handleCancelUp","handleSelectDown","handleCancelDown","handleConfirm","isArray","check","some","curPageCheckedArr","push","$refs","formName","resetFields","operateItemIndex","forEach","dmList","no","contractNo","orderNo","supplierName","materialsUnit","deliveryDate","inspect","remarks","GenerateBarcode","OrderMaterial","BaseMaterial","MaterialSelect","selected","selectedRows","currentRow","mounted","initBaseInfo","listInit","initAutoUpdate","validate","saveType","entity","routeName","1","2","3","4","handleListEdit","module","prop","align","headerAlign","minWidth","fixed","sortable","resizable","formatter","toFixed","orderNum","$store","dispatch","arr","$router","handleBatchPrintBarcode","args","$message","backgroundColor","barcodeNumber","cellStyle","sortDialogVisible","getWarehousePullList","has","delete","filter","add","toObject","$keys","it","device","BrowserPrint","window","zebraPrinter","printType","isPrinting","getDevice","beforeDestroy","_this","getDefaultDevice","printApi","printParams","Error","$loading","then","print","catch","send","success","getPullListItemApi","addListApi","updateListApi","deleteListApi","getListDetailApi","getBottomListApi","getDeliveryReceiptMaterialListApi","addBottomListApi","editBottomListApi","delBottomListApi","getBottomDetailListApi","cleanBottomDetailListApi","getBottomDetailApi","addBottomDetailListApi","addMaterialDetailCheckApi","submitBottomDetailListApi","submitListApi","getContractPullApi","getOrderPullApi","submitDeliveryToOrderApi","barcodePrintApi","materialPrintApi","allPrintApi","allGenerateApi","addMaterialPageListApi","exports","keys","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","$export","core","fails","KEY","exec","exp","S","F","tableColumnSortData","labels","initTableHeadMixins","apiHeadSets","columnSetsName","width","totalHeadSets","isParam","find","f","extend","show","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","byteToHex","toString","slice","unsafeStringify","offset","toLowerCase","v4","options","buf","rnds","random","getOwnPropertySymbols","baseConfig","baseURL","process","withCredentials","headers","Accept","service","axios","create","ToskTap","interceptors","use","config","getters","token","response","Notification","msg","duration","e","setTimeout","location","href","getLoginPath"],"mappings":"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","file":"js/InStorageDeliveryAdd.b1bfd8ed.js","sourcesContent":["import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function getAddApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function getEditApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 详情\r\nexport function getDetailApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import request from '@/apis/request.wms'\r\nimport download from '@/apis/request.download'\r\n\r\n// 获取树列表\r\nexport function getTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/treeList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 合同详情\r\nexport function getContractDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增树列表\r\nexport function addTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改树列表\r\nexport function editTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除树列表\r\nexport function delTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 点击树查询右侧详情\r\nexport function getTreeNodeDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/detail',\r\n    method: 'post',\r\n    data,\r\n    timeout: Infinity\r\n  })\r\n}\r\n\r\n// 查看订单下的物料信息分页列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/listMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getListNewApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/orderMaterialTabInfo',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增采购订单\r\nexport function addOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改采购订单\r\nexport function editOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除采购订单\r\nexport function getOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 注意此接口已废弃 获取物料信息\r\nexport function getMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/pageListMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改采购订单备注\r\nexport function modifyOrderRemarkApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/editRemarks',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取采购订单历史(需传订单id)\r\nexport function getPurchaseOrderHistoryApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/listDeliveryReceiptHistory',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 导出采购订单和物料明细\r\nexport function exportOrderMaterialDetailApi(data = {}) {\r\n  return download({\r\n    url: '/enterWarehouse/WmsOrder/export',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印采购订单和物料明细\r\nexport function printOrderDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 采购订单-全部页签 自定义字段列表接口\r\nexport function allMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/allMaterialList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除订单物料\r\nexport function delOrderMaterialApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/delOrderMaterial',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"app-container\"},[_c('el-row',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"fl\"},[_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"返 回\")])],1),_c('div',{staticClass:\"fr\"},[(_vm.params.view !== 'detail')?_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(_vm._s(_vm.params.view === 'add' ? '下一步' : '保存交接单'))]):_vm._e(),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.view === 'detail'),expression:\"params.view === 'detail'\"}],attrs:{\"disabled\":!([3, 4].includes(_vm.form.status) && _vm.form.canStockInMatarialCount > 0),\"type\":\"primary\"},on:{\"click\":_vm.handleInWarehouse}},[_vm._v(\"入库\")])],1)]),_c('transition',{attrs:{\"name\":\"el-zoom-in-top\"}},[_c('el-row',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"left\",\"disabled\":_vm.params.view === 'detail'}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"合同号\",\"prop\":\"contractNo\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写合同号\",\"disabled\":\"\"},model:{value:(_vm.form.contractNo),callback:function ($$v) {_vm.$set(_vm.form, \"contractNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.contractNo\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"订单号\",\"prop\":\"orderNo\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写订单号\",\"disabled\":\"\"},model:{value:(_vm.form.orderNo),callback:function ($$v) {_vm.$set(_vm.form, \"orderNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.orderNo\"}})],1)],1),(_vm.params.view !== 'add')?_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"交接单号\",\"prop\":\"no\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"系统自动生成\",\"disabled\":\"\"},model:{value:(_vm.form.no),callback:function ($$v) {_vm.$set(_vm.form, \"no\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.no\"}})],1)],1):_vm._e(),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"供应商\",\"prop\":\"supplierName\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写供应商\",\"disabled\":\"\"},model:{value:(_vm.form.supplierName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.supplierName\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"用料单位\",\"prop\":\"materialsUnit\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请填写用料单位\",\"disabled\":\"\"},model:{value:(_vm.form.materialsUnit),callback:function ($$v) {_vm.$set(_vm.form, \"materialsUnit\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.materialsUnit\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"凭证日期\",\"prop\":\"deliveryDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"请选择凭证日期\",\"clearable\":false,\"editable\":false},model:{value:(_vm.form.deliveryDate),callback:function ($$v) {_vm.$set(_vm.form, \"deliveryDate\", $$v)},expression:\"form.deliveryDate\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"是否检验\",\"prop\":\"inspect\"}},[_c('el-radio-group',{staticClass:\"my-inspect-sty\",staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":_vm.params.view === 'modify' && _vm.form.status === 6},model:{value:(_vm.form.inspect),callback:function ($$v) {_vm.$set(_vm.form, \"inspect\", $$v)},expression:\"form.inspect\"}},[_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":8,\"xl\":8}},[_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":1,\"placeholder\":\"请填写备注\"},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1)],1)],1)],1)],1)],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"交接单信息\")]),(_vm.params.view !== 'detail')?_c('el-row',[(['2','3','4'].includes(_vm.form.orderType))?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddMaterial(_vm.form.orderType)}}},[_vm._v(\"新增物料\")]):_vm._e(),(_vm.form.orderType === '1' && _vm.params.view === 'modify' && !_vm.form.isReverse)?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.enabled},on:{\"click\":_vm.handleAddMaterial1}},[_vm._v(\"添加物料\")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-setting\"},on:{\"click\":_vm.handleSetTable}},[_vm._v(\"设置\")])],1):_vm._e(),_c('el-row',[_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-input',{staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"物料编码或名称\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.code),callback:function ($$v) {_vm.$set(_vm.query, \"code\", $$v)},expression:\"query.code\"}})],1),_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.init}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")]),(!['detail','add'].includes(_vm.params.view))?_c('span',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAllGenerate}},[_vm._v(\"全部生成条码\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAllPrint}},[_vm._v(\"全部打印\")])],1):_vm._e()],1)],1)]),_c('el-row',[_c('table-com',{key:_vm.tableComKey,ref:_vm.refTableName,staticClass:\"base-table\",attrs:{\"ref-name\":'tableRef',\"table-height-type\":450,\"selection\":_vm.params.view === 'add',\"selection-fixed\":false,\"table-selection\":_vm.tableSelection,\"loading\":_vm.tableLoading,\"index\":true,\"table-column-sort\":true,\"form-ident\":_vm.formIdent,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":170,\"expand-list\":_vm.expandList,\"show-operate\":_vm.params.view !== 'add',\"cell-style\":_vm.handleCellStyle,\"refresh-key\":_vm.refreshKey,\"selectable\":_vm.selectable},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit,\"selectionChange\":_vm.selectionChange,\"dynamicRow\":_vm.getDynamicRow},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.params.view !== 'detail')?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":scope.row.orderType === 0 || scope.row.status === 3},on:{\"click\":function($event){return _vm.handleGenerateBarcode(scope.row)}}},[_vm._v(\"生成条码\")]):_vm._e(),(_vm.params.view === 'detail')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleViewBarcode(scope.row)}}},[_vm._v(\"查看条码\")]):_vm._e(),(_vm.params.view !== 'detail' && !_vm.form.isReverse)?_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":scope.row.orderType === 0 || scope.row.status === 3 || scope.row.status === 6},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),(_vm.params.view === 'add')?_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.paginationStatusChange}}):_vm._e(),_c('generate-barcode',{attrs:{\"dialog-form\":_vm.dialogForm,\"edit-type\":_vm.editType,\"extra-info\":{isReverse: _vm.form.isReverse}},on:{\"confirm\":_vm.confirmCallBack},model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:\"dialogVisible\"}}),(['2','4'].includes(_vm.form.orderType))?_c('order-material',{attrs:{\"ids\":_vm.tableData.map(function (i) { return i.materialId; }),\"extra-info\":{id: Number(_vm.params.orderId), type: '4'}},on:{\"confirm\":_vm.onSelectConfirm},model:{value:(_vm.orderSelectInfo.visible),callback:function ($$v) {_vm.$set(_vm.orderSelectInfo, \"visible\", $$v)},expression:\"orderSelectInfo.visible\"}}):_vm._e(),(['3'].includes(_vm.form.orderType))?_c('base-material',{attrs:{\"ids\":_vm.tableData.map(function (i) { return i.materialId; }),\"extra-info\":{},\"number-control\":false},on:{\"confirm\":_vm.onSelectConfirm},model:{value:(_vm.selectInfo.visible),callback:function ($$v) {_vm.$set(_vm.selectInfo, \"visible\", $$v)},expression:\"selectInfo.visible\"}}):_vm._e(),_c('material-select',{attrs:{\"extra-info\":{orderId: _vm.params.orderId,deliveryReceiptId: _vm.params.id, excludeOrderMaterialIds: _vm.tableData.map(function (c) { return c.orderMaterialId; })}},on:{\"confirm\":_vm.handleChooseConfirm},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-drawer',{attrs:{\"center\":true,\"append-to-body\":true,\"close-on-press-escape\":false,\"wrapper-closable\":false,\"title\":_vm.title,\"size\":\"75%\",\"direction\":\"btt\",\"visible\":_vm.value,\"destroy-on-close\":true,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('div',{staticStyle:{\"margin\":\"0 10px\"}},[_c('divider',[_vm._v(\"交接物料\")]),_c('el-row',[_c('el-descriptions',{attrs:{\"border\":true,\"direction\":\"vertical\",\"column\":8}},[_c('el-descriptions-item',{attrs:{\"label\":\"物料编码\"}},[_vm._v(_vm._s(_vm.dialogForm.materialCode))]),_c('el-descriptions-item',{attrs:{\"label\":\"物料名称\"}},[_vm._v(_vm._s(_vm.dialogForm.materialName))]),_c('el-descriptions-item',{attrs:{\"label\":\"规格型号\"}},[_vm._v(_vm._s(_vm.dialogForm.materialSpec))]),_c('el-descriptions-item',{attrs:{\"label\":\"评估类型\"}},[_vm._v(_vm._s(_vm.dialogForm.materialAssessType_dictText))]),_c('el-descriptions-item',{attrs:{\"label\":\"订单数量\"}},[_vm._v(_vm._s(_vm.dialogForm.orderNumber))]),_c('el-descriptions-item',{attrs:{\"label\":\"计量单位\"}},[_vm._v(_vm._s(_vm.dialogForm.unitName))]),_c('el-descriptions-item',{attrs:{\"label\":\"已到货数量\"}},[_vm._v(_vm._s(_vm.dialogForm.deliveredNumber))]),_c('el-descriptions-item',{attrs:{\"label\":\"本次到货数量\"}},[_vm._v(_vm._s(_vm.dialogForm.deliveryNumber))])],1)],1),_c('divider',[_vm._v(\"条码信息\")]),_c('el-row',{staticStyle:{\"margin\":\"10px 0\"}},[(_vm.$route.params.view !== 'detail' && !_vm.extraInfo.isReverse)?[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.handleModify}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.handleClean}},[_vm._v(\"清除\")])]:_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.tableData.length === 0},on:{\"click\":_vm.handlePrintAll}},[_vm._v(\"打印全部条码\")])],2),_c('table-com',{key:_vm.refreshKey,ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"index\":true,\"selection\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"table-height-type\":380,\"operation-width\":120,\"expand-list\":_vm.expandList,\"table-column-sort\":false,\"show-operate\":true},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePrint([scope.row.id])}}},[_vm._v(\"打印条码\")])]}}])})],1),_c('package-to-s-k-u',{attrs:{\"title\":'供应商条码',\"extra-info\":{columnList: _vm.columnList1 || [], tableData: _vm.dialogInfo1.subBarCodeList || []}},on:{\"print\":_vm.handlePrint},model:{value:(_vm.skuVisible),callback:function ($$v) {_vm.skuVisible=$$v},expression:\"skuVisible\"}}),_c('edit-dialog',{attrs:{\"dialog-form\":_vm.dialogInfo,\"edit-type\":_vm.editInfoType,\"title\":_vm.dialogTitle,\"extra-info\":{deliveryMaterialId: _vm.dialogForm.id}},on:{\"confirm\":_vm.confirmCallBack},model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:\"dialogVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"1100px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('div',{staticClass:\"main-box\"},[_c('el-row',[_c('el-descriptions',{attrs:{\"border\":true,\"direction\":\"vertical\",\"column\":8}},[_c('el-descriptions-item',{attrs:{\"label\":\"物料编码\",\"content-class-name\":\"wid80\"}},[_vm._v(_vm._s(_vm.info.materialCode))]),_c('el-descriptions-item',{attrs:{\"label\":\"物料名称\"}},[_vm._v(_vm._s(_vm.info.materialName))]),_c('el-descriptions-item',{attrs:{\"label\":\"规格型号\",\"content-class-name\":\"minWid100\"}},[_vm._v(_vm._s(_vm.info.materialSpec))]),_c('el-descriptions-item',{attrs:{\"content-class-name\":\"wid80\",\"label\":\"评估类型\"}},[_vm._v(_vm._s(_vm.info.materialAssessType_dictText))]),_c('el-descriptions-item',{attrs:{\"content-class-name\":\"wid80\",\"label\":\"到货数量\"}},[_vm._v(_vm._s(_vm.info.deliveryNumber))]),_c('el-descriptions-item',{attrs:{\"content-class-name\":\"wid80\",\"label\":\"计量单位\"}},[_vm._v(_vm._s(_vm.info.unitName))]),_c('el-descriptions-item',{attrs:{\"label\":\"最小单位SKU\",\"content-class-name\":_vm.form.useMinUnit ? '' : 'wid100'}},[(_vm.form.useMinUnit)?[_c('el-select',{staticStyle:{\"width\":\"170px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择最小单位SKU\"},on:{\"change\":_vm.handleInfoMinSkuNameChange},model:{value:(_vm.form.minSkuUnitId),callback:function ($$v) {_vm.$set(_vm.form, \"minSkuUnitId\", $$v)},expression:\"form.minSkuUnitId\"}},_vm._l((_vm.minSkuUnitPullList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)]:_c('span',[_vm._v(_vm._s(_vm.info.minSkuName))])],2),_c('el-descriptions-item',{attrs:{\"label\":\"SPQ\",\"content-class-name\":_vm.form.useMinUnit ? '' : 'wid80'}},[(_vm.form.useMinUnit)?[_c('el-input-number',{staticStyle:{\"width\":\"110px\"},attrs:{\"min\":0,\"precision\":3},model:{value:(_vm.form.materialSpq),callback:function ($$v) {_vm.$set(_vm.form, \"materialSpq\", $$v)},expression:\"form.materialSpq\"}})]:_c('span',[_vm._v(_vm._s(_vm.info.materialSpq))])],2)],1)],1),_c('divider',[_vm._v(\"条码信息\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"最小单位SKU\",\"prop\":\"useMinUnit\"}},[_c('el-radio-group',{staticStyle:{\"width\":\"90px\"},on:{\"change\":_vm.handleUseMinUnitChange},model:{value:(_vm.form.useMinUnit),callback:function ($$v) {_vm.$set(_vm.form, \"useMinUnit\", $$v)},expression:\"form.useMinUnit\"}},[_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1),(!_vm.form.useMinUnit)?[_c('el-form-item',{attrs:{\"label\":\"包装单位\",\"prop\":\"unitId\"}},[_c('el-select',{staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择包装单位\"},on:{\"change\":_vm.handleUnitChange},model:{value:(_vm.form.unitId),callback:function ($$v) {_vm.$set(_vm.form, \"unitId\", $$v)},expression:\"form.unitId\"}},_vm._l((_vm.unitList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),(_vm.form.unitId)?_c('el-form-item',{attrs:{\"prop\":\"unitNumber\"}},[_c('span',{staticStyle:{\"marginRight\":\"12px\"}},[_vm._v(\"共\")]),_c('el-input-number',{staticStyle:{\"width\":\"178px\"},attrs:{\"min\":1},model:{value:(_vm.form.unitNumber),callback:function ($$v) {_vm.$set(_vm.form, \"unitNumber\", $$v)},expression:\"form.unitNumber\"}}),_c('span',{staticStyle:{\"marginLeft\":\"12px\"}},[_vm._v(_vm._s(_vm.form.unitIdShow))])],1):_vm._e()]:_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.baseValidate1},on:{\"click\":_vm.handleUpdate}},[_vm._v(\"更新\")])],2),_c('el-row',[_c('table-com',{key:_vm.refreshKey,ref:_vm.refName,attrs:{\"table-height-type\":340,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":true,\"selection\":false,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":true,\"operation-width\":120,\"operate-fixed\":'right',\"table-selection\":_vm.tableSelection},on:{\"refresh\":_vm.refresh,\"selectionChange\":_vm.selectionChange},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":(_vm.numberSum < _vm.info.deliveryNumber) || (_vm.numberSum > _vm.info.deliveryNumber)},on:{\"click\":function($event){return _vm.handlePrintBarcode(scope.row)}}},[_vm._v(\"打印条码\")])]}}])})],1)],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.hasDuplicates},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"1100px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <div class=\"main-box\">\r\n        <!-- 基本信息 -->\r\n        <el-row>\r\n          <el-descriptions :border=\"true\" direction=\"vertical\" :column=\"8\">\r\n            <el-descriptions-item label=\"物料编码\" content-class-name=\"wid80\">{{ info.materialCode }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"物料名称\">{{ info.materialName }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"规格型号\" content-class-name=\"minWid100\">{{ info.materialSpec }}</el-descriptions-item>\r\n            <el-descriptions-item content-class-name=\"wid80\" label=\"评估类型\">{{ info.materialAssessType_dictText }}</el-descriptions-item>\r\n            <el-descriptions-item content-class-name=\"wid80\" label=\"到货数量\">{{ info.deliveryNumber }}</el-descriptions-item>\r\n            <el-descriptions-item content-class-name=\"wid80\" label=\"计量单位\">{{ info.unitName }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"最小单位SKU\" :content-class-name=\"form.useMinUnit ? '' : 'wid100'\">\r\n              <!-- 如果最小单位SKU为是则可修改最小单位SKU下拉选项，否则不可修改 -->\r\n              <template v-if=\"form.useMinUnit\">\r\n                <el-select\r\n                  v-model=\"form.minSkuUnitId\"\r\n                  filterable\r\n                  clearable\r\n                  placeholder=\"请选择最小单位SKU\"\r\n                  style=\"width: 170px;\"\r\n                  @change=\"handleInfoMinSkuNameChange\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in minSkuUnitPullList\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.id\"\r\n                  />\r\n                </el-select>\r\n              </template>\r\n              <span v-else>{{ info.minSkuName }}</span>\r\n            </el-descriptions-item>\r\n            <!-- 当选择了最小单位SKU为序列号时，SPQ默认为1且不可编辑 -->\r\n            <el-descriptions-item label=\"SPQ\" :content-class-name=\"form.useMinUnit ? '' : 'wid80'\">\r\n              <!-- 如果最小单位SKU为是则可修改SPQ填写项，否则不可修改 -->\r\n              <template v-if=\"form.useMinUnit\">\r\n                <el-input-number v-model=\"form.materialSpq\" :min=\"0\" :precision=\"3\" style=\"width: 110px;\" />\r\n              </template>\r\n              <span v-else>{{ info.materialSpq }}</span>\r\n            </el-descriptions-item>\r\n          </el-descriptions>\r\n        </el-row>\r\n        <divider>条码信息</divider>\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" inline>\r\n          <!-- Tip 最小单位SKU -->\r\n          <el-form-item label=\"最小单位SKU\" prop=\"useMinUnit\">\r\n            <el-radio-group v-model=\"form.useMinUnit\" style=\"width: 90px;\" @change=\"handleUseMinUnitChange\">\r\n              <el-radio-button :label=\"true\">是</el-radio-button>\r\n              <el-radio-button :label=\"false\">否</el-radio-button>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <template v-if=\"!form.useMinUnit\">\r\n            <!-- Tip 包装单位 -->\r\n            <el-form-item label=\"包装单位\" prop=\"unitId\">\r\n              <el-select v-model=\"form.unitId\" filterable clearable placeholder=\"请选择包装单位\" style=\"width: 178px;\" @change=\"handleUnitChange\">\r\n                <el-option\r\n                  v-for=\"item in unitList\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\"\r\n                />\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- Tip 包装数量 -->\r\n            <el-form-item v-if=\"form.unitId\" prop=\"unitNumber\">\r\n              <span style=\"marginRight: 12px;\">共</span>\r\n              <el-input-number\r\n                v-model=\"form.unitNumber\"\r\n                :min=\"1\"\r\n                style=\"width: 178px;\"\r\n              />\r\n              <span style=\"marginLeft: 12px;\">{{ form.unitIdShow }}</span>\r\n            </el-form-item>\r\n          </template>\r\n          <!--  存在包装单位 并且 不是最小单位SKU -->\r\n          <el-button type=\"primary\" :disabled=\"!baseValidate1\" @click=\"handleUpdate\">更新</el-button>\r\n        </el-form>\r\n        <el-row>\r\n          <table-com\r\n            :key=\"refreshKey\"\r\n            :ref=\"refName\"\r\n            :table-height-type=\"340\"\r\n            :loading=\"loading\"\r\n            :index=\"true\"\r\n            :index-fixed=\"true\"\r\n            :selection=\"false\"\r\n            :multiple=\"multiple\"\r\n            :selection-fixed=\"false\"\r\n            :table-column-sort=\"false\"\r\n            :table-data=\"tableData\"\r\n            :column-list=\"columnList\"\r\n            :show-operate=\"true\"\r\n            :operation-width=\"120\"\r\n            :operate-fixed=\"'right'\"\r\n            :table-selection=\"tableSelection\"\r\n            @refresh=\"refresh\"\r\n            @selectionChange=\"selectionChange\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" :disabled=\"(numberSum < info.deliveryNumber) || (numberSum > info.deliveryNumber)\" @click=\"handlePrintBarcode(scope.row)\">打印条码</el-button>\r\n            </template>\r\n          </table-com>\r\n        </el-row>\r\n      </div>\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" :disabled=\"hasDuplicates\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport printTagWired from '@/mixins/printTagWired'\r\nimport { getPullListItemApi as unitPullListApi } from '@/apis/modules/base/baseUnit'\r\nimport { getBottomDetailApi as getListApi, getBottomDetailListApi, addMaterialDetailCheckApi, submitBottomDetailListApi, addBottomDetailListApi, barcodePrintApi } from '@/apis/modules/in-storage/purchase/delivery'\r\n\r\nconst INIT_FORM = () => ({\r\n  deliveryReceiptId: '', // √\r\n  orderMaterialId: '', // √\r\n  materialId: '', // √\r\n  materialCode: '', // √\r\n  materialName: '', // √\r\n  materialSpec: '', // √\r\n  unitId: '', // √\r\n  unitIdShow: '', // 包装单位(拓展字段)\r\n  minSkuName: '', // √ 最小单位SKU名称\r\n  minSkuUnitId: '', //  √ 最小单位SKUid\r\n  materialSpq: '', // √ 物料的SPQ值\r\n  useMinUnit: true, // √ 是否是最小单位SKU(布尔值)\r\n  spq: '', // √\r\n  deliveryNumber: '', // √ 到货数量\r\n  unitMeasureId: '', // √ 计量单位\r\n  unitName: '', // √ 计量单位名称\r\n  unitNumber: 1 // 包装数量\r\n})\r\n\r\nexport default {\r\n  name: 'MaterialOrderSelect',\r\n  mixins: [paginationPage, printTagWired],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dialogForm: {\r\n      type: Object,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialOrderSelect',\r\n      // 基础信息(一般不操作)\r\n      info: {\r\n        ...INIT_FORM()\r\n      },\r\n      // 表单信息(可编辑数据)\r\n      form: {\r\n        ...INIT_FORM()\r\n      },\r\n      rules: {},\r\n      tableData: [],\r\n      columnList: [],\r\n      columnListBase: [\r\n        {\r\n          module: 'input',\r\n          prop: 'batchNo',\r\n          label: '批次号',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 1\r\n          },\r\n          disabled: (scope) => {\r\n            // Tip 如果最小单位SKU为\"是\",那么数量输入框为禁用态\r\n            return this.form.useMinUnit || this.tableData.length === 1\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          },\r\n          handleChange: (row) => {\r\n            // const sum = this.tableData.reduce((num, cur) => num + cur.number, 0)\r\n            // console.log('444:', sum)\r\n            // this.numberSum = sum\r\n            // if (this.numberSum < this.info.deliveryNumber) {\r\n            //   this.$notify.error({\r\n            //     title: '错误',\r\n            //     message: `数量总和小于到货数量！`\r\n            //   })\r\n            // }\r\n            // if (this.numberSum > this.info.deliveryNumber) {\r\n            //   this.$notify.error({\r\n            //     title: '错误',\r\n            //     message: `数量总和已超出到货数量！`\r\n            //   })\r\n            // }\r\n            this.handleNumberChange(row)\r\n          },\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        // 按序列号生成条码-生产日期默认为创建单据日期\r\n        {\r\n          module: 'date',\r\n          prop: 'productionDate',\r\n          label: '生产日期',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          clearable: true,\r\n          isShow: (item) => {\r\n            return item.expirationDate // 是否有保质期\r\n          },\r\n          getDisplay: (item) => {\r\n            // return !item.expirationDate ? '无' : ''\r\n            return !item.productionDate ? '无' : ''\r\n          },\r\n          handleChange: (row) => {\r\n            this.handleCalculateDate(row, '生产日期')\r\n          },\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barCode',\r\n          label: '条码号',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'expirationTime',\r\n          label: '保质期(天)',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: () => 1,\r\n          isShow: (item) => {\r\n            return item.expirationDate // 是否有保质期\r\n          },\r\n          getDisplay: (item) => {\r\n            return !item.expirationDate ? '无' : ''\r\n          },\r\n          handleChange: (row) => {\r\n            this.handleCalculateDate(row, '保质期(天)')\r\n          },\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'date',\r\n          prop: 'qualityGuaranteePeriod',\r\n          label: '到期时间',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          disabled: false,\r\n          isShow: (item) => {\r\n            return item.expirationDate // 是否有保质期\r\n          },\r\n          getDisplay: (item) => {\r\n            return !item.expirationDate ? '无' : ''\r\n          },\r\n          showOverflowTooltip: false,\r\n          handleChange: (row) => {\r\n            this.handleCalculateDate(row, '到期时间')\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'printNumber',\r\n          label: '打印次数',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnListExtra: [\r\n        {\r\n          module: 'input',\r\n          prop: 'batchNo',\r\n          label: '批次号',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 1\r\n          },\r\n          disabled: (scope) => {\r\n            // Tip 如果最小单位SKU为\"是\",那么数量输入框为禁用态\r\n            return this.form.useMinUnit || this.tableData.length === 1\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          },\r\n          handleChange: (row) => {\r\n            // const sum = this.tableData.reduce((num, cur) => num + cur.number, 0)\r\n            // console.log('444:', sum)\r\n            // this.numberSum = sum\r\n            // if (this.numberSum < this.info.deliveryNumber) {\r\n            //   this.$notify.error({\r\n            //     title: '错误',\r\n            //     message: `数量总和小于到货数量！`\r\n            //   })\r\n            // }\r\n            // if (this.numberSum > this.info.deliveryNumber) {\r\n            //   this.$notify.error({\r\n            //     title: '错误',\r\n            //     message: `数量总和已超出到货数量！`\r\n            //   })\r\n            // }\r\n            this.handleNumberChange(row)\r\n          },\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'date',\r\n          prop: 'productionDate',\r\n          label: '生产日期',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          clearable: true,\r\n          isShow: (item) => {\r\n            return item.expirationDate // 是否有保质期\r\n          },\r\n          getDisplay: (item) => {\r\n            // return !item.expirationDate ? '无' : ''\r\n            return !item.productionDate ? '无' : ''\r\n          },\r\n          handleChange: (row) => {\r\n            this.handleCalculateDate(row, '生产日期')\r\n          },\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barCode',\r\n          label: '条码号',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'input',\r\n          prop: 'snNo',\r\n          label: '序列号',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          clearable: true,\r\n          showOverflowTooltip: false,\r\n          handleBlur: (item) => {\r\n            // const arr = this.tableData.filter(c => c.snNo === item.snNo)\r\n            // if (arr.length > 1) {\r\n            //   this.$notify.warning({\r\n            //     title: '警告',\r\n            //     message: '当前序列号存在重复，请重新填写！'\r\n            //   })\r\n            // }\r\n            // 序列号重复\r\n            if (this.hasDuplicates) {\r\n              this.$notify.warning({\r\n                title: '警告',\r\n                message: `序列号存在重复，请重新填写！`\r\n              })\r\n              return\r\n            }\r\n          }\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'expirationTime',\r\n          label: '保质期(天)',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: () => 1,\r\n          isShow: (item) => {\r\n            return item.expirationDate // 是否有保质期\r\n          },\r\n          getDisplay: (item) => {\r\n            return !item.expirationDate ? '无' : ''\r\n          },\r\n          handleChange: (row) => {\r\n            this.handleCalculateDate(row, '保质期(天)')\r\n          },\r\n          showOverflowTooltip: false\r\n        },\r\n        {\r\n          module: 'date',\r\n          prop: 'qualityGuaranteePeriod',\r\n          label: '到期时间',\r\n          align: 'center',\r\n          width: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          disabled: true,\r\n          isShow: (item) => {\r\n            return item.expirationDate // 是否有保质期\r\n          },\r\n          getDisplay: (item) => {\r\n            return !item.expirationDate ? '无' : ''\r\n          },\r\n          showOverflowTooltip: false,\r\n          handleChange: (row) => {\r\n            this.handleCalculateDate(row, '到期时间')\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'printNumber',\r\n          label: '打印次数',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      unitList: [],\r\n      minSkuUnitPullList: [],\r\n      numberSum: 0,\r\n      refreshKey: 0\r\n    }\r\n  },\r\n  computed: {\r\n    // 最小单位SKU下拉选中项是否是序列号\r\n    isSnNo() {\r\n      const minSkuUnit = this.minSkuUnitPullList.find(c => c.id === this.form.minSkuUnitId)\r\n      return minSkuUnit && minSkuUnit.name === '序列号'\r\n    },\r\n    // 序列号是否有重复\r\n    hasDuplicates() {\r\n      const snNoArr = this.tableData.filter(c => c.snNo).map(c => c.snNo)\r\n      return new Set(snNoArr).size !== snNoArr.length\r\n    },\r\n    baseValidate1() {\r\n      let bool = true\r\n      // 注意：防止未选择\r\n      if (this.form.useMinUnit === '') {\r\n        bool = false\r\n        return bool\r\n      }\r\n      if (this.form.useMinUnit === false) {\r\n        if (!this.form.unitId) {\r\n          bool = false\r\n        } else {\r\n          if (!this.form.unitNumber) {\r\n            bool = false\r\n          }\r\n        }\r\n      } else {\r\n        if (this.form.minSkuUnitId) {\r\n          if (!this.form.materialSpq) {\r\n            bool = false\r\n          }\r\n        } else {\r\n          bool = false\r\n        }\r\n      }\r\n      return bool\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  methods: {\r\n    // Tip 弹窗打开初始化\r\n    initSelect() {\r\n      this.getUnitPullList('2')\r\n      this.getUnitPullList('3')\r\n      this.init()\r\n      this.initList()\r\n    },\r\n    // Tip 初始化基础信息 表单信息 表头信息\r\n    init() {\r\n      const params = {\r\n        ...this.extraInfo\r\n      }\r\n      // 查看交接物料详情接口\r\n      // 此接口用于在交接物料列表中，点击生成条码，在弹窗中，再点击修改时，展示上方物料信息及条码信息使用\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const d = { ...data, unitNumber: !data.unitNumber || 1, unitId: data.unitId || '', unitIdShow: '', /** 单位名称 */ materialSpq: (!data.materialSpq || data.materialSpq <= 0) ? 1 : data.materialSpq }\r\n\r\n            this.info = _.cloneDeep(d)\r\n            this.numberSum = this.info.deliveryNumber // 初始化数量总和=到货数量\r\n            this.form = _.cloneDeep(d)\r\n            // 如果不是最小单位SKU\r\n            if (!this.form.useMinUnit) {\r\n              // 存在包装单位，单位个数的名称反显，否则清空\r\n              if (this.form.unitId) {\r\n                const unitInfo = this.unitList.find(c => c.id === this.form.unitId)\r\n                this.form.unitIdShow = unitInfo ? unitInfo.name : ''\r\n              } else {\r\n                this.form.unitIdShow = ''\r\n              }\r\n            } else {\r\n              // 最小单位SKU为序列号，SPQ设为1，否则设为空\r\n              // if (this.isSnNo) {\r\n              //   this.form.materialSpq = 1\r\n              // } else {\r\n              //   this.form.materialSpq = ''\r\n              // }\r\n              // 最小单位SKU选择是，则不管选择的最小单位SKU是什么，SPQ默认值都为1\r\n              this.form.materialSpq = 1\r\n            }\r\n            this.resetTableColumn()\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 初始化表格数据\r\n    initList() {\r\n      this.loading = true\r\n      // 交接物料明细分页列表接口\r\n      return new Promise((resolve, reject) => {\r\n        getBottomDetailListApi({\r\n          page: {\r\n            ...this.pageInfo\r\n          },\r\n          ...this.extraInfo\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            // 添加生产日期、保质期天数\r\n            this.tableData = data.map(c => ({ ...c, expirationTime: 1 }))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    getUnitPullList(type) {\r\n      unitPullListApi({ type })\r\n        .then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            type === '2' && (this.minSkuUnitPullList = data) // 获取最小单位SKU\r\n            type === '3' && (this.unitList = data) // 获取包装单位列表\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log('err', err)\r\n        })\r\n    },\r\n    // Tip 最小单位SKU下拉切换\r\n    handleInfoMinSkuNameChange() {\r\n      // if (this.isSnNo) {\r\n      //   this.form.materialSpq = 1\r\n      // } else {\r\n      //   this.form.materialSpq = ''\r\n      // }\r\n      // 最小单位SKU选择是，则不管选择的最小单位SKU是什么，SPQ默认值都为1\r\n      this.form.materialSpq = 1\r\n      this.resetTableColumn()\r\n    },\r\n    // Tip 最小单位SKU状态切换\r\n    handleUseMinUnitChange(type) {\r\n      this.form.minSkuUnitId = this.info.minSkuUnitId\r\n      this.form.materialSpq = this.info.materialSpq\r\n      this.form.unitId = ''\r\n      this.form.unitNumber = 1\r\n      this.form.unitIdShow = ''\r\n      this.tableData = new Array(0)\r\n      this.resetTableColumn()\r\n    },\r\n    // Tip 初始化表格配置\r\n    resetTableColumn() {\r\n      if (this.form.useMinUnit && this.isSnNo) {\r\n        this.columnList = [...this.columnListExtra]\r\n      } else {\r\n        this.columnList = [...this.columnListBase]\r\n      }\r\n    },\r\n    // Tip 包装单位切换\r\n    handleUnitChange(unitId) {\r\n      this.form.unitNumber = 1\r\n      const info = this.unitList.find(i => i.id === unitId)\r\n      if (info) {\r\n        const { name } = info\r\n        this.$set(this.form, 'unitIdShow', name)\r\n      } else {\r\n        this.$set(this.form, 'unitIdShow', '')\r\n      }\r\n    },\r\n    baseValidate() {\r\n      let bool = true\r\n      if (!this.form.useMinUnit) {\r\n        if (!this.form.unitId) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: `请先选择包装单位！`\r\n          })\r\n          bool = false\r\n        } else {\r\n          if (!this.form.unitNumber) {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: `${this.form.unitIdShow}数为0不能更新`\r\n            })\r\n            bool = false\r\n          }\r\n        }\r\n      } else {\r\n        if (this.form.minSkuUnitId) {\r\n          if (!this.form.materialSpq) {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: `请输入SPQ值`\r\n            })\r\n            bool = false\r\n          }\r\n        } else {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: `请选择最小单位SKU`\r\n          })\r\n          bool = false\r\n        }\r\n      }\r\n      return bool\r\n    },\r\n    // Tip 更新\r\n    handleUpdate() {\r\n      if (!this.baseValidate()) return\r\n      this.loading = true\r\n      const params = {\r\n        ...this.extraInfo, // deliveryMaterialId 交接物料ID\r\n        materialId: this.form.materialId, // 物料id\r\n        useMinSku: this.form.useMinUnit, // 是否是最小单位SKU\r\n        deliveryNumber: this.info.deliveryNumber, // 到货数量\r\n        // 注意：按sku时，传perBarcodeNum，取值为spq值，可为小数；\r\n        // 注意：按包装时，传unitNumber，取值为共多少，整数\r\n        ...this.form.useMinUnit && { perBarcodeNum: this.form.materialSpq },\r\n        ...!this.form.useMinUnit && { unitNumber: this.form.unitNumber },\r\n        unitId: this.form.useMinUnit ? this.form.minSkuUnitId : this.form.unitId\r\n      }\r\n      addBottomDetailListApi(params)\r\n        .then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.tableData = data.map(c => ({ ...c, id: uuidv4(), printNumber: 0, expirationTime: 1 }))\r\n            this.tableData.forEach(c => {\r\n              this.form.useMinUnit && this.isSnNo && c.productionDate && this.handleCalculateDate(c, '生产日期')\r\n            })\r\n          }\r\n          this.loading = false\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.loading = false\r\n        })\r\n    },\r\n    // Tip 列表复选框改变触发\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // Tip 取消前置操作\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      typeof done === 'function' && done()\r\n    },\r\n    // Tip 确 定\r\n    confirmDialog() {\r\n      if (!this.baseValidate()) return\r\n      if (!this.tableData.length) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `物料列表不能为空`\r\n        })\r\n        return\r\n      }\r\n      if (this.numberSum < this.info.deliveryNumber) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `数量总和小于库存量！`\r\n        })\r\n        return\r\n      }\r\n      if (this.numberSum > this.info.deliveryNumber) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `数量总和已超出库存量！`\r\n        })\r\n        return\r\n      }\r\n      // 缺乏批次号\r\n      const absenceBatchNo = this.tableData.some(({ id, ...info }) => !info.batchNo)\r\n      if (absenceBatchNo) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `批次号不能为空`\r\n        })\r\n        return\r\n      }\r\n      // 缺乏到期时间\r\n      const absenceTime = this.tableData.some(({ id, ...info }) => info.expirationDate && !info.qualityGuaranteePeriod)\r\n      if (absenceTime) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `到期时间不能为空`\r\n        })\r\n        return\r\n      }\r\n      const absenceSnNOArr = this.tableData.filter(c => !c.snNo)\r\n      if (this.form.useMinUnit && this.isSnNo) {\r\n        // 缺乏序列号\r\n        if (absenceSnNOArr.length === 1) {\r\n          const ind = this.tableData.findIndex(c => !c.snNo)\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: `第${ind + 1}行序列号为空，请填写序列号`\r\n          })\r\n          return\r\n        }\r\n        if (absenceSnNOArr.length > 1) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: `序列号存在为空的情况，请调整`\r\n          })\r\n          return\r\n        }\r\n        // 序列号重复\r\n        if (this.hasDuplicates) {\r\n          this.$notify.warning({\r\n            title: '警告',\r\n            message: `序列号存在重复，请重新填写！`\r\n          })\r\n          return\r\n        }\r\n      }\r\n      const params = {\r\n        ...this.extraInfo, // deliveryMaterialId 交接物料ID\r\n        dmdList: this.tableData.map(({ id, ...info }) => info)\r\n      }\r\n      const baseParams = {\r\n        materialId: this.form.materialId,\r\n        minSkuUnitId: this.form.minSkuUnitId,\r\n        spq: this.form.materialSpq,\r\n        useMinSku: this.form.useMinUnit, // 是否是最小单位SKU\r\n        unitId: this.form.useMinUnit ? this.form.minSkuUnitId : this.form.unitId,\r\n        confirmFlag: false,\r\n        ...params // 参数：交接物料id、条码列表\r\n      }\r\n      if (!this.form.useMinUnit) {\r\n        this.submitBottomDetailList({ ...params, ...baseParams }) // 不使用最小单位sku\r\n      } else {\r\n        // 校验物料信息\r\n        addMaterialDetailCheckApi({ materialId: this.form.materialId, minSkuUnitId: this.form.minSkuUnitId, spq: this.form.materialSpq })\r\n          .then(res => {\r\n            const { code, data } = res\r\n            if (!code) {\r\n              if (!data) {\r\n                this.submitBottomDetailList(baseParams)\r\n              } else {\r\n                this.confirmEditMaterial(baseParams)\r\n              }\r\n              return\r\n            }\r\n          })\r\n      }\r\n    },\r\n    // 确定是否更新物\r\n    confirmEditMaterial(params) {\r\n      this.$confirm(`是否更新SQP、最小单位SKU到基础物料信息中?`, '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        cancelButtonClass: 'cancel-button-class',\r\n        confirmButtonClass: 'confirm-button-class',\r\n        type: 'warning',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        this.submitBottomDetailList({ ...params, confirmFlag: true })\r\n      }).catch(() => {\r\n        this.submitBottomDetailList({ ...params })\r\n      })\r\n    },\r\n    // 调用交接单保存接口\r\n    submitBottomDetailList(params) {\r\n      // 先调用交接单保存接口\r\n      this.loading = true\r\n      submitBottomDetailListApi(params)\r\n        .then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$emit('confirm')\r\n            this.beforeClose()\r\n          }\r\n          this.loading = false\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.loading = false\r\n        })\r\n    },\r\n    // Tip 条码打印\r\n    handlePrintBarcode(item) {\r\n      console.log('barCodeType-----', item)\r\n      // 打印次数加1\r\n      item.printNumber++\r\n      this.getDataAndPrint(barcodePrintApi, {\r\n        dmdEntity: {\r\n          deliveryMaterialId: item.deliveryMaterialId || '', // 交接物料id\r\n          materialId: item.materialId || '', // 物料id\r\n          batchNo: item.batchNo || '', // 批次号\r\n          number: item.number || 0, // 数量\r\n          unitMeasureId: item.unitMeasureId || '', // 计量单位id\r\n          qualityGuaranteePeriod: item.qualityGuaranteePeriod || '', // 保质期\r\n          barCode: item.barCode || '', // 条码号\r\n          snNo: item.snNo || '', // 序列号\r\n          barCodeType: item.barCodeType || '' // 条码类型\r\n        }\r\n      })\r\n        .then(res => {\r\n          this.$emit('confirm')\r\n          console.log('res', res)\r\n        })\r\n        .catch(err => {\r\n          console.log('err信息', err)\r\n        })\r\n    },\r\n    refresh() {\r\n    },\r\n    handleNumberChange(row) {\r\n      const curInd = this.tableData.findIndex(c => c.id === row.id)\r\n      const firstRow = this.tableData[0]\r\n      const lastRow = this.tableData[this.tableData.length - 1]\r\n      const lastInd = this.tableData.findIndex(c => c.id === lastRow.id)\r\n      console.log('@@@:', firstRow, lastRow, lastInd)\r\n      this.$nextTick(() => {\r\n        // 如果不是最后一行\r\n        if (row.id !== lastRow.id) {\r\n          // 设置最后一行数量\r\n          this.$set(this.tableData, lastInd, {\r\n            ...lastRow,\r\n            number: this.info.deliveryNumber - this.tableData.reduce((num, cur) => num + (cur.id !== lastRow.id ? cur.number : 0), 0)\r\n          })\r\n          // 如果最后一行数量小于1\r\n          if (this.tableData[lastInd].number < 1) {\r\n            console.log('最后一行小于1')\r\n            // 设置最后一行数量为1\r\n            this.$set(this.tableData, lastInd, {\r\n              ...lastRow,\r\n              number: 1\r\n            })\r\n            // 设置当前行数量\r\n            this.$set(this.tableData, curInd, {\r\n              ...row,\r\n              number: this.info.deliveryNumber - this.tableData.reduce((num, cur) => num + (cur.id !== row.id ? cur.number : 0), 0)\r\n            })\r\n            console.log('当前行设为', this.tableData[curInd].number)\r\n            this.$message({\r\n              message: '当前修改数量已达上限',\r\n              type: 'warning'\r\n            })\r\n          }\r\n        } else { // 是最后一行\r\n          this.$set(this.tableData, 0, {\r\n            ...firstRow,\r\n            number: this.info.deliveryNumber - this.tableData.reduce((num, cur) => num + (cur.id !== firstRow.id ? cur.number : 0), 0)\r\n          })\r\n          if (this.tableData[0].number < 1) {\r\n            this.$set(this.tableData, 0, {\r\n              ...firstRow,\r\n              number: 1\r\n            })\r\n            this.$set(this.tableData, curInd, {\r\n              ...row,\r\n              number: this.info.deliveryNumber - this.tableData.reduce((num, cur) => num + (cur.id !== row.id ? cur.number : 0), 0)\r\n            })\r\n            this.$message({\r\n              message: '当前修改数量已达上限',\r\n              type: 'warning'\r\n            })\r\n          }\r\n        }\r\n        this.numberSum = this.tableData.reduce((num, cur) => num + cur.number, 0)\r\n        // this.refreshKey++\r\n      })\r\n    },\r\n    handleCalculateDate(row, type) {\r\n      // expirationTime 保质期\r\n      // productionDate 生产日期\r\n      // qualityGuaranteePeriod 到期时间\r\n      const checkDates = row => !(row.productionDate || row.qualityGuaranteePeriod) ? 0 : /* 其他你想返回的值 */1\r\n      const result = checkDates(row)\r\n      if (result === 0) {\r\n        // 两个日期属性都不存在或无效\r\n        return\r\n      } else {\r\n        // 至少有一个日期属性存在或有效\r\n        if (row.productionDate && row.qualityGuaranteePeriod) {\r\n          if (type === '生产日期' || type === '保质期(天)') {\r\n            const a = new Date(row.productionDate).getTime()\r\n            const b = row.expirationTime * 24 * 60 * 60 * 1000\r\n            const date = new Date(a + b)\r\n            const formatObj = {\r\n              y: date.getFullYear(),\r\n              m: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1,\r\n              d: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate()\r\n            }\r\n            row.qualityGuaranteePeriod = `${formatObj.y}-${formatObj.m}-${formatObj.d}`\r\n          } else if (type === '到期时间') {\r\n            const a = new Date(row.qualityGuaranteePeriod).getTime()\r\n            const b = row.expirationTime * 24 * 60 * 60 * 1000\r\n            const date = new Date(a - b)\r\n            const formatObj = {\r\n              y: date.getFullYear(),\r\n              m: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1,\r\n              d: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate()\r\n            }\r\n            row.productionDate = `${formatObj.y}-${formatObj.m}-${formatObj.d}`\r\n          }\r\n          return\r\n        }\r\n\r\n        if (row.productionDate) { // 存在生产日期\r\n          const a = new Date(row.productionDate).getTime()\r\n          const b = row.expirationTime * 24 * 60 * 60 * 1000\r\n          const date = new Date(a + b)\r\n          const formatObj = {\r\n            y: date.getFullYear(),\r\n            m: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1,\r\n            d: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate()\r\n          }\r\n          row.qualityGuaranteePeriod = `${formatObj.y}-${formatObj.m}-${formatObj.d}`\r\n          return\r\n        }\r\n\r\n        if (row.qualityGuaranteePeriod) { // 存在到期时间\r\n          const a = new Date(row.qualityGuaranteePeriod).getTime()\r\n          const b = row.expirationTime * 24 * 60 * 60 * 1000\r\n          const date = new Date(a - b)\r\n          const formatObj = {\r\n            y: date.getFullYear(),\r\n            m: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1,\r\n            d: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate()\r\n          }\r\n          row.productionDate = `${formatObj.y}-${formatObj.m}-${formatObj.d}`\r\n        }\r\n        return\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 560px;\r\n}\r\n.main-box {\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n::v-deep .wid80 {\r\n  width: 80px;\r\n}\r\n::v-deep .wid100 {\r\n  width: 100px;\r\n}\r\n::v-deep .minWid100 {\r\n  min-width: 100px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailDialog.vue?vue&type=template&id=d1fbf45c&scoped=true&\"\nimport script from \"./DetailDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailDialog.vue?vue&type=style&index=0&id=d1fbf45c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1fbf45c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-drawer\r\n    :center=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-press-escape=\"false\"\r\n    :wrapper-closable=\"false\"\r\n    :title=\"title\"\r\n    size=\"75%\"\r\n    direction=\"btt\"\r\n    :visible=\"value\"\r\n    :destroy-on-close=\"true\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <div style=\"margin: 0 10px;\">\r\n      <divider>交接物料</divider>\r\n      <el-row>\r\n        <el-descriptions :border=\"true\" direction=\"vertical\" :column=\"8\">\r\n          <el-descriptions-item label=\"物料编码\">{{ dialogForm.materialCode }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"物料名称\">{{ dialogForm.materialName }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"规格型号\">{{ dialogForm.materialSpec }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"评估类型\">{{ dialogForm.materialAssessType_dictText }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"订单数量\">{{ dialogForm.orderNumber }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"计量单位\">{{ dialogForm.unitName }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"已到货数量\">{{ dialogForm.deliveredNumber }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"本次到货数量\">{{ dialogForm.deliveryNumber }}</el-descriptions-item>\r\n        </el-descriptions>\r\n      </el-row>\r\n\r\n      <!-- <el-row> -->\r\n      <divider>条码信息</divider>\r\n      <el-row style=\"margin: 10px 0;\">\r\n        <!-- isReverse 为true则不能添加物料(证明此交接单是供应商导入的) -->\r\n        <template v-if=\"$route.params.view !== 'detail' && !extraInfo.isReverse\">\r\n          <el-button type=\"warning\" @click=\"handleModify\">修改</el-button>\r\n          <el-button type=\"danger\" @click=\"handleClean\">清除</el-button>\r\n        </template>\r\n        <el-button type=\"primary\" :disabled=\"tableData.length === 0\" @click=\"handlePrintAll\">打印全部条码</el-button>\r\n      </el-row>\r\n      <table-com\r\n        :key=\"refreshKey\"\r\n        ref=\"baseTableRef\"\r\n        :loading=\"loading\"\r\n        :index=\"true\"\r\n        :selection=\"false\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :table-height-type=\"380\"\r\n        :operation-width=\"120\"\r\n        :expand-list=\"expandList\"\r\n        :table-column-sort=\"false\"\r\n        :show-operate=\"true\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"searchInit\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"handlePrint([scope.row.id])\">打印条码</el-button>\r\n        </template>\r\n      </table-com>\r\n    </div>\r\n    <package-to-s-k-u\r\n      v-model=\"skuVisible\"\r\n      :title=\"'供应商条码'\"\r\n      :extra-info=\"{columnList: columnList1 || [], tableData: dialogInfo1.subBarCodeList || []}\"\r\n      @print=\"handlePrint\"\r\n    />\r\n    <edit-dialog\r\n      v-model=\"dialogVisible\"\r\n      :dialog-form=\"dialogInfo\"\r\n      :edit-type=\"editInfoType\"\r\n      :title=\"dialogTitle\"\r\n      :extra-info=\"{deliveryMaterialId: dialogForm.id}\"\r\n      @confirm=\"confirmCallBack\"\r\n    />\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport printTagWired from '@/mixins/printTagWired'\r\nimport EditDialog from './DetailDialog'\r\nimport PackageToSKU from '@/components/ModalSelect/PackageToSKU'\r\nimport { getBottomDetailListApi as getListApi, cleanBottomDetailListApi, printApi } from '@/apis/modules/in-storage/purchase/delivery'\r\n\r\nexport default {\r\n  name: 'InStorageConsignCom',\r\n  components: {\r\n    EditDialog,\r\n    PackageToSKU\r\n  },\r\n  mixins: [paginationPage, printTagWired],\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    editType: {\r\n      type: String,\r\n      default: 'add'\r\n    },\r\n    dialogForm: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      title: '物料明细及条码',\r\n      refreshKey: new Date().getTime(),\r\n      loading: false,\r\n      rules: {},\r\n      query: {},\r\n      tableData: [],\r\n      columnList: [],\r\n      columnList1: [],\r\n      columnListBase: [\r\n        {\r\n          module: 'word',\r\n          prop: 'batchNo',\r\n          label: '批次号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'qualityGuaranteePeriod',\r\n          label: '到期时间',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: (item) => {\r\n            // Tip expirationDate 是否存在到期时间 枚举值0/1\r\n            return !item.expirationDate ? '无' : item.qualityGuaranteePeriod\r\n          },\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'link',\r\n          type: (item) => Array.isArray(item.subBarCodeList) && !!item.subBarCodeList.length ? 'primary' : '',\r\n          prop: 'barCode',\r\n          underline: false,\r\n          minWidth: 150,\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          handleClick: (item) => {\r\n            if (!item.subBarCodeList.length) return\r\n            this.skuVisible = true\r\n            this.dialogInfo1 = item\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'printNumber',\r\n          label: '打印次数',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'subBarCodeCount',\r\n          label: 'SKU码个数',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnListExtra: [\r\n        {\r\n          module: 'word',\r\n          prop: 'batchNo',\r\n          label: '批次号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'qualityGuaranteePeriod',\r\n          label: '到期时间',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: (item) => {\r\n            // Tip expirationDate 是否存在到期时间 枚举值0/1\r\n            return !item.expirationDate ? '无' : item.qualityGuaranteePeriod\r\n          },\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'link',\r\n          type: (item) => Array.isArray(item.subBarCodeList) && !!item.subBarCodeList.length ? 'primary' : '',\r\n          prop: 'barCode',\r\n          underline: false,\r\n          minWidth: 150,\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          handleClick: (item) => {\r\n            if (!item.subBarCodeList.length) return\r\n            this.skuVisible = true\r\n            this.dialogInfo1 = item\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'snNo',\r\n          label: '序列号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'printNumber',\r\n          label: '打印次数',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'subBarCodeCount',\r\n          label: 'SKU码个数',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      expandList: [],\r\n      dialogVisible: false,\r\n      skuVisible: false,\r\n      dialogInfo: {},\r\n      dialogInfo1: {},\r\n      editInfoType: 'add'\r\n    }\r\n  },\r\n  computed: {\r\n    dialogTitle() {\r\n      return this.editType === 'add' ? `新增${this.title}` : `编辑${this.title}`\r\n    }\r\n  },\r\n  watch: {\r\n    dialogForm: {\r\n      handler(item) {\r\n        this.$nextTick(() => {\r\n          this.columnList = (item.useMinUnit && item.unitName2 === '序列号') ? this.columnListExtra : this.columnListBase\r\n          this.columnList1 = this.columnList.filter(c => c.prop !== 'subBarCodeCount')\r\n        })\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.loading = true\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...this.query,\r\n          deliveryMaterialId: this.dialogForm.id\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.tableData = data\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    confirmCallBack() {\r\n      this.init()\r\n      // 触发采购交接单修改页面的物料列表刷新\r\n      this.$emit('confirm')\r\n    },\r\n    // 清除\r\n    handleClean() {\r\n      this.$confirm('此操作将永久清除所有物料明细和条码, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        cleanBottomDetailListApi({\r\n          deliveryMaterialId: this.dialogForm.id\r\n        }).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$message({\r\n              message: '清除成功',\r\n              type: 'success'\r\n            })\r\n            this.init()\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消清除'\r\n        })\r\n      })\r\n    },\r\n    // 打印全部条码\r\n    handlePrintAll() {\r\n      const ids = this.tableData.map(i => i.id)\r\n      this.handlePrint(ids)\r\n    },\r\n    // 打印单条条码\r\n    handlePrint(ids) {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: 'Loading',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.7)'\r\n      })\r\n      return new Promise((resolve, reject) => {\r\n        printApi({\r\n          ids\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.device && data.length && this.$notify.success({\r\n              title: '成功',\r\n              message: data.length > 30 ? `打印全部条码比较耗时，请耐心等待` : `已开始打印`\r\n            })\r\n            this.device && data.length && data.forEach(item => this.print(item))\r\n            this.init()\r\n              .then(res => {\r\n                this.dialogInfo1 = this.tableData.find(c => c.id === this.dialogInfo1.id) || {}\r\n              })\r\n          }\r\n          loading.close()\r\n          resolve(res)\r\n        }).catch(err => {\r\n          loading.close()\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 删除\r\n    handleDelete(item) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        this.tableData = this.tableData.filter(i => i.uuid !== item.uuid)\r\n      }).catch(() => {\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    handleAdd() {\r\n      this.editInfoType = 'add'\r\n      this.dialogInfo = {}\r\n      this.dialogVisible = true\r\n    },\r\n    // 修改\r\n    handleModify() {\r\n      this.dialogInfo = { ...this.dialogForm }\r\n      this.editInfoType = 'modify'\r\n      this.dialogVisible = true\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n      this.rightObj = { ...row }\r\n    },\r\n    refresh() {\r\n      this.init()\r\n    },\r\n    initSelect() {\r\n      this.$nextTick(() => {\r\n        this.columnList = (this.dialogForm.useMinUnit && this.dialogForm.unitName2 === '序列号') ? this.columnListExtra : this.columnListBase\r\n        this.columnList1 = this.columnList.filter(c => c.prop !== 'subBarCodeCount')\r\n        this.init()\r\n          .then(res => {\r\n          // 获取默认生成的条码后，刷新采购交接单修改页面的物料列表\r\n            this.$emit('confirm')\r\n          })\r\n      })\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      typeof done === 'function' && done()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n  <style lang='scss' scoped>\r\n  .container{\r\n    width: 860px;\r\n    margin: 0 auto;\r\n    .left{\r\n      width: 640px;\r\n    }\r\n    .right{\r\n      margin-left: 20px;\r\n      width: 180px;\r\n    }\r\n  }\r\n  ::v-deep:focus {\r\n    outline: 0;\r\n  }\r\n  ::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n    overflow-x: hidden;\r\n  }\r\n\r\n  ::v-deep .el-drawer__header {\r\n    margin-bottom: 10px !important;\r\n  }\r\n\r\n  .drawer-footer{\r\n    margin-top: 10px;\r\n    margin-right: 30px;\r\n  }\r\n  </style>\r\n\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=3cfeafdd&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=3cfeafdd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cfeafdd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":true,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"true\"\r\n          :index-fixed=\"true\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <!-- <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" /> -->\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi as getListSelectApi } from '@/apis/modules/in-storage/purchase'\r\n\r\nexport default {\r\n  name: 'MaterialOrderSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    url: { // 采购订单适用默认，查询采购订单合同中的物料； 物资寄售 查询基础数据下物料列表\r\n      type: String,\r\n      default: '/enterWarehouse/WmsOrder/listMaterial'\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialOrderSelect',\r\n      query: {},\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'orderNum',\r\n          label: '订单数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'price',\r\n          label: '单价',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitMaterial',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '已到货数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'deliveryNumber',\r\n          label: '本次到货数量',\r\n          align: 'center',\r\n          minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 0\r\n          },\r\n          setMax: (row) => {\r\n            return row.enterNumber\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          }\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      const valid = this.tableSelection.every((item) => item.deliveryNumber !== 0)\r\n      if (!valid) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `不能勾选本次到货数量为0的物料`\r\n        })\r\n        return\r\n      }\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        materialIdList: this.ids, // 所有选择后物料id\r\n        ...this.extraInfo // 订单Id 订单Type\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            // const { list, ...pageInfo } = data\r\n            // this.initPage(pageInfo)\r\n            this.tableData = data.map(i => {\r\n              return {\r\n                deliveryNumber: 0,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderMaterial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderMaterial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderMaterial.vue?vue&type=template&id=e53817c6&scoped=true&\"\nimport script from \"./OrderMaterial.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderMaterial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderMaterial.vue?vue&type=style&index=0&id=e53817c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e53817c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"materialCodeOrName\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"物料编码或名称\"},model:{value:(_vm.query.materialCodeOrName),callback:function ($$v) {_vm.$set(_vm.query, \"materialCodeOrName\", $$v)},expression:\"query.materialCodeOrName\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")])],1)],1),_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":true,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <div class=\"clearfix top-filter\">\r\n        <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n          <el-form-item prop=\"materialCodeOrName\" class=\"fl\">\r\n            <el-input v-model=\"query.materialCodeOrName\" filterable clearable placeholder=\"物料编码或名称\" style=\"width: 178px;\" class=\"filter-item\" />\r\n          </el-form-item>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"success\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"searchInit\"\r\n          >搜索</el-button>\r\n          <!-- <el-button\r\n              class=\"filter-item\"\r\n              type=\"warning\"\r\n              icon=\"el-icon-refresh-left\"\r\n              @click=\"resetForm('filterItem')\"\r\n            >重置</el-button> -->\r\n        </el-form>\r\n      </div>\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"true\"\r\n          :index-fixed=\"true\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi as getListSelectApi } from '@/apis/modules/base/baseMaterialInformation'\r\n\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    numberControl: { // 是否控制数量输入\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        materialCodeOrName: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'number',\r\n          prop: 'deliveryNumber',\r\n          label: '本次到货数量',\r\n          align: 'center',\r\n          minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          setMin: (row) => {\r\n            return 0\r\n          },\r\n          setPrecision: (row) => {\r\n            return 3\r\n          }\r\n          // setMax: (row) => {\r\n          //   return row.orderNum\r\n          // }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'code',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'name',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'spec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'description',\r\n          label: '物料描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitMeasureName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: 175,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'type_dictText',\r\n          label: '物料类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'minOutboundUnitName',\r\n          label: '最小单位SKU',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'isExpirationDate',\r\n          label: '是否有保质期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: (c) => c.isExpirationDate === 0 ? '否' : '是'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupCode',\r\n          label: '物料组编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialGroupDescription',\r\n          label: '物料组描述',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'dataSources_dictText',\r\n          label: '数据来源',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        materialIdList: this.ids || [],\r\n        ...this.extraInfo,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: 0,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Material.vue?vue&type=template&id=0c3b99ca&scoped=true&\"\nimport script from \"./Material.vue?vue&type=script&lang=js&\"\nexport * from \"./Material.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Material.vue?vue&type=style&index=0&id=0c3b99ca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c3b99ca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"1000px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('div',{staticClass:\"main-box\"},[_c('el-form',{ref:\"filterItem\",staticClass:\"top-filter clearfix\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"物料编码\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.code),callback:function ($$v) {_vm.$set(_vm.query, \"code\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.code\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")]),(!_vm.isCheckAll)?_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.checkAll}},[_vm._v(\"跨页全选\")]):_vm._e(),(_vm.isCheckAll)?_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.reverseSelection}},[_vm._v(\"跨页反选\")]):_vm._e()],1),_c('el-row',[_c('table-com',_vm._b({ref:_vm.refName,attrs:{\"row-key\":_vm.rowKey,\"table-height-type\":490,\"loading\":_vm.loading,\"index\":true,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection,\"selectable\":_vm.selectable},on:{\"selectionChange\":_vm.selectionChange,\"sortChange\":_vm.sortChange,\"dynamicRow\":_vm.getDynamicRow}},'table-com',_vm.$attrs,false))],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-row',{staticStyle:{\"text-align\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.rowObj},on:{\"click\":_vm.handleSelectUp}},[_vm._v(\"向上选中\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.rowObj},on:{\"click\":_vm.handleCancelUp}},[_vm._v(\"向上取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.rowObj},on:{\"click\":_vm.handleSelectDown}},[_vm._v(\"向下选中\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.rowObj},on:{\"click\":_vm.handleCancelDown}},[_vm._v(\"向下取消\")])],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirm}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"1000px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <div class=\"main-box\">\r\n        <el-form ref=\"filterItem\" class=\"top-filter clearfix\" :model=\"query\" inline @submit.native.prevent>\r\n          <el-form-item prop=\"code\">\r\n            <el-input v-model.trim=\"query.code\" placeholder=\"物料编码\" class=\"filter-item\" style=\"width: 178px;\" clearable @keyup.enter.native=\"searchInit\" />\r\n          </el-form-item>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"success\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"searchInit\"\r\n          >搜索</el-button>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-refresh-left\"\r\n            @click=\"resetForm('filterItem')\"\r\n          >重置</el-button>\r\n          <el-button v-if=\"!isCheckAll\" class=\"filter-item\" type=\"warning\" plain @click=\"checkAll\">跨页全选</el-button>\r\n          <el-button v-if=\"isCheckAll\" class=\"filter-item\" type=\"warning\" plain @click=\"reverseSelection\">跨页反选</el-button>\r\n        </el-form>\r\n        <el-row>\r\n          <table-com\r\n            :ref=\"refName\"\r\n            :row-key=\"rowKey\"\r\n            :table-height-type=\"490\"\r\n            :loading=\"loading\"\r\n            :index=\"true\"\r\n            :index-fixed=\"false\"\r\n            :selection=\"true\"\r\n            :multiple=\"multiple\"\r\n            :selection-fixed=\"false\"\r\n            :table-column-sort=\"false\"\r\n            :table-data=\"tableData\"\r\n            :column-list=\"columnList\"\r\n            :show-operate=\"false\"\r\n            :operate-fixed=\"false\"\r\n            v-bind=\"$attrs\"\r\n            :table-selection=\"tableSelection\"\r\n            :selectable=\"selectable\"\r\n            @selectionChange=\"selectionChange\"\r\n            @sortChange=\"sortChange\"\r\n            @dynamicRow=\"getDynamicRow\"\r\n          />\r\n        </el-row>\r\n        <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n      </div>\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-row style=\"text-align: left;\">\r\n        <el-button type=\"primary\" :disabled=\"!rowObj\" @click=\"handleSelectUp\">向上选中</el-button>\r\n        <el-button type=\"primary\" :disabled=\"!rowObj\" @click=\"handleCancelUp\">向上取消</el-button>\r\n        <el-button type=\"primary\" :disabled=\"!rowObj\" @click=\"handleSelectDown\">向下选中</el-button>\r\n        <el-button type=\"primary\" :disabled=\"!rowObj\" @click=\"handleCancelDown\">向下取消</el-button>\r\n      </el-row>\r\n      <el-button type=\"primary\" @click=\"handleConfirm\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { addMaterialPageListApi as getListApi, addBottomListApi } from '@/apis/modules/in-storage/purchase/delivery'\r\n\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        code: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编码',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'orderNumber',\r\n          label: '订单数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'notArrivedNumber',\r\n          label: '未到货数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'number',\r\n          prop: 'deliveryNumber',\r\n          label: '本次到货数量',\r\n          align: 'center',\r\n          minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          disabled: (c) => {\r\n            // 状态为已完成的需要禁用\r\n            return c.status === 3\r\n          },\r\n          setMin: () => {\r\n            return 0\r\n          },\r\n          setMax: (c) => {\r\n            return (c.orderNumber - c.deliveredNumber) // 本次到货数量计算公式：订单数量-已到货数量\r\n          },\r\n          handleChange: _.throttle((row) => {\r\n            // Tip 勾选项内容更新\r\n            this.tableSelection.forEach(c => {\r\n              if (c.id === row.id) {\r\n                c.deliveryNumber = row.deliveryNumber\r\n              }\r\n            })\r\n          }, 1000),\r\n          setPrecision: () => {\r\n            return 3\r\n          }\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      rowObj: null,\r\n      rowKey: 'id',\r\n      // 跨页全选标记\r\n      isCheckAll: false\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        ...this.extraInfo,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 跨页全选\r\n    checkAll() {\r\n      this.isCheckAll = true\r\n      const params = {\r\n        ...this.query,\r\n        ...this.extraInfo,\r\n        page: {\r\n          current: 1, // 当前页码\r\n          size: 10000 // 每页条数\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list } = data\r\n            if (list && Array.isArray(list) && list.length) {\r\n              // 排除父级已经选过的数据\r\n              this.tableSelection = list.filter(row => !this.selection.includes(row.id))\r\n              if (!this.tableSelection.length) {\r\n                this.isCheckAll = false\r\n                this.$notify.warning({\r\n                  title: '警告',\r\n                  message: `暂不支持跨页全选`\r\n                })\r\n                return\r\n              }\r\n\r\n              // 初始化当前页面的勾选\r\n              const rowKey = this.rowKey\r\n              const ids = this.tableSelection.map(i => i[rowKey]) // 满足可被勾选条件的数据\r\n              const curPageCheckedArr = [] // 当前页满足可被勾选条件de项\r\n              this.tableData.forEach(row => {\r\n                function check(row) {\r\n                  const id = row[rowKey]\r\n                  return ids.some(i => i === id)\r\n                }\r\n                if (check(row)) {\r\n                  curPageCheckedArr.push(row)\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n\r\n              // 除了当前页的其余页勾选\r\n              this.tableSelection.forEach(row => {\r\n                // 排除当前页已勾选的项,并选中其它可勾选项\r\n                const ids = curPageCheckedArr.map(i => i[rowKey])\r\n                if (!ids.includes(row[rowKey])) {\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 跨页反选\r\n    reverseSelection() {\r\n      this.isCheckAll = false\r\n      this.$nextTick(() => {\r\n        this.$refs[this.refName].$refs.multipleTable.clearSelection()\r\n        this.tableSelection = []\r\n      })\r\n    },\r\n    // 表格自定义排序\r\n    sortChange({ column, prop, order }) {\r\n      this.init()\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    },\r\n    // 初始化\r\n    initSelect() {\r\n      this.searchInit()\r\n    },\r\n    // 选项改变\r\n    selectionChange(arr) {\r\n      this.tableSelection = [...arr]\r\n    },\r\n    // 当用户手动勾选数据行的 Checkbox 时触发的事件的回调，参数为当前勾选行\r\n    getDynamicRow(item) {\r\n      this.rowObj = item\r\n    },\r\n    // 向上选中\r\n    handleSelectUp() {\r\n      // 当前操作项索引\r\n      const operateItemIndex = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n      if (operateItemIndex !== -1) {\r\n        this.tableData.forEach((c, i) => {\r\n          this.$nextTick(() => {\r\n            i < operateItemIndex && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, true)\r\n          })\r\n        })\r\n      }\r\n    },\r\n    // 向上取消\r\n    handleCancelUp() {\r\n      // 当前操作项索引\r\n      const operateItemIndex = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n      if (operateItemIndex !== -1) {\r\n        this.tableData.forEach((c, i) => {\r\n          this.$nextTick(() => {\r\n            i < operateItemIndex && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, false)\r\n          })\r\n        })\r\n      }\r\n    },\r\n    // 向下选中\r\n    handleSelectDown() {\r\n      // 当前操作项索引\r\n      const operateItemIndex = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n      if (operateItemIndex !== -1) {\r\n        this.tableData.forEach((c, i) => {\r\n          this.$nextTick(() => {\r\n            i > operateItemIndex && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, true)\r\n          })\r\n        })\r\n      }\r\n    },\r\n    // 向下取消\r\n    handleCancelDown() {\r\n      // 当前操作项索引\r\n      const operateItemIndex = this.tableData.findIndex(c => c.id === this.rowObj.id)\r\n      if (operateItemIndex !== -1) {\r\n        this.tableData.forEach((c, i) => {\r\n          this.$nextTick(() => {\r\n            i > operateItemIndex && this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(c, false)\r\n          })\r\n        })\r\n      }\r\n    },\r\n    // 关闭\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.tableSelection = new Array(0)\r\n      this.rowObj = null\r\n      this.resetForm('filterItem')\r\n      typeof done === 'function' && done()\r\n    },\r\n    // 确定\r\n    handleConfirm() {\r\n      const params = {\r\n        dmList: this.tableSelection.map(c => ({\r\n          orderMaterialId: c.orderMaterialId, // 订单物料id，取值为弹窗中选中数据的id\r\n          deliveryReceiptId: this.extraInfo.deliveryReceiptId, // 当前交接单的主键id\r\n          materialId: c.materialId, // 物料id\r\n          orderNumber: c.orderNumber, // 订单物料数量\r\n          deliveryNumber: c.deliveryNumber // 手输的那个本次到货数量\r\n        }))\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        addBottomListApi({\r\n          ...params\r\n        })\r\n          .then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.$emit('confirm', this.tableSelection)\r\n              this.beforeClose()\r\n            }\r\n            resolve(res)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    // 注意：此方法貌似废弃了\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    // Tip 控制表格某行是否可被勾选\r\n    selectable(row, index) {\r\n      // this.selection 之前勾选的项\r\n      return !this.selection.includes(row.id) // 选过就禁止再选\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n.main-box {\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialChoose.vue?vue&type=template&id=45f7df92&scoped=true&\"\nimport script from \"./MaterialChoose.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialChoose.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialChoose.vue?vue&type=style&index=0&id=45f7df92&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45f7df92\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-loading=\"loading\" class=\"app-container\">\r\n    <el-row class=\"clearfix\">\r\n      <div class=\"fl\">\r\n        <el-button @click=\"beforeClose\">返 回</el-button>\r\n      </div>\r\n      <div class=\"fr\">\r\n        <el-button v-if=\"params.view !== 'detail'\" type=\"primary\" style=\"margin-right: 10px;\" @click=\"handleSave\">{{ params.view === 'add' ? '下一步' : '保存交接单' }}</el-button>\r\n        <!--\r\n        0: '草稿',1: '待检验',2: '检验中',3: '未入库',4: '部分入库',5: '已完成',6: '待更新'\r\n      -->\r\n        <el-button v-show=\"params.view === 'detail'\" :disabled=\"!([3, 4].includes(form.status) && form.canStockInMatarialCount > 0)\" type=\"primary\" @click=\"handleInWarehouse\">入库</el-button>\r\n      </div>\r\n    </el-row>\r\n    <!-- Tip 基础交接单信息 -->\r\n    <transition name=\"el-zoom-in-top\">\r\n      <el-row>\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" label-position=\"left\" :disabled=\"params.view === 'detail'\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"合同号\" prop=\"contractNo\">\r\n                <el-input\r\n                  v-model.trim=\"form.contractNo\"\r\n                  placeholder=\"请填写合同号\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"订单号\" prop=\"orderNo\">\r\n                <el-input\r\n                  v-model.trim=\"form.orderNo\"\r\n                  placeholder=\"请填写订单号\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col v-if=\"params.view !== 'add'\" :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"交接单号\" prop=\"no\">\r\n                <el-input\r\n                  v-model.trim=\"form.no\"\r\n                  placeholder=\"系统自动生成\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"供应商\" prop=\"supplierName\">\r\n                <el-input\r\n                  v-model.trim=\"form.supplierName\"\r\n                  placeholder=\"请填写供应商\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"用料单位\" prop=\"materialsUnit\">\r\n                <el-input\r\n                  v-model.trim=\"form.materialsUnit\"\r\n                  placeholder=\"请填写用料单位\"\r\n                  style=\"width: 100%;\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"凭证日期\" prop=\"deliveryDate\">\r\n                <el-date-picker\r\n                  v-model=\"form.deliveryDate\"\r\n                  type=\"date\"\r\n                  style=\"width: 100%;\"\r\n                  value-format=\"yyyy-MM-dd\"\r\n                  placeholder=\"请选择凭证日期\"\r\n                  :clearable=\"false\"\r\n                  :editable=\"false\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"是否检验\" prop=\"inspect\">\r\n                <!-- 交接单状态为待更新需要禁用(已驳回交接单的状态会变为待更新) -->\r\n                <el-radio-group v-model=\"form.inspect\" :disabled=\"params.view === 'modify' && form.status === 6\" style=\"width: 178px;\" class=\"my-inspect-sty\">\r\n                  <el-radio-button :label=\"true\">是</el-radio-button>\r\n                  <el-radio-button :label=\"false\">否</el-radio-button>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"备注\" prop=\"remarks\">\r\n                <el-input v-model=\"form.remarks\" type=\"textarea\" :rows=\"1\" placeholder=\"请填写备注\" />\r\n              </el-form-item>\r\n            </el-col>\r\n            <!-- <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"8\">\r\n              <el-form-item label=\"仓库名称\" prop=\"warehouseId\">\r\n                <el-select\r\n                  v-model=\"form.warehouseId\"\r\n                  filterable\r\n                  clearable\r\n                  style=\"width: 100%;\"\r\n                  placeholder=\"请选择仓库名称\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"(item,index) in warehousePullList\"\r\n                    :key=\"index\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.id\"\r\n                  />\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col> -->\r\n          </el-row>\r\n        </el-form>\r\n      </el-row>\r\n    </transition>\r\n    <!-- Tip 交接单物料信息 -->\r\n    <el-divider content-position=\"left\">交接单信息</el-divider>\r\n    <!-- Tip 交接单物料信息-按钮区域 -->\r\n    <el-row v-if=\"params.view !== 'detail'\">\r\n      <!-- Tip 定单类型为外协、寄售、成品 -->\r\n      <el-button\r\n        v-if=\"['2','3','4'].includes(form.orderType)\"\r\n        type=\"primary\"\r\n        @click=\"handleAddMaterial(form.orderType)\"\r\n      >新增物料</el-button>\r\n      <!-- isReverse 为true则不能添加物料(证明此交接单是供应商导入的) -->\r\n      <el-button\r\n        v-if=\"form.orderType === '1' && params.view === 'modify' && !form.isReverse\"\r\n        type=\"primary\"\r\n        :disabled=\"!enabled\"\r\n        @click=\"handleAddMaterial1\"\r\n      >添加物料</el-button>\r\n      <!-- <el-button\r\n        type=\"success\"\r\n        :disabled=\"!form.id\"\r\n      >下载模版</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        :disabled=\"!form.id\"\r\n      >导入物料明细</el-button> -->\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"el-icon-setting\"\r\n        @click=\"handleSetTable\"\r\n      >设置</el-button>\r\n    </el-row>\r\n    <el-row>\r\n      <div class=\"clearfix top-filter\">\r\n        <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n          <el-form-item prop=\"code\">\r\n            <el-input v-model=\"query.code\" placeholder=\"物料编码或名称\" clearable style=\"width: 178px;\" @keyup.enter.native=\"searchInit\" />\r\n          </el-form-item>\r\n          <el-button type=\"success\" icon=\"el-icon-search\" @click=\"init\">搜索</el-button>\r\n          <el-button type=\"warning\" icon=\"el-icon-refresh-left\" @click=\"resetForm('filterItem')\">重置</el-button>\r\n          <span v-if=\"!['detail','add'].includes(params.view)\" style=\"text-align: right;\">\r\n            <el-button type=\"primary\" @click=\"handleAllGenerate\">全部生成条码</el-button>\r\n            <el-button type=\"primary\" @click=\"handleAllPrint\">全部打印</el-button>\r\n          </span>\r\n        </el-form>\r\n      </div>\r\n    </el-row>\r\n    <!-- Tip 交接单物料信息-列表区域(表格具有多选功能) -->\r\n    <el-row>\r\n      <table-com\r\n        :key=\"tableComKey\"\r\n        :ref=\"refTableName\"\r\n        :ref-name=\"'tableRef'\"\r\n        class=\"base-table\"\r\n        :table-height-type=\"450\"\r\n        :selection=\"params.view === 'add'\"\r\n        :selection-fixed=\"false\"\r\n        :table-selection=\"tableSelection\"\r\n        :loading=\"tableLoading\"\r\n        :index=\"true\"\r\n        :table-column-sort=\"true\"\r\n        :form-ident=\"formIdent\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"170\"\r\n        :expand-list=\"expandList\"\r\n        :show-operate=\"params.view !== 'add'\"\r\n        :cell-style=\"handleCellStyle\"\r\n        :refresh-key=\"refreshKey\"\r\n        :selectable=\"selectable\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"searchInit\"\r\n        @selectionChange=\"selectionChange\"\r\n        @dynamicRow=\"getDynamicRow\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <!-- 当前数据是完成状态时，这三个按钮不可操作 -->\r\n          <el-button v-if=\"params.view !== 'detail'\" type=\"primary\" :disabled=\"scope.row.orderType === 0 || scope.row.status === 3\" @click=\"handleGenerateBarcode(scope.row)\">生成条码</el-button>\r\n          <el-button v-if=\"params.view === 'detail'\" type=\"primary\" @click=\"handleViewBarcode(scope.row)\">查看条码</el-button>\r\n          <!-- isReverse 为true则不能添加物料(证明此交接单是供应商导入的) -->\r\n          <el-button v-if=\"params.view !== 'detail' && !form.isReverse\" type=\"danger\" :disabled=\"scope.row.orderType === 0 || scope.row.status === 3 || scope.row.status === 6\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <pagination\r\n      v-if=\"params.view === 'add'\"\r\n      :page.sync=\"pageInfo.current\"\r\n      :limit.sync=\"pageInfo.size\"\r\n      :total=\"total\"\r\n      @pagination=\"paginationStatusChange\"\r\n    />\r\n\r\n    <!-- 生成条码 -->\r\n    <generate-barcode\r\n      v-model=\"dialogVisible\"\r\n      :dialog-form=\"dialogForm\"\r\n      :edit-type=\"editType\"\r\n      :extra-info=\"{isReverse: form.isReverse}\"\r\n      @confirm=\"confirmCallBack\"\r\n    />\r\n\r\n    <!-- 订单物料(仅限于订单类型为外协、成品)  -->\r\n    <order-material\r\n      v-if=\"['2','4'].includes(form.orderType)\"\r\n      v-model=\"orderSelectInfo.visible\"\r\n      :ids=\"tableData.map(i => i.materialId)\"\r\n      :extra-info=\"{id: Number(params.orderId), type: '4'}\"\r\n      @confirm=\"onSelectConfirm\"\r\n    />\r\n\r\n    <!-- 基础物料(仅限订单类型为寄售)  -->\r\n    <base-material\r\n      v-if=\"['3'].includes(form.orderType)\"\r\n      v-model=\"selectInfo.visible\"\r\n      :ids=\"tableData.map(i => i.materialId)\"\r\n      :extra-info=\"{}\"\r\n      :number-control=\"false\"\r\n      @confirm=\"onSelectConfirm\"\r\n    />\r\n\r\n    <!-- 订单物料(仅限于订单类型为采购)  -->\r\n    <material-select\r\n      v-model=\"visible\"\r\n      :extra-info=\"{orderId: params.orderId,deliveryReceiptId: params.id, excludeOrderMaterialIds: tableData.map(c => c.orderMaterialId)}\"\r\n      @confirm=\"handleChooseConfirm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport printTagWired from '@/mixins/printTagWired'\r\nimport tableHeadSet from '@/mixins/tableHeadSet'\r\nimport GenerateBarcode from './Dialog'\r\n// 订单物料\r\nimport OrderMaterial from '@/views/in-storage/purchase/OrderMaterial'\r\n// 所有物料(来源：基础数据/物料信息)\r\nimport BaseMaterial from '@/views/in-storage/purchase/Material'\r\n// 订单物料\r\nimport MaterialSelect from './MaterialChoose'\r\nimport { getListDetailApi as getDetailApi, getBottomListApi, addBottomListApi, delBottomListApi, editBottomListApi, addListApi, updateListApi, materialPrintApi, allPrintApi, allGenerateApi } from '@/apis/modules/in-storage/purchase/delivery'\r\nimport { getWarehouseSapPullListApi } from '@/apis/modules/base/basewmsWarehouse'\r\nimport moment from 'moment'\r\nmoment.locale('zh-cn')\r\n\r\nconst INIT_FORM = {\r\n  no: '', // 交接单号\r\n  contractNo: '', // 合同编号\r\n  orderNo: '', // 订单号\r\n  supplierName: '', // 供应商\r\n  materialsUnit: '', // 用料单位\r\n  deliveryDate: '', // 交货日期\r\n  inspect: true, // 是否检验\r\n  orderType: '', // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n  remarks: '', // 备注\r\n  // warehouseId: '',\r\n  status: null // 交接单状态\r\n}\r\n\r\nexport default {\r\n  name: 'InStorageDeliveryAdd', // 此处设置name是为了保证来回切换页面的时候，交接单新增页数据始终被缓存在页面\r\n  components: {\r\n    GenerateBarcode,\r\n    OrderMaterial,\r\n    BaseMaterial,\r\n    MaterialSelect\r\n  },\r\n  mixins: [paginationPage, printTagWired, tableHeadSet],\r\n  data() {\r\n    return {\r\n      title: '交接单',\r\n      loading: false,\r\n      tableLoading: false, // 表格loading\r\n      query: {},\r\n      tableData: [],\r\n      tableSelection: [], // 选中物料列表\r\n      // tableDefaultSelection: [], // 编辑页面下默认选中的交接单物料列表\r\n      refreshKey: 0,\r\n      tableComKey: 0,\r\n      refTableName: 'baseTableRef',\r\n      columnSets: [],\r\n      expandList: [],\r\n      dialogForm: {},\r\n      editType: 'add',\r\n      dialogVisible: false,\r\n      params: {\r\n        id: '', // 交接单id\r\n        view: 'add'\r\n      },\r\n      form: INIT_FORM,\r\n      rules: {\r\n        deliveryDate: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ],\r\n        inspect: [\r\n          { required: true, message: '此项必填', trigger: 'blur' }\r\n        ]\r\n        // warehouseId: [\r\n        //   { required: true, message: '此项必填', trigger: 'change' }\r\n        // ]\r\n      },\r\n      orderSelectInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      selectInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      selected: new Set(),\r\n      selectedRows: [],\r\n      // warehousePullList: [],\r\n      currentRow: null,\r\n      visible: false,\r\n      enabled: true\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  watch: {\r\n  },\r\n  mounted() {\r\n    this.params = this.$route.params\r\n    // this.getWarehousePullList()\r\n    this.initBaseInfo() // 获取交接单信息并填充(里头有订单类型orderType字段)\r\n    this.columnSets = [\r\n      this.params.view === 'add' ? { // 注意：本次到货数量栏目在新增交接单时展示为数字输入框\r\n        module: 'number',\r\n        prop: 'deliveryNumber',\r\n        label: '本次到货数量',\r\n        align: 'center',\r\n        minWidth: 160,\r\n        fixed: false,\r\n        sortable: false,\r\n        resizable: true,\r\n        headerAlign: 'center',\r\n        disabled: (row) => {\r\n          // 状态为已完成的需要禁用\r\n          if (this.params.view === 'detail' || row.status === 3) return true\r\n          return false\r\n        },\r\n        setMin: (row) => {\r\n          return 0\r\n        },\r\n        setMax: (c) => {\r\n          if (this.form.orderType === '3') {\r\n            // 寄售订单\r\n            return Infinity // 不限制数量\r\n          } else {\r\n            // 采购订单 外协订单 成品订单\r\n            return (c.orderNumber - c.deliveredNumber) // 本次到货数量计算公式：订单数量-已到货数量\r\n          }\r\n        },\r\n        handleChange: _.throttle((row) => {\r\n          // Tip 勾选项内容更新\r\n          if (this.selected.has(row.id)) {\r\n            const ind = this.selectedRows.findIndex(c => c.id === row.id)\r\n            this.selectedRows[ind] = row\r\n          }\r\n        }, 1000),\r\n        setPrecision: (row) => {\r\n          return 3\r\n        }\r\n      } : { // 注意：本次到货数量栏目在非新增交接单时展示为纯文本\r\n        module: 'word',\r\n        prop: 'deliveryNumber',\r\n        label: '本次到货数量',\r\n        align: 'center',\r\n        minWidth: 160,\r\n        fixed: false,\r\n        sortable: false,\r\n        resizable: true,\r\n        headerAlign: 'center'\r\n      }\r\n    ]\r\n    this.listInit()\r\n  },\r\n  methods: {\r\n    // Tip 基础交接单信息获取\r\n    initBaseInfo() {\r\n      this.loading = true\r\n      // Tip 以下两个入参二选一，当新增交接单时，则需要传入订单ID，初始化部分数据，编辑交接单时传入当前交接单ID，不可两个都传入\r\n      const params = {\r\n        ...this.params.view === 'add' && { orderId: this.params.orderId },\r\n        ...this.params.view !== 'add' && { deliveryReceiptId: this.params.id }\r\n      }\r\n      // Tip 查看交接单详情\r\n      return new Promise((resolve, reject) => {\r\n        getDetailApi(params).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.form = { ...data }\r\n            // 凭证日期，设置缺省日期\r\n            this.form.deliveryDate = data.deliveryDate || moment().format('YYYY-MM-DD')\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 调用以更新交接单信息(废弃)\r\n    initAutoUpdate() {\r\n      const params = {\r\n        ...this.form\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        updateListApi(params).then(res => {\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 交接单保存回调\r\n    handleSave() {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (!valid) return\r\n        const params = {\r\n          saveType: this.params.view === 'add' ? 1 : 2, // add - 物料  modify- 交接单\r\n          // 基础表单信息\r\n          entity: {\r\n            id: this.params.view === 'add' ? null : this.form.id,\r\n            orderId: this.params.orderId, // 采购订单id\r\n            type: this.form.orderType, // 交接单类型--根据订单入口传入不同值，枚举值:1 2 3 4(采购交接单、外协交接单、寄售交接单、成品交接单)\r\n            contractNo: this.form.contractNo, // 合同编号\r\n            deliveryDate: this.form.deliveryDate, // 凭证日期\r\n            inspect: this.form.inspect, // 是否检验\r\n            remarks: this.form.remarks // 备注\r\n            // warehouseId: this.form.warehouseId\r\n          },\r\n          // 交接单物料列表\r\n          // id: item.orderType === 1 ? item.id : null, // orderType === 1的时候需传交接单id，否则传null或不传\r\n          // delete: false, // 意为本次保存时新增的物料\r\n          dmList: this.params.view === 'add' ? this.selectedRows.map(c => ({ ...c, id: c.orderType === 1 ? c.id : null, delete: false })) : this.tableData.map(c => ({ ...c, id: c.orderType === 1 ? c.id : null, delete: false }))\r\n        }\r\n        if (!params.dmList.length) {\r\n          this.$notify.warning({\r\n            title: '警告',\r\n            message: '请选择物料'\r\n          })\r\n          return\r\n        }\r\n        this.loading = true\r\n        addListApi(params).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            if (this.params.view === 'add') {\r\n              // Tip 保存信息生成交接单id\r\n              this.$set(this.form, 'id', data)\r\n              // Tip 保存成功删除当前页签\r\n              this.$store.dispatch('tagsView/delView', this.$route)\r\n              // Tip 跳转交接单修改页面\r\n              this.$router.push({\r\n                name: 'InStorageDeliveryModify',\r\n                params: {\r\n                  view: 'modify',\r\n                  orderId: this.params.orderId,\r\n                  id: this.form.id,\r\n                  type: this.form.orderType,\r\n                  routeName: this.$route.name\r\n                }\r\n              })\r\n            } else if (this.params.view === 'modify') {\r\n              // Tip 保存成功删除当前页签\r\n              this.$store.dispatch('tagsView/delView', this.$route)\r\n              // Tip 如果当前页面是《交接单修改》，跳交接单列表页\r\n              const routeName = {\r\n                1: 'InStoragePurchaseDelivery', // 《采购订单-交接单》\r\n                2: 'InStorageAssistDelivery', // 《外协入库-交接单》\r\n                3: 'InStorageConsignDelivery', // 《物资寄售-交接单》\r\n                4: 'InStorageFinishDelivery' // 《成品入库-交接单》\r\n              }[`${this.form.orderType}`]\r\n              routeName ? (this.$router.push({\r\n                name: routeName,\r\n                params: {\r\n                  id: this.params.orderId,\r\n                  type: this.form.orderType\r\n                }\r\n              })) : (this.$router.go(-1))\r\n            }\r\n          }\r\n          this.loading = false\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.loading = false\r\n        })\r\n      })\r\n    },\r\n    // Tip 交接单物料列表编辑\r\n    handleListEdit(item) {\r\n      // Tip 接口参数\r\n      const params = {\r\n        entity: {\r\n          id: item.id, // 交接物料主键ID\r\n          deliveryNumber: item.deliveryNumber || 0 // 本次到货数量\r\n        }\r\n      }\r\n      // Tip 编辑交接物料\r\n      return new Promise((resolve, reject) => {\r\n        editBottomListApi(params).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            // this.$notify.success({\r\n            //   title: '成功',\r\n            //   message: `交接物料修改成功`\r\n            // })\r\n            // this.listInit()\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 列表刷新会调用这个方法\r\n    init() {\r\n      this.listInit()\r\n    },\r\n    // Tip 生成条码弹窗确认回调\r\n    async confirmCallBack() {\r\n      this.tableComKey++\r\n      await this.listInit()\r\n      const i = this.tableData.findIndex(c => c.id === this.dialogForm.id)\r\n      if (i !== -1) {\r\n        this.dialogForm = this.tableData[i]\r\n      }\r\n    },\r\n    // Tip 交接单物料列表获取\r\n    listInit() {\r\n      this.enabled = false // 先不启用添加物料按钮，等到数据正常返回再启用，防止添加物料弹窗接口参数获取不到数据，导致物料添加重复\r\n      this.tableLoading = true\r\n      // Tip 接口参数\r\n      const params = {\r\n        page: {\r\n          ...this.pageInfo,\r\n          ...this.params.view !== 'add' && { size: 1000 }\r\n        },\r\n        ...this.query,\r\n        orderId: ['modify', 'detail'].includes(this.params.view) ? null : this.params.orderId, // 采购订单id\r\n        deliveryReceiptId: this.params.view === 'add' ? null : this.params.id // 交接单主键ID\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getBottomListApi({\r\n          ...params,\r\n          ...this.params.view === 'add' && { ids: [...this.selected] }\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.enabled = true // 启用添加物料按钮\r\n            const { formIdent, formHeadSets, pageData } = data\r\n            this.formIdent = formIdent\r\n            this.columnList = this.initTableHeadMixins(formHeadSets)\r\n            // 未到货数量栏目配置\r\n            const lo = this.columnList.findIndex(item => !item.prop)\r\n            this.columnList.splice(lo, 1, {\r\n              module: 'word',\r\n              prop: '',\r\n              label: '未到货数量',\r\n              align: 'center',\r\n              headerAlign: 'center',\r\n              minWidth: '',\r\n              fixed: false,\r\n              sortable: false,\r\n              resizable: true,\r\n              formatter: (c) => {\r\n                return (c.orderNumber - c.deliveredNumber).toFixed(3)\r\n              }\r\n            })\r\n            const { list, ...pageInfo } = pageData\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                ...i,\r\n                ...this.params.view === 'add' && {\r\n                  deliveryNumber: this.selected.has(i.id) ? this.selectedRows.find(c => c.id === i.id).deliveryNumber : i.orderNumber - i.deliveredNumber\r\n                }\r\n              }\r\n            })\r\n            if (this.params.view !== 'add') { // Tip 编辑或详情页面，物料设置默认选中项\r\n              this.tableSelection = this.tableData.filter(item => item.orderType === 1)\r\n            } else { // Tip 新增页面，物料设置默认跨页选中项\r\n              this.tableSelection = this.tableData.filter(item => item.selected)\r\n              console.log('调接口读取缓存---', [...this.selected])\r\n            }\r\n          }\r\n          this.tableLoading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.tableLoading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 删除底部交接单物料\r\n    handleDelete(item) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        if (!item.id) return\r\n        delBottomListApi({\r\n          entity: {\r\n            id: item.id\r\n          }\r\n        }).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success'\r\n            })\r\n            this.listInit()\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    // Tip 新增物料接口\r\n    handleAddMaterial(type /** 订单类型 */) {\r\n      if (type === '3') { // 订单类型为寄售时打开基础物料弹窗\r\n        this.selectInfo.visible = true\r\n      } else { // 订单类型为外协、成品时打开订单物料弹窗\r\n        this.orderSelectInfo.visible = true\r\n      }\r\n    },\r\n    // Tip 表格行内点击回调\r\n    handleRowClick({ row, column, cell, event }) {\r\n      this.currentRow = row\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    },\r\n    // Tip 择物料确定回调\r\n    onSelectConfirm(list) {\r\n      if (!list.length) return\r\n      let dmList = []\r\n      if (this.form.orderType === '3') { // 寄售订单\r\n        dmList = list.map(i => {\r\n          return {\r\n            ...i,\r\n            deliveryReceiptId: this.form.id,\r\n            materialId: i.id,\r\n            orderMaterialId: null,\r\n            orderNumber: 0,\r\n            deliveryNumber: i.deliveryNumber\r\n          }\r\n        })\r\n      } else { // 外协、成品订单\r\n        dmList = list.map(i => {\r\n          return {\r\n            ...i,\r\n            deliveryReceiptId: this.form.id,\r\n            materialId: i.materialId,\r\n            orderMaterialId: i.id,\r\n            orderNumber: i.orderNum,\r\n            deliveryNumber: i.deliveryNumber\r\n          }\r\n        })\r\n      }\r\n      // 新增交接单物料\r\n      addBottomListApi({\r\n        dmList\r\n      }).then(res => {\r\n        const { code } = res\r\n        if (!code) {\r\n          this.$notify.success({\r\n            title: '成功',\r\n            message: `交接物料添加成功`\r\n          })\r\n          this.listInit()\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // Tip\r\n    handleAdd() {\r\n      this.editType = 'add'\r\n      this.dialogForm = {}\r\n      this.dialogVisible = true\r\n    },\r\n    // Tip 重置表单\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    },\r\n    // Tip 全部生成\r\n    handleAllGenerate() {\r\n      return new Promise((resolve, reject) => {\r\n        allGenerateApi({ deliveryReceiptId: this.params.id })\r\n          .then(res => {\r\n            this.$message({\r\n              message: '条码已全部生成',\r\n              type: 'success'\r\n            })\r\n          })\r\n          .catch(err => {\r\n            console.log('err：', err)\r\n          })\r\n      })\r\n    },\r\n    // Tip 全部打印\r\n    handleAllPrint() {\r\n      this.getDataAndPrint(allPrintApi, { deliveryReceiptId: this.params.id })\r\n        .then(res => {\r\n          this.listInit()\r\n        })\r\n    },\r\n    // Tip 关闭页面\r\n    beforeClose() {\r\n      this.$store.dispatch('tagsView/delView', this.$route)\r\n      // 如果是交接单修改页面需跳转采购订单-交接单页面\r\n      if (this.$route.params.routeName === 'InStorageDeliveryModify') {\r\n        this.$router.push({\r\n          name: 'InStoragePurchaseDelivery',\r\n          params: {\r\n            id: this.$route.params.orderId, // 订单id\r\n            type: this.$route.params.type // 订单类型\r\n          }\r\n        })\r\n        return\r\n      }\r\n      let routeName = ''\r\n      // Tip 如果是从《新增交接单》页面跳到《交接单修改》页\r\n      if (this.params.view === 'modify' && this.params.routeName === 'InStorageDeliveryAdd') {\r\n        // const arr = ['采购订单', '外协入库', '物资寄售', '成品入库']\r\n        const arr = ['InStoragePurchase', 'InStorageAssist', 'InStorageConsign', 'InStorageFinish']\r\n        routeName = arr[this.form.orderType - 1]\r\n        this.$router.push({\r\n          name: routeName\r\n        })\r\n        return\r\n      }\r\n      routeName = this.params.routeName\r\n      routeName ? (this.$router.push({\r\n        name: routeName,\r\n        params: this.$route.query.extraInfo || {}\r\n      })) : (this.$router.go(-1))\r\n    },\r\n    // Tip 批量打印条码(废弃)\r\n    handleBatchPrintBarcode() {\r\n      const args = this.tableSelection.map(i => ({ id: i.id, deliveryNumber: i.deliveryNumber, number: i.number }))\r\n      if (!args.length) {\r\n        this.$message({\r\n          message: '请勾选物料信息！',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.getDataAndPrint(materialPrintApi, {\r\n        dmList: args\r\n      })\r\n    },\r\n    // Tip 打印条码(废弃)\r\n    handlePrintBarcode(item) {\r\n      this.getDataAndPrint(materialPrintApi, {\r\n        dmList: [{ id: item.id, deliveryNumber: item.deliveryNumber, number: item.number }]\r\n      })\r\n    },\r\n    // Tip 生成条码\r\n    handleGenerateBarcode(item) {\r\n      this.handleListEdit(item)\r\n        .then(() => {\r\n          this.dialogForm = { ...item }\r\n          this.editType = 'modify'\r\n          this.dialogVisible = true\r\n        })\r\n        .catch(err => {\r\n          console.log('err', err)\r\n        })\r\n    },\r\n    // Tip 查看条码\r\n    handleViewBarcode(item) {\r\n      this.dialogForm = { ...item }\r\n      this.editType = 'modify'\r\n      this.dialogVisible = true\r\n    },\r\n    // Tip 表格一键全选改变回调\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n\r\n      if (!this.tableSelection.length) {\r\n        this.tableData.forEach(item => {\r\n          if (this.selected.has(item.id)) {\r\n            this.selected.delete(item.id)\r\n            this.selectedRows = this.selectedRows.filter(c => c.id !== item.id)\r\n          }\r\n        })\r\n      } else {\r\n        this.tableSelection.forEach(item => {\r\n          if (!this.selected.has(item.id)) {\r\n            this.selected.add(item.id)\r\n            this.selectedRows.push(item)\r\n          }\r\n        })\r\n      }\r\n      console.log('多选回调__读取缓存---', [...this.selected])\r\n    },\r\n    paginationStatusChange() {\r\n      this.listInit()\r\n    },\r\n    // Tip 点击哪行高亮哪行\r\n    handleCellStyle({ row }) {\r\n      const cellStyle = {\r\n        backgroundColor: row.barcodeNumber > 0 ? '#67C23A' : ''\r\n        // backgroundColor: row === this.currentRow ? '#409EFF' : ''\r\n      }\r\n      return cellStyle\r\n    },\r\n    // Tip 表格自定义\r\n    handleSetTable() {\r\n      this.$refs[this.refTableName].sortDialogVisible = true\r\n    },\r\n    // Tip 控制表格某行是否可被勾选\r\n    selectable(row, index) {\r\n      if (this.params.view === 'add') {\r\n        return row.orderNumber - row.deliveredNumber !== 0\r\n      }\r\n      return true\r\n    },\r\n    getWarehousePullList() {\r\n      return new Promise((resolve, reject) => {\r\n        getWarehouseSapPullListApi().then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.warehousePullList = data\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    getDynamicRow(item) {\r\n      if (this.selected.has(item.id)) {\r\n        this.selected.delete(item.id)\r\n        this.selectedRows = this.selectedRows.filter(c => c.id !== item.id)\r\n      } else {\r\n        this.selected.add(item.id)\r\n        this.selectedRows.push(item)\r\n      }\r\n      console.log('单个勾选__读取缓存---', [...this.selected])\r\n    },\r\n    // Tip 入库\r\n    handleInWarehouse(item) {\r\n      this.$router.push({\r\n        name: 'InStorageInfoAdd',\r\n        params: {\r\n          id: this.params.id // 交接单id\r\n        }\r\n      })\r\n    },\r\n    handleAddMaterial1() {\r\n      this.visible = true\r\n    },\r\n    handleChooseConfirm(list = []) {\r\n      // list.forEach(c => {\r\n      //   this.tableData.push({ ...c })\r\n      // })\r\n      this.init()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-form-item__content {\r\n    line-height: 0;\r\n}\r\n::v-deep .my-inspect-sty {\r\n  .el-radio-button__orig-radio:disabled+.el-radio-button__inner {\r\n    color: #606266;\r\n  }\r\n}\r\n/* 设置表格当前行选中的颜色 */\r\n::v-deep .base-table.el-table--striped .el-table__body tr.el-table__row.current-row td, .el-table__body tr.current-row>td {\r\n  background-color: #409EFF !important; /* 你想要的颜色 */\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5507c8c1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5507c8c1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5507c8c1\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5507c8c1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5507c8c1&lang=scss&scoped=true&\"","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=3cfeafdd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=3cfeafdd&lang=scss&scoped=true&\"","export default {\r\n  data() {\r\n    return {\r\n      device: null, // 打印设备\r\n      BrowserPrint: window.BrowserPrint,\r\n      zebraPrinter: null,\r\n      printType: 'barCode', // 打印类型\r\n      isPrinting: false // 是否打印中\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDevice()\r\n  },\r\n  beforeDestroy() {\r\n    this.zebraPrinter = window.BrowserPrint\r\n    this.device = null\r\n  },\r\n  methods: {\r\n    // Tip 获取打印设备\r\n    getDevice() {\r\n      const _this = this\r\n      // const Zebra = window.Zebra // 创建设备\r\n      // console.log('BrowserPrint', this.BrowserPrint)\r\n      this.BrowserPrint.getDefaultDevice('printer', function(device) {\r\n        console.log('打印机设备__&&&__***__===', device)\r\n        if (device) {\r\n          _this.device = device\r\n        }\r\n      }, function(err) {\r\n        console.log(err)\r\n        // this.$message.info('请检查驱动程序、打印机或网络')\r\n      })\r\n    },\r\n    // Tip 获取打印数据并开始打印\r\n    getDataAndPrint(printApi = new Promise(), printParams = {}) {\r\n      if (!printApi) {\r\n        console.log('打印接口不存在')\r\n        return Promise.reject(new Error('error'))\r\n      }\r\n      this.isPrinting = true\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: 'Loading',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.7)'\r\n      })\r\n      return new Promise((resolve, reject) => {\r\n        printApi(printParams).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            data.forEach(item => {\r\n              this.print(item)\r\n            })\r\n          }\r\n          loading.close()\r\n          resolve(res)\r\n        }).catch(err => {\r\n          console.log('错误信息', err)\r\n          loading.close()\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // Tip 开始打印\r\n    print(data) {\r\n      this.isPrinting = true\r\n      const _this = this\r\n      this.device && this.device.send(data, function(success) {\r\n        console.log('Sent to printer')\r\n        _this.isPrinting = false\r\n      }, function(error) {\r\n        console.error('Error:' + error)\r\n        _this.isPrinting = false\r\n      })\r\n    }\r\n  }\r\n}\r\n","import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/basic/unit/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 下拉列表 参数：unitType 单位类型 （取值为单位类型字典值）\r\nexport function getPullListItemApi(data) {\r\n  return request({\r\n    url: '/basic/unit/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function getAddApi(data) {\r\n  return request({\r\n    url: '/basic/unit/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function getEditApi(data) {\r\n  return request({\r\n    url: '/basic/unit/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data) {\r\n  return request({\r\n    url: '/basic/unit/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 主列表新增\r\nexport function addListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/save',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// 修改\r\nexport function updateListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取交接单详情\r\nexport function getListDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*   交接单物料列表 增删改查接口\r\n*/\r\n\r\n// 交接单分页列表\r\nexport function getBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 交接单物料列表\r\nexport function getDeliveryReceiptMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/pageListJS',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增交接单物料\r\nexport function addBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改交接单物料列表\r\nexport function editBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除交接单物料列表\r\nexport function delBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*   交接单物料明细列表 增删改查接口\r\n*/\r\n\r\n// 物料明细列表分页列表\r\nexport function getBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/dmdPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 清空物料明细列表分页列表\r\nexport function cleanBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/clear',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function getBottomDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增物料明细列表\r\nexport function addBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/generateBarcodeList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交物料明细弹窗前校验\r\nexport function addMaterialDetailCheckApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/addMaterialDetailCheck',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交物料明细弹窗\r\nexport function submitBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/addMaterialDetail',\r\n    method: 'post',\r\n    timeout: 60 * 1000,\r\n    data\r\n  })\r\n}\r\n\r\n// // 修改物料明细列表\r\n// export function editBottomDetailListApi(data={}) {\r\n//   return request({\r\n//     url: '/enterWarehouse/wmsDeliveryMaterial/edit',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// // 删除交物料明细列表\r\n// export function delBottomDetailListApi(data={}) {\r\n//   return request({\r\n//     url: '/enterWarehouse/wmsDeliveryMaterial/del',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// 提交交接单\r\nexport function submitListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/commit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*  寄售入库交接单中选择合同和选择订单\r\n*/\r\n// 合同下拉\r\nexport function getContractPullApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/allList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 订单下拉\r\nexport function getOrderPullApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/selectOrderById',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 交接单绑定订单接口\r\nexport function submitDeliveryToOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/bindOrder',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印条码\r\nexport function printApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/print',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// 条码打印（新）\r\nexport function barcodePrintApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/barcodePrint',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 单条或批量物料打印\r\nexport function materialPrintApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/materialPrint',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n// 全部打印\r\nexport function allPrintApi(data = {}) {\r\n  // 参数是：deliveryReceiptId 交接单ID\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/allPrint',\r\n    method: 'post',\r\n    data,\r\n    timeout: 3 * 60 * 1000\r\n  })\r\n}\r\n\r\n// 全部生成条码\r\nexport function allGenerateApi(data = {}) {\r\n  // 参数是：deliveryReceiptId 交接单ID\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/allGenerateMaterialBarcode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 入库管理/交接单修改 添加物料是的物料可选列表\r\nexport function addMaterialPageListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/deliveryUpdate/addMaterialPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=style&index=0&id=45f7df92&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialChoose.vue?vue&type=style&index=0&id=45f7df92&lang=scss&scoped=true&\"","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=0c3b99ca&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=0c3b99ca&lang=scss&scoped=true&\"","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderMaterial.vue?vue&type=style&index=0&id=e53817c6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderMaterial.vue?vue&type=style&index=0&id=e53817c6&lang=scss&scoped=true&\"","/*\r\n*   表头获取和配置的公用方法\r\n*\t\t使用方法:\r\n*   引入：\r\n*   import tableHeadSet from '@/mixins/tableHeadSet'\r\n*   配置:\r\n*   mixins: [tableHeadSet]\r\n*/\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formIdent: '', // 可配置表单的唯一标识\r\n      tableData: [], // 表格数据\r\n      columnList: [], // 表头配置\r\n      expandList: [], // 扩展字段\r\n      tableColumnSortData: [],\r\n      labels: {}, // 字段名称\r\n      refreshKey: 1 // el-table刷新的key\r\n    }\r\n  },\r\n  methods: {\r\n    /*\r\n    * 接口获取的表头和本地设置的表头进行合并\r\n    * 本页面配置的表头  columnSets\r\n    * 接口给回的表头 apiHeadSets\r\n    * isExtend 是否拓展字段\r\n    * isShow 是否显示\r\n    */\r\n    initTableHeadMixins(apiHeadSets = [], module = 'word', columnSetsName = 'columnSets', width = 100) {\r\n      // 将 columnSets 和 apiHeadSets 合并，生成总的头部设置\r\n      const totalHeadSets = apiHeadSets.map(i => {\r\n        return {\r\n          // isExtend: i.extend,\r\n          // isShow: i.show,\r\n          // headerAlign: i.headAlign,\r\n          // isDict: i.dict,\r\n          // isForceShow: i.forceShow,\r\n          // extend: i.extend,\r\n          isParam: false,\r\n          ...i,\r\n          width: module === 'input' && !i.width ? width : i.width,\r\n          module\r\n        }\r\n      }).map(item => {\r\n        const c = this[columnSetsName].find(i => i.prop === item.prop)\r\n        return c ? { ...item, ...c } : { ...item }\r\n      })\r\n\r\n      // 筛选扩展字段\r\n      this.$nextTick(() => {\r\n        if (module === 'word') {\r\n          this.expandList = totalHeadSets.filter(f => f.extend && f.show)\r\n        }\r\n      })\r\n\r\n      /*\r\n      *   返回表头配置\r\n      *   1. 会将本地columnSets设置与api返回的apiHeadSets进行合并，本地属性将会覆盖远程属性\r\n      *   2. 执行顺序，先合并并覆盖属性，再进行过滤，将过滤show和extend属性\r\n      */\r\n      this.$nextTick(() => {\r\n        this.refreshKey += 1\r\n      })\r\n      return totalHeadSets.filter(f => f.show && !f.extend)\r\n    }\r\n  }\r\n}\r\n","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","import axios from 'axios'\r\nimport { Notification } from 'element-ui'\r\nimport $store from '@/store'\r\nimport { getLoginPath } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst baseConfig = {\r\n  baseURL: process.env.VUE_APP_BASE_API_WMS, // api的base_url\r\n  withCredentials: true,\r\n  timeout: 30000, // request timeout\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    Accept: 'application/json'\r\n  }\r\n}\r\n\r\nconst service = axios.create(baseConfig)\r\n\r\nlet ToskTap = false\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // console.log('request', $store.getters.language)\r\n    // Do something before request is sent\r\n    if ($store.getters.token) {\r\n      // 设置token\r\n      config['responseType'] = 'blob'\r\n      config.headers['Authorization'] = `${$store.getters.token}`\r\n      // 设置语言\r\n      // config.headers['Accept-Language'] = `${$store.getters.language === 'en' ? 'en-US' : 'zh-CN'}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone interceptor\r\nservice.interceptors.response.use(\r\n  response => {\r\n    if (response && response.data) {\r\n      if (response.data.code && response.data.code === 999) {\r\n        /*\r\n        *   返回结果为错误时提示信息\r\n        */\r\n        Notification.error({\r\n          message: response.data.msg,\r\n          duration: 5 * 1000\r\n        })\r\n      }\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    let code = 0\r\n    try {\r\n      code = error.response.status\r\n    } catch (e) {\r\n      if (error.toString().indexOf('Error: timeout') !== -1) {\r\n        Notification.error({\r\n          title: '网络请求超时',\r\n          duration: 5000\r\n        })\r\n        return Promise.reject(error)\r\n      }\r\n    }\r\n    /*\r\n    *   token过期或者没有权限，踢登录，退出登录\r\n    */\r\n    if (code === 401 || code === 403) {\r\n      if (!ToskTap) {\r\n        ToskTap = true\r\n        Notification.error({\r\n          title: '登录信息已过期或者没有访问权限',\r\n          duration: 5000\r\n        })\r\n        setTimeout(() => {\r\n          ToskTap = false\r\n        }, 5000)\r\n      }\r\n      // 没有权限踢登录\r\n      $store.dispatch('resetToken').then(() => {\r\n        setTimeout(() => {\r\n          window.location.href = getLoginPath()\r\n        }, 3 * 1000)\r\n      })\r\n      return Promise.reject(error)\r\n    } else {\r\n      Notification.error({\r\n        title: error,\r\n        duration: 5000\r\n      })\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n)\r\n\r\nexport default service\r\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDialog.vue?vue&type=style&index=0&id=d1fbf45c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDialog.vue?vue&type=style&index=0&id=d1fbf45c&lang=scss&scoped=true&\""],"sourceRoot":""}