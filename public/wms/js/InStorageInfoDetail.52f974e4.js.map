{"version":3,"sources":["webpack:///./src/mixins/tableHeadSet.js","webpack:///./src/views/in-storage/info/warehousingEntryOrder/index.vue?116d","webpack:///./src/apis/modules/in-storage/info/Delivery.js","webpack:///./src/views/in-storage/info/warehousingEntryOrder/MaterialList.vue?3e12","webpack:///src/views/in-storage/info/warehousingEntryOrder/MaterialList.vue","webpack:///./src/views/in-storage/info/warehousingEntryOrder/MaterialList.vue?5e0f","webpack:///./src/views/in-storage/info/warehousingEntryOrder/MaterialList.vue","webpack:///src/views/in-storage/info/warehousingEntryOrder/index.vue","webpack:///./src/views/in-storage/info/warehousingEntryOrder/index.vue?39d9","webpack:///./src/views/in-storage/info/warehousingEntryOrder/index.vue","webpack:///./src/apis/modules/in-storage/info/Receipt.js"],"names":["data","formIdent","tableData","columnList","expandList","tableColumnSortData","labels","refreshKey","methods","initTableHeadMixins","apiHeadSets","module","columnSetsName","width","totalHeadSets","map","i","isParam","item","c","find","prop","this","$nextTick","filter","f","extend","show","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","includes","baseInfo","status","canStockInMatarialCount","on","handleInWarehouse","_v","proxy","directives","name","rawName","value","expression","typeMap","type","_s","type_dictText","contractNo","orderNo","supplierName","no","inspectNo","deliveryDate","ref","query","staticStyle","model","callback","$$v","$set","trim","searchInit","$event","resetForm","loading","handleRowClick","scope","handleModify","row","handlePrintTemplate","handleDelete","pageInfo","current","size","total","init","curRow","dlgVisible","staticRenderFns","getListApi","request","url","method","deleteListApi","stockInApi","refTableName","mixins","paginationPage","columnSets","mounted","page","deliveryReceiptId","$route","params","id","Promise","code","resolve","res","reject","err","column","label","component","components","MaterialList","PrintTemplates","tags","props","orderId","Number","String","default","title","meta","billNumber","source","storekeeper","date","disabledDate","dialogForm","supplierPullList","editType","dialogVisible","computed","dialogTitle","startDate","endDate","initInfo","rightObj","refresh","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","lockScroll","entity","message","handleAdd","$router","push","$refs","formName","resetFields","stockInEdit","accountingDate","documentDate","explanation","handlePrint","getInfoApi","getStockinMaterialListApi","materialInStorageApi","barcodeInStorageApi"],"mappings":"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","file":"js/InStorageInfoDetail.52f974e4.js","sourcesContent":["/*\r\n*   表头获取和配置的公用方法\r\n*\t\t使用方法:\r\n*   引入：\r\n*   import tableHeadSet from '@/mixins/tableHeadSet'\r\n*   配置:\r\n*   mixins: [tableHeadSet]\r\n*/\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formIdent: '', // 可配置表单的唯一标识\r\n      tableData: [], // 表格数据\r\n      columnList: [], // 表头配置\r\n      expandList: [], // 扩展字段\r\n      tableColumnSortData: [],\r\n      labels: {}, // 字段名称\r\n      refreshKey: 1 // el-table刷新的key\r\n    }\r\n  },\r\n  methods: {\r\n    /*\r\n    * 接口获取的表头和本地设置的表头进行合并\r\n    * 本页面配置的表头  columnSets\r\n    * 接口给回的表头 apiHeadSets\r\n    * isExtend 是否拓展字段\r\n    * isShow 是否显示\r\n    */\r\n    initTableHeadMixins(apiHeadSets = [], module = 'word', columnSetsName = 'columnSets', width = 100) {\r\n      // 将 columnSets 和 apiHeadSets 合并，生成总的头部设置\r\n      const totalHeadSets = apiHeadSets.map(i => {\r\n        return {\r\n          // isExtend: i.extend,\r\n          // isShow: i.show,\r\n          // headerAlign: i.headAlign,\r\n          // isDict: i.dict,\r\n          // isForceShow: i.forceShow,\r\n          // extend: i.extend,\r\n          isParam: false,\r\n          ...i,\r\n          width: module === 'input' && !i.width ? width : i.width,\r\n          module\r\n        }\r\n      }).map(item => {\r\n        const c = this[columnSetsName].find(i => i.prop === item.prop)\r\n        return c ? { ...item, ...c } : { ...item }\r\n      })\r\n\r\n      // 筛选扩展字段\r\n      this.$nextTick(() => {\r\n        if (module === 'word') {\r\n          this.expandList = totalHeadSets.filter(f => f.extend && f.show)\r\n        }\r\n      })\r\n\r\n      /*\r\n      *   返回表头配置\r\n      *   1. 会将本地columnSets设置与api返回的apiHeadSets进行合并，本地属性将会覆盖远程属性\r\n      *   2. 执行顺序，先合并并覆盖属性，再进行过滤，将过滤show和extend属性\r\n      */\r\n      this.$nextTick(() => {\r\n        this.refreshKey += 1\r\n      })\r\n      return totalHeadSets.filter(f => f.show && !f.extend)\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-descriptions',{attrs:{\"title\":\"交接单详情\"},scopedSlots:_vm._u([{key:\"extra\",fn:function(){return [_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!([3, 4].includes(_vm.baseInfo.status) && _vm.baseInfo.canStockInMatarialCount > 0)},on:{\"click\":_vm.handleInWarehouse}},[_vm._v(\"入库\")])]},proxy:true}])}),_c('el-row',[_c('el-descriptions',{attrs:{\"border\":false,\"column\":4}},[_c('el-descriptions-item',{attrs:{\"label\":\"单据类型\"}},[_c('el-tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.baseInfo.type_dictText),expression:\"baseInfo.type_dictText\"}],attrs:{\"type\":_vm.typeMap[_vm.baseInfo.type]}},[_vm._v(_vm._s(_vm.baseInfo.type_dictText))])],1),_c('el-descriptions-item',{attrs:{\"label\":\"合同号\"}},[_vm._v(_vm._s(_vm.baseInfo.contractNo))]),_c('el-descriptions-item',{attrs:{\"label\":\"采购订单号\"}},[_vm._v(_vm._s(_vm.baseInfo.orderNo))]),_c('el-descriptions-item',{attrs:{\"label\":\"供应商\"}},[_vm._v(_vm._s(_vm.baseInfo.supplierName))]),_c('el-descriptions-item',{attrs:{\"label\":\"单号\"}},[_vm._v(_vm._s(_vm.baseInfo.type !== '5' ? _vm.baseInfo.no : _vm.baseInfo.inspectNo))]),_c('el-descriptions-item',{attrs:{\"label\":\"日期\"}},[_vm._v(_vm._s(_vm.baseInfo.deliveryDate))])],1)],1),_c('material-list'),_c('el-descriptions',{attrs:{\"title\":\"已入库信息\"}}),_c('div',{staticClass:\"clearfix top-filter\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"}},[_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"billNumber\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"单号\"},model:{value:(_vm.query.billNumber),callback:function ($$v) {_vm.$set(_vm.query, \"billNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.billNumber\"}})],1),_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"source\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"来源\"},model:{value:(_vm.query.source),callback:function ($$v) {_vm.$set(_vm.query, \"source\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.source\"}})],1),_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"storekeeper\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"库管员\"},model:{value:(_vm.query.storekeeper),callback:function ($$v) {_vm.$set(_vm.query, \"storekeeper\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.storekeeper\"}})],1),_c('el-form-item',{staticClass:\"fl\",attrs:{\"prop\":\"date\"}},[_c('el-date-picker',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"时间\"},model:{value:(_vm.query.date),callback:function ($$v) {_vm.$set(_vm.query, \"date\", $$v)},expression:\"query.date\"}})],1),_c('el-button',{staticClass:\"fl filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"fl filter-item\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-refresh-left\"},on:{\"click\":function($event){return _vm.resetForm('filterItem')}}},[_vm._v(\"重置\")])],1)],1),_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"ref-name\":\"baseTableRef\",\"table-height-type\":\"fullscreenTab\",\"has-top-query\":\"\",\"loading\":_vm.loading,\"index\":true,\"selection\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":220,\"table-column-sort\":false},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleModify(scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlePrintTemplate(scope.row)}}},[_vm._v(\"打印\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}}),_c('print-templates',{attrs:{\"title\":\"打印模板\",\"extra-info\":_vm.curRow},model:{value:(_vm.dlgVisible),callback:function ($$v) {_vm.dlgVisible=$$v},expression:\"dlgVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 入库单编辑\r\nexport function stockInApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('table-com',{ref:_vm.refTableName,attrs:{\"ref-name\":_vm.refTableName,\"table-height-type\":\"half\",\"loading\":_vm.loading,\"index\":true,\"table-column-sort\":true,\"form-ident\":_vm.formIdent,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":270,\"expand-list\":_vm.expandList,\"refresh-key\":_vm.refreshKey,\"show-operate\":false},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row>\r\n      <table-com\r\n        :ref=\"refTableName\"\r\n        :ref-name=\"refTableName\"\r\n        table-height-type=\"half\"\r\n        :loading=\"loading\"\r\n        :index=\"true\"\r\n        :table-column-sort=\"true\"\r\n        :form-ident=\"formIdent\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"270\"\r\n        :expand-list=\"expandList\"\r\n        :refresh-key=\"refreshKey\"\r\n        :show-operate=\"false\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"searchInit\"\r\n      />\r\n    </el-row>\r\n    <pagination\r\n      :page.sync=\"pageInfo.current\"\r\n      :limit.sync=\"pageInfo.size\"\r\n      :total=\"total\"\r\n      @pagination=\"init\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tableHeadSet from '@/mixins/tableHeadSet'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getListApi } from '@/apis/modules/in-storage/info/Receipt'\r\n\r\nexport default {\r\n  mixins: [paginationPage, tableHeadSet],\r\n  data() {\r\n    return {\r\n      refTableName: 'deliveryOrderTableRef',\r\n      loading: false,\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编码',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'deliveryNumber',\r\n          label: '本次到货数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialTotalPrice',\r\n          label: '物料总价',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'stockInNumber',\r\n          label: '已入库数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          // formatter: c => c.deliveryNumber - c.unreceivedNumber,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'statusStr',\r\n          label: '状态',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          // formatter: c => c.deliveryNumber - c.unreceivedNumber,\r\n          headerAlign: 'center'\r\n        }\r\n        // 入库管理/入库信息详情 去掉未入库数量展示项\r\n        // {\r\n        //   module: 'word',\r\n        //   prop: 'unreceivedNumber',\r\n        //   label: '未入库数量',\r\n        //   align: 'center',\r\n        //   minWidth: '',\r\n        //   fixed: false,\r\n        //   sortable: false,\r\n        //   resizable: true,\r\n        //   formatter: null,\r\n        //   headerAlign: 'center'\r\n        // }\r\n      ],\r\n      columnSets: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    // Tip 获取交接单详情列表\r\n    init() {\r\n      this.loading = true\r\n      // Tip 接口参数\r\n      const params = {\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        deliveryReceiptId: this.$route.params.id // 交接单主键ID\r\n      }\r\n      // Tip 交接物料分页列表\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 表格行内点击回调\r\n    handleRowClick({ row, column, cell, event }) {\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialList.vue?vue&type=template&id=158d7887&scoped=true&\"\nimport script from \"./MaterialList.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"158d7887\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <el-descriptions title=\"交接单详情\">\r\n      <template #extra>\r\n        <el-button type=\"primary\" :disabled=\"!([3, 4].includes(baseInfo.status) && baseInfo.canStockInMatarialCount > 0)\" @click=\"handleInWarehouse\">入库</el-button>\r\n      </template>\r\n    </el-descriptions>\r\n    <!-- <el-row style=\"text-align: right;\" /> -->\r\n    <el-row>\r\n      <el-descriptions :border=\"false\" :column=\"4\">\r\n        <el-descriptions-item label=\"单据类型\"><el-tag v-show=\"baseInfo.type_dictText\" :type=\"typeMap[baseInfo.type]\">{{ baseInfo.type_dictText }}</el-tag></el-descriptions-item>\r\n        <el-descriptions-item label=\"合同号\">{{ baseInfo.contractNo }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"采购订单号\">{{ baseInfo.orderNo }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"供应商\">{{ baseInfo.supplierName }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"单号\">{{ baseInfo.type !== '5' ? baseInfo.no : baseInfo.inspectNo }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"日期\">{{ baseInfo.deliveryDate }}</el-descriptions-item>\r\n      </el-descriptions>\r\n    </el-row>\r\n    <material-list />\r\n    <!-- <el-descriptions :column=\"3\">\r\n      <el-descriptions-item label=\"到货数量\">{{ '---' }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"入库数量\">{{ '---' }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"未入库数量\">{{ '---' }}</el-descriptions-item>\r\n    </el-descriptions> -->\r\n    <!-- 表格展示 -->\r\n    <el-descriptions title=\"已入库信息\" />\r\n    <div class=\"clearfix top-filter\">\r\n      <el-form ref=\"filterItem\" :model=\"query\" inline>\r\n        <el-form-item prop=\"billNumber\" class=\"fl\">\r\n          <el-input v-model.trim=\"query.billNumber\" clearable placeholder=\"单号\" class=\"filter-item\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"source\" class=\"fl\">\r\n          <el-input v-model.trim=\"query.source\" clearable placeholder=\"来源\" class=\"filter-item\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"storekeeper\" class=\"fl\">\r\n          <el-input v-model.trim=\"query.storekeeper\" clearable placeholder=\"库管员\" class=\"filter-item\" style=\"width: 178px;\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"date\" class=\"fl\">\r\n          <el-date-picker\r\n            v-model=\"query.date\"\r\n            class=\"filter-item\"\r\n            type=\"date\"\r\n            style=\"width: 178px;\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"时间\"\r\n          />\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"fl filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <el-button\r\n          class=\"fl filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button>\r\n      </el-form>\r\n      <!-- 基础信息 -->\r\n    </div>\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        ref-name=\"baseTableRef\"\r\n        table-height-type=\"fullscreenTab\"\r\n        has-top-query\r\n        :loading=\"loading\"\r\n        :index=\"true\"\r\n        :selection=\"false\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"220\"\r\n        :table-column-sort=\"false\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"searchInit\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"handleModify(scope.row)\">详情</el-button>\r\n          <el-button type=\"primary\" @click=\"handlePrintTemplate(scope.row)\">打印</el-button>\r\n          <el-button type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <!-- 分页组件 -->\r\n    <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    <print-templates v-model=\"dlgVisible\" title=\"打印模板\" :extra-info=\"curRow\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nmoment.locale('zh-cn')\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport tags from '@/mixins/tags'\r\nimport { getListApi, deleteListApi, stockInApi } from '@/apis/modules/in-storage/info/Delivery'\r\nimport { getInfoApi } from '@/apis/modules/in-storage/info/Receipt'\r\nimport { infoPrintMixins } from '@/views/in-storage/info/print.mixins'\r\nimport MaterialList from './MaterialList'\r\nimport PrintTemplates from './PrintTemplates'\r\n\r\nexport default {\r\n  name: 'InStorageInfoDelivery',\r\n  components: {\r\n    MaterialList,\r\n    PrintTemplates\r\n  },\r\n  mixins: [tags, paginationPage, infoPrintMixins],\r\n  props: {\r\n    orderId: {\r\n      type: [Number, String],\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      title: this.$route.meta.title,\r\n      loading: false,\r\n      query: {\r\n        billNumber: '',\r\n        source: '',\r\n        storekeeper: '',\r\n        date: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'billNumber',\r\n          label: '入库单号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'date',\r\n          prop: 'documentDate',\r\n          label: '凭证日期',\r\n          align: 'center',\r\n          minWidth: 150,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          clearable: true,\r\n          disabled: false,\r\n          handleChange: (item) => this.stockInEdit(item),\r\n          pickerOptions: (row) => ({\r\n            disabledDate: time => time.getTime() < new Date(this.startDate).getTime() || time.getTime() > new Date(this.endDate).getTime()\r\n          })\r\n        },\r\n        {\r\n          module: 'date',\r\n          prop: 'accountingDate',\r\n          label: '记账日期',\r\n          align: 'center',\r\n          minWidth: 150,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          handleChange: (item) => this.stockInEdit(item),\r\n          clearable: true,\r\n          pickerOptions: (row) => ({\r\n            disabledDate: time => time.getTime() < new Date(this.startDate).getTime() || time.getTime() > new Date(this.endDate).getTime()\r\n          })\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'source',\r\n          label: '来源（供应商或生产单位）',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storekeeper',\r\n          label: '库管员',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'printTimes',\r\n          label: '打印次数',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'createDate',\r\n          label: '入库日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'input',\r\n          prop: 'explanation',\r\n          label: '备注',\r\n          align: 'center',\r\n          minWidth: 150,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          clearable: true,\r\n          handleChange: (item) => this.stockInEdit(item)\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      dialogForm: {},\r\n      supplierPullList: [],\r\n      editType: 'add',\r\n      dialogVisible: false,\r\n      params: {},\r\n      baseInfo: {},\r\n      typeMap: {\r\n        '1': 'success',\r\n        '2': 'primary',\r\n        '3': 'warning',\r\n        '4': 'info'\r\n      },\r\n      dlgVisible: false, // 打印模板弹窗\r\n      curRow: {} // 当前点击的入库单信息\r\n    }\r\n  },\r\n  computed: {\r\n    dialogTitle() {\r\n      if (this.editType === 'add') {\r\n        return `新增${this.title}信息`\r\n      } else {\r\n        return `编辑${this.title}信息`\r\n      }\r\n    },\r\n    // 开始时间(当月第一天)\r\n    startDate() {\r\n      return moment().startOf('month').format('YYYY-MM-DD HH:mm:ss')\r\n    },\r\n    // 结束时间(当月最后一天)\r\n    endDate() {\r\n      return moment().endOf('month').format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n  },\r\n  mounted() {\r\n    this.params = this.$route.params\r\n    this.init()\r\n    this.initInfo()\r\n  },\r\n  methods: {\r\n    init(type) {\r\n      console.log('init method')\r\n      this.loading = true\r\n      const params = type\r\n        ? {\r\n          ...this.query,\r\n          deliveryReceiptId: this.params.id\r\n        }\r\n        : {\r\n          ...this.query,\r\n          deliveryReceiptId: this.params.id,\r\n          page: {\r\n            ...this.pageInfo\r\n          }\r\n        }\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initInfo() {\r\n      return new Promise((resolve, reject) => {\r\n        getInfoApi({\r\n          deliveryReceiptId: this.orderId\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.baseInfo = data\r\n            if (this.baseInfo.orderNo) {\r\n              // 修改当前tags\r\n              this.setTagsTitleMixins(null, this.baseInfo.orderNo)\r\n            }\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n      this.rightObj = { ...row }\r\n    },\r\n    refresh() {\r\n      // 更新分页\r\n      this.init('clean')\r\n    },\r\n    // 批量删除\r\n    handleDelete(item) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        deleteListApi({\r\n          entity: {\r\n            id: item.id\r\n          }\r\n        }).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$notify.success({\r\n              title: '成功',\r\n              message: `删除成功`\r\n            })\r\n            this.init()\r\n          }\r\n        })\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: `已取消删除`\r\n        })\r\n      })\r\n    },\r\n    handleAdd() {\r\n      this.editType = 'add'\r\n      this.dialogForm = {}\r\n      this.dialogVisible = true\r\n    },\r\n    handleModify(item) {\r\n      this.$router.push({\r\n        name: 'InStorageInfoDelivery',\r\n        params: {\r\n          orderId: this.orderId,\r\n          id: item.id\r\n        }\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    },\r\n    stockInEdit({ accountingDate, documentDate, explanation, id }) {\r\n      const params = {\r\n        entity: {\r\n          id, // 主键id\r\n          accountingDate, // 记账日期\r\n          documentDate, // 凭证日期\r\n          explanation // 备注\r\n        }\r\n      }\r\n      // 编辑入库单\r\n      return new Promise((resolve, reject) => {\r\n        stockInApi(params)\r\n          .then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.init()\r\n            }\r\n            resolve(res)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    // 打印\r\n    handlePrintTemplate(item) {\r\n      this.handlePrint(item.id)\r\n      // item.type === 2 && this.handlePrint(item.id)\r\n      // item.type === 1 && (this.dlgVisible = true, this.curRow = item)\r\n    },\r\n    // 入库\r\n    handleInWarehouse(item) {\r\n      this.$router.push({\r\n        name: 'InStorageInfoAdd',\r\n        params: {\r\n          id: this.orderId // 交接单id\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6ed8a4b4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ed8a4b4\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/apis/request.wms'\r\n\r\n// 头部信息\r\nexport function getInfoApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/deliveryReceiptDetail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/deliveryMaterialPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取入库单物料(参数：stockInId  入库单id)\r\nexport function getStockinMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/materialAndBarcodeWithoutStorageId',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 选物料入库的情况(参数：deliveryMaterialId  交接物料ID stockInId 入库单id storageId 库位ID)\r\nexport function materialInStorageApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/saveBarcodeStoragePositionWithoutStorageId',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 选多个条码号入库的情况(参数：webList)\r\nexport function barcodeInStorageApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/addPutInStorage',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n"],"sourceRoot":""}