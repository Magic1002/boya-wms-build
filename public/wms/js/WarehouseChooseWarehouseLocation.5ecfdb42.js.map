{"version":3,"sources":["webpack:///./src/views/warehouse/chooseWarehouseLocation/index.vue?e53b","webpack:///src/views/warehouse/chooseWarehouseLocation/index.vue","webpack:///./src/views/warehouse/chooseWarehouseLocation/index.vue?5556","webpack:///./src/views/warehouse/chooseWarehouseLocation/index.vue","webpack:///./src/views/warehouse/chooseWarehouseLocation/index.vue?1e1a","webpack:///./src/apis/modules/base/baseWarehouseLocation.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","query","staticStyle","on","selectWarehouse","model","value","callback","$$v","$set","expression","_l","item","index","key","name","id","districtData","activeName","staticClass","hjItem","i","height","minHeight","minWidth","width","slot","_v","_s","children","cengItem","f","kuweiItem","l","style","backgroundColor","empty","_e","staticRenderFns","components","props","materialId","type","Number","String","default","data","warehousePullList","warehouseId","treeData","mounted","getWarehousePullList","initTree","methods","Promise","code","resolve","res","reject","err","findItem","component","getAddApi","request","url","method","getEditApi","getDeleteApi","getTreeListApi","timeout","getTreeNodeDetailApi","getChildNodeListApi","getBelowTheZoneListApi","getSapWarehouseListApi","getWarehouseDetailApi"],"mappings":"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","file":"js/WarehouseChooseWarehouseLocation.5ecfdb42.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.query,\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"prop\":\"warehouseId\",\"label\":\"仓库：\"}},[_c('el-select',{staticStyle:{\"width\":\"178px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"仓库名称\"},on:{\"change\":_vm.selectWarehouse},model:{value:(_vm.query.warehouseId),callback:function ($$v) {_vm.$set(_vm.query, \"warehouseId\", $$v)},expression:\"query.warehouseId\"}},_vm._l((_vm.warehousePullList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),(_vm.districtData.length)?_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.districtData),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.name,\"name\":(\"\" + (item.storageId))}},[_c('div',{staticClass:\"huojia-sty\"},_vm._l((item.children),function(hjItem,i){return _c('div',{key:i},[_c('el-card',{attrs:{\"body-style\":{height: '280px', minHeight: '280px', minWidth: '360px', width: '360px'}}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(hjItem.name))])]),(hjItem.children.length)?_vm._l((hjItem.children),function(cengItem,f){return _c('div',{key:f,staticClass:\"tier\"},[_c('div',{staticStyle:{\"margin\":\"0 5px\"}},[_vm._v(_vm._s(cengItem.name))]),(cengItem.children.length)?_c('div',{staticClass:\"parent\"},_vm._l((cengItem.children),function(kuweiItem,l){return _c('div',{key:l,staticClass:\"child\",style:({backgroundColor: kuweiItem.empty ? 'yellow' : 'green'})},[_vm._v(_vm._s(kuweiItem.name))])}),0):_c('div',{staticClass:\"whole-floor\"})])}):[_c('div',{staticClass:\"entire-shelf\"})]],2)],1)}),0)])}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form ref=\"form\" :model=\"query\" inline>\r\n      <el-form-item prop=\"warehouseId\" label=\"仓库：\">\r\n        <el-select v-model=\"query.warehouseId\" filterable clearable placeholder=\"仓库名称\" style=\"width: 178px;\" @change=\"selectWarehouse\">\r\n          <el-option\r\n            v-for=\"(item,index) in warehousePullList\"\r\n            :key=\"index\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- Tip 区 -->\r\n    <el-tabs v-if=\"districtData.length\" v-model=\"activeName\" type=\"card\">\r\n      <el-tab-pane\r\n        v-for=\"(item, index) in districtData\"\r\n        :key=\"index\"\r\n        :label=\"item.name\"\r\n        :name=\"`${item.storageId}`\"\r\n      >\r\n        <div class=\"huojia-sty\">\r\n          <!-- Tip 货架 -->\r\n          <div v-for=\"(hjItem, i) in item.children\" :key=\"i\">\r\n            <el-card :body-style=\"{height: '280px', minHeight: '280px', minWidth: '360px', width: '360px'}\">\r\n              <div slot=\"header\" class=\"clearfix\">\r\n                <div style=\"text-align: center;\">{{ hjItem.name }}</div>\r\n              </div>\r\n              <template v-if=\"hjItem.children.length\">\r\n                <!-- Tip 层 -->\r\n                <div v-for=\"(cengItem, f) in hjItem.children\" :key=\"f\" class=\"tier\">\r\n                  <div style=\"margin: 0 5px;\">{{ cengItem.name }}</div>\r\n                  <!-- Tip 库位 -->\r\n                  <div v-if=\"cengItem.children.length\" class=\"parent\">\r\n                    <div v-for=\"(kuweiItem, l) in cengItem.children\" :key=\"l\" class=\"child\" :style=\"{backgroundColor: kuweiItem.empty ? 'yellow' : 'green'}\">{{ kuweiItem.name }}</div>\r\n                  </div>\r\n                  <!-- Tip 物料占整层 -->\r\n                  <div v-else class=\"whole-floor\" />\r\n                </div>\r\n              </template>\r\n              <!-- Tip 物料占整个货架 -->\r\n              <template v-else>\r\n                <div class=\"entire-shelf\" />\r\n              </template>\r\n            </el-card>\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getWarehousePullListApi } from '@/apis/modules/base/basewmsWarehouse'\r\nimport { getTreeListApi } from '@/apis/modules/base/baseWarehouseLocation'\r\nexport default {\r\n  components: {\r\n  },\r\n  props: {\r\n    materialId: {\r\n      type: [Number, String],\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: '',\r\n      warehousePullList: [],\r\n      query: {\r\n        warehouseId: ''\r\n      },\r\n      treeData: [],\r\n      districtData: [] // 区\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getWarehousePullList()\r\n    this.initTree()\r\n  },\r\n  methods: {\r\n    // 下拉数据\r\n    getWarehousePullList() {\r\n      return new Promise((resolve, reject) => {\r\n        getWarehousePullListApi().then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.warehousePullList = data || []\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 获取树\r\n    initTree() {\r\n      return new Promise((resolve, reject) => {\r\n        getTreeListApi().then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.treeData = data\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 查找区\r\n    selectWarehouse(val) {\r\n      console.log(val)\r\n      const findItem = this.treeData.find(item => item.warehouseId === val)\r\n      console.log(findItem)\r\n      if (findItem) {\r\n        this.districtData = findItem.children\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.entire-shelf {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: green;\r\n}\r\n.tier {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 5px 0;\r\n}\r\n.parent {\r\n    display: flex;\r\n    align-items: center;\r\n    .child {\r\n        width: 50px;\r\n        height: 50px;\r\n        text-align: center;\r\n        line-height: 50px;\r\n        background: #a3a2a2;\r\n        margin: 0 5px;\r\n        border-radius: 10px;\r\n    }\r\n}\r\n.whole-floor {\r\n    width: calc(50px * 6 + 60px);\r\n    background-color: green;\r\n}\r\n.huojia-sty {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    & > div {\r\n      margin-bottom: 15px;\r\n    }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7baa9d20&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7baa9d20&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7baa9d20\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7baa9d20&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7baa9d20&scoped=true&lang=scss&\"","import request from '@/apis/request.wms'\r\n\r\n// 列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 下拉列表\r\nexport function getPullListItemApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function getAddApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function getEditApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function getDeleteApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 懒加载查询\r\nexport function getLazySearchApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/childrenList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 库位树列表\r\nexport function getTreeListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/treeList',\r\n    method: 'post',\r\n    data,\r\n    timeout: 5 * 60 * 1000\r\n  })\r\n}\r\n\r\n// 点击树查询右侧详情\r\nexport function getTreeNodeDetailApi(data) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 查询权限内仓库列表\r\nexport function getWarehouseListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseSap/listAllNameAndId',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 仓库下边的子节点查询(展开层级)\r\nexport function getChildNodeListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/childrenList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取区级以下的数据\r\nexport function getBelowTheZoneListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseStorageLocation/treeListByParentId',\r\n    method: 'post',\r\n    data,\r\n    timeout: 5 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// sap仓库\r\nexport function getSapWarehouseListApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsWarehouse/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 仓库详情接口(参数：id)\r\nexport function getWarehouseDetailApi(data = {}) {\r\n  return request({\r\n    url: '/basic/wmsWarehouseSap/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n"],"sourceRoot":""}