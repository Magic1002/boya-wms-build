{"version":3,"sources":["webpack:///./src/views/in-storage/assist/delivery/ContractDialog.vue?5a6e","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/apis/modules/in-storage/purchase/delivery.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./src/views/in-storage/purchase/status.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectWithoutProperties.js","webpack:///./src/views/in-storage/assist/delivery/index.vue?a00b","webpack:///./src/views/in-storage/assist/delivery/ContractDialog.vue?c99e","webpack:///src/views/in-storage/assist/delivery/ContractDialog.vue","webpack:///./src/views/in-storage/assist/delivery/ContractDialog.vue?5e3b","webpack:///./src/views/in-storage/assist/delivery/ContractDialog.vue","webpack:///src/views/in-storage/assist/delivery/index.vue","webpack:///./src/views/in-storage/assist/delivery/index.vue?bbfa","webpack:///./src/views/in-storage/assist/delivery/index.vue","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js"],"names":["toObject","$keys","it","getListApi","data","request","url","method","addListApi","timeout","updateListApi","deleteListApi","getListDetailApi","getBottomListApi","getDeliveryReceiptMaterialListApi","addBottomListApi","editBottomListApi","delBottomListApi","getBottomDetailListApi","cleanBottomDetailListApi","getBottomDetailApi","addBottomDetailListApi","addMaterialDetailCheckApi","submitBottomDetailListApi","submitListApi","getContractPullApi","getOrderPullApi","submitDeliveryToOrderApi","printApi","barcodePrintApi","materialPrintApi","allPrintApi","allGenerateApi","addMaterialPageListApi","module","exports","Object","keys","statusMap","0","1","2","3","4","5","6","statusChartMap","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","length","indexOf","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","loading","tableData","columnList","on","handleRowClick","searchInit","scopedSlots","_u","fn","scope","$event","handleDetail","row","_v","includes","status","handleSubmit","handleModify","handleDelete","pageInfo","current","size","total","$set","init","id","selectInfo","radio","model","value","callback","$$v","expression","staticRenderFns","title","beforeClose","initSelect","form","rules","staticStyle","handleContract","_l","item","code","slot","confirmDialog","contractId","orderId","name","props","required","type","Boolean","String","default","extraInfo","dicts","INIT_FORM","contractList","orderList","methods","$refs","formName","validate","valid","Promise","resolve","res","reject","err","resetFields","$emit","assign","done","component","components","ModelSelect","mixins","paginationPage","query","columnSets","supplierPullList","dialogType","list","visible","mounted","$route","params","page","column","label","rightObj","refresh","$confirm","confirmButtonText","cancelButtonText","cancelButtonClass","lockScroll","entity","message","$router","push","view","routeName","deliveryReceiptId","$export","core","fails","KEY","exec","exp","S","F","getOwnPropertySymbols"],"mappings":"2HAAA,yBAAutB,EAAG,G,gDCC1tB,IAAIA,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAEpB,EAAQ,OAAR,CAAyB,QAAQ,WAC/B,OAAO,SAAcC,GACnB,OAAOD,EAAMD,EAASE,S,oCCN1B,o4BAGO,SAASC,IAAsB,IAAXC,EAAW,uDAAJ,GAChC,OAAOC,eAAQ,CACbC,IAAK,8CACLC,OAAQ,OACRH,SAIG,SAASI,IAAsB,IAAXJ,EAAW,uDAAJ,GAChC,OAAOC,eAAQ,CACbC,IAAK,0CACLC,OAAQ,OACRH,OACAK,QAAS,MAKN,SAASC,IAAyB,IAAXN,EAAW,uDAAJ,GACnC,OAAOC,eAAQ,CACbC,IAAK,0CACLC,OAAQ,OACRH,SAKG,SAASO,IAAyB,IAAXP,EAAW,uDAAJ,GACnC,OAAOC,eAAQ,CACbC,IAAK,4CACLC,OAAQ,OACRH,SAKG,SAASQ,IAA4B,IAAXR,EAAW,uDAAJ,GACtC,OAAOC,eAAQ,CACbC,IAAK,4CACLC,OAAQ,OACRH,SASG,SAASS,IAA4B,IAAXT,EAAW,uDAAJ,GACtC,OAAOC,eAAQ,CACbC,IAAK,+CACLC,OAAQ,OACRH,SAKG,SAASU,IAA6C,IAAXV,EAAW,uDAAJ,GACvD,OAAOC,eAAQ,CACbC,IAAK,iDACLC,OAAQ,OACRH,SAKG,SAASW,IAA4B,IAAXX,EAAW,uDAAJ,GACtC,OAAOC,eAAQ,CACbC,IAAK,0CACLC,OAAQ,OACRH,SAKG,SAASY,IAA6B,IAAXZ,EAAW,uDAAJ,GACvC,OAAOC,eAAQ,CACbC,IAAK,2CACLC,OAAQ,OACRH,SAKG,SAASa,IAA4B,IAAXb,EAAW,uDAAJ,GACtC,OAAOC,eAAQ,CACbC,IAAK,0CACLC,OAAQ,OACRH,SASG,SAASc,IAAkC,IAAXd,EAAW,uDAAJ,GAC5C,OAAOC,eAAQ,CACbC,IAAK,kDACLC,OAAQ,OACRH,SAKG,SAASe,IAAoC,IAAXf,EAAW,uDAAJ,GAC9C,OAAOC,eAAQ,CACbC,IAAK,4CACLC,OAAQ,OACRH,SAIG,SAASgB,IAA8B,IAAXhB,EAAW,uDAAJ,GACxC,OAAOC,eAAQ,CACbC,IAAK,6CACLC,OAAQ,OACRH,SAKG,SAASiB,IAAkC,IAAXjB,EAAW,uDAAJ,GAC5C,OAAOC,eAAQ,CACbC,IAAK,0DACLC,OAAQ,OACRH,SAKG,SAASkB,IAAqC,IAAXlB,EAAW,uDAAJ,GAC/C,OAAOC,eAAQ,CACbC,IAAK,6DACLC,OAAQ,OACRH,SAKG,SAASmB,IAAqC,IAAXnB,EAAW,uDAAJ,GAC/C,OAAOC,eAAQ,CACbC,IAAK,wDACLC,OAAQ,OACRE,QAAS,IACTL,SAuBG,SAASoB,IAAyB,IAAXpB,EAAW,uDAAJ,GACnC,OAAOC,eAAQ,CACbC,IAAK,4CACLC,OAAQ,OACRH,SAQG,SAASqB,IAA8B,IAAXrB,EAAW,uDAAJ,GACxC,OAAOC,eAAQ,CACbC,IAAK,sCACLC,OAAQ,OACRH,SAKG,SAASsB,IAA2B,IAAXtB,EAAW,uDAAJ,GACrC,OAAOC,eAAQ,CACbC,IAAK,2CACLC,OAAQ,OACRH,SAKG,SAASuB,IAAoC,IAAXvB,EAAW,uDAAJ,GAC9C,OAAOC,eAAQ,CACbC,IAAK,+CACLC,OAAQ,OACRH,SAKG,SAASwB,IAAoB,IAAXxB,EAAW,uDAAJ,GAC9B,OAAOC,eAAQ,CACbC,IAAK,4CACLC,OAAQ,OACRH,OACAK,QAAS,MAKN,SAASoB,IAA2B,IAAXzB,EAAW,uDAAJ,GACrC,OAAOC,eAAQ,CACbC,IAAK,mDACLC,OAAQ,OACRH,SAKG,SAAS0B,IAA4B,IAAX1B,EAAW,uDAAJ,GACtC,OAAOC,eAAQ,CACbC,IAAK,oDACLC,OAAQ,OACRH,OACAK,QAAS,MAIN,SAASsB,IAAuB,IAAX3B,EAAW,uDAAJ,GAEjC,OAAOC,eAAQ,CACbC,IAAK,+CACLC,OAAQ,OACRH,OACAK,QAAS,OAKN,SAASuB,IAA0B,IAAX5B,EAAW,uDAAJ,GAEpC,OAAOC,eAAQ,CACbC,IAAK,iEACLC,OAAQ,OACRH,SAIG,SAAS6B,IAAkC,IAAX7B,EAAW,uDAAJ,GAC5C,OAAOC,eAAQ,CACbC,IAAK,yEACLC,OAAQ,OACRH,W,uBCxQJ,EAAQ,QACR8B,EAAOC,QAAU,EAAQ,QAAuBC,OAAOC,M,oCCDvD,oEAAO,IAAMC,EAAY,CACvBC,EAAG,SACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,WAGQC,EAAiB,CAC5BP,EAAG,KACHC,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,EAAG,OACHC,EAAG,MACHC,EAAG,Q,qBCjBLX,EAAOC,QAAU,EAAQ,S,kHCCV,SAASY,EAA8BC,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAIIE,EAAKC,EAJLC,EAAS,GAETC,EAAa,IAAaL,GAI9B,IAAKG,EAAI,EAAGA,EAAIE,EAAWC,OAAQH,IACjCD,EAAMG,EAAWF,GACbF,EAASM,QAAQL,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,ECbM,SAASI,EAAyBR,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,EAAS,EAA6BJ,EAAQC,GAGlD,GAAI,IAA+B,CACjC,IAAIQ,EAAmB,IAA8BT,GAErD,IAAKG,EAAI,EAAGA,EAAIM,EAAiBH,OAAQH,IACvCD,EAAMO,EAAiBN,GACnBF,EAASM,QAAQL,IAAQ,GACxBd,OAAOsB,UAAUC,qBAAqBC,KAAKZ,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,I,yCClBT,IAAIS,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACA,EAAG,YAAY,CAACG,IAAI,eAAeC,MAAM,CAAC,QAAUR,EAAIS,QAAQ,OAAQ,EAAK,WAAY,EAAM,aAAaT,EAAIU,UAAU,cAAcV,EAAIW,WAAW,kBAAkB,IAAI,qBAAoB,GAAOC,GAAG,CAAC,SAAWZ,EAAIa,eAAe,QAAUb,EAAIc,YAAYC,YAAYf,EAAIgB,GAAG,CAAC,CAAC5B,IAAI,UAAU6B,GAAG,SAASC,GAAO,MAAO,CAACd,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,QAAQI,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAIoB,aAAaF,EAAMG,QAAQ,CAACrB,EAAIsB,GAAG,QAAQlB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,UAAU,UAAY,CAAC,EAAG,GAAGe,SAASL,EAAMG,IAAIG,SAASZ,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAIyB,aAAaP,EAAMG,QAAQ,CAACrB,EAAIsB,GAAG,QAAQlB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,UAAU,UAAY,CAAC,EAAG,GAAGe,SAASL,EAAMG,IAAIG,SAASZ,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAI0B,aAAaR,EAAMG,QAAQ,CAACrB,EAAIsB,GAAG,QAAQlB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,SAAS,UAAY,CAAC,GAAGe,SAASL,EAAMG,IAAIG,SAASZ,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAI2B,aAAaT,EAAMG,QAAQ,CAACrB,EAAIsB,GAAG,gBAAgB,GAAGlB,EAAG,aAAa,CAACI,MAAM,CAAC,KAAOR,EAAI4B,SAASC,QAAQ,MAAQ7B,EAAI4B,SAASE,KAAK,MAAQ9B,EAAI+B,OAAOnB,GAAG,CAAC,cAAc,SAASO,GAAQ,OAAOnB,EAAIgC,KAAKhC,EAAI4B,SAAU,UAAWT,IAAS,eAAe,SAASA,GAAQ,OAAOnB,EAAIgC,KAAKhC,EAAI4B,SAAU,OAAQT,IAAS,WAAanB,EAAIiC,QAAQ7B,EAAG,eAAe,CAACI,MAAM,CAAC,aAAa,CAAC0B,GAAIlC,EAAImC,WAAWC,QAAQxB,GAAG,CAAC,QAAUZ,EAAIiC,MAAMI,MAAM,CAACC,MAAOtC,EAAImC,WAAkB,QAAEI,SAAS,SAAUC,GAAMxC,EAAIgC,KAAKhC,EAAImC,WAAY,UAAWK,IAAMC,WAAW,yBAAyB,IACvlDC,EAAkB,G,8ECDlB,EAAS,WAAa,IAAI1C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQR,EAAI2C,MAAM,QAAU3C,EAAIsC,MAAM,cAAa,EAAK,MAAQ,QAAQ,eAAc,EAAM,oBAAmB,EAAK,kBAAiB,EAAK,wBAAuB,EAAM,yBAAwB,EAAM,eAAetC,EAAI4C,aAAahC,GAAG,CAAC,KAAOZ,EAAI6C,aAAa,CAACzC,EAAG,UAAU,CAACG,IAAI,OAAOC,MAAM,CAAC,MAAQR,EAAI8C,KAAK,MAAQ9C,EAAI+C,MAAM,cAAc,SAAS,CAAC3C,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACJ,EAAG,YAAY,CAAC4C,YAAY,CAAC,MAAQ,QAAQxC,MAAM,CAAC,YAAc,SAASI,GAAG,CAAC,OAASZ,EAAIiD,gBAAgBZ,MAAM,CAACC,MAAOtC,EAAI8C,KAAe,WAAEP,SAAS,SAAUC,GAAMxC,EAAIgC,KAAKhC,EAAI8C,KAAM,aAAcN,IAAMC,WAAW,oBAAoBzC,EAAIkD,GAAIlD,EAAgB,cAAE,SAASmD,GAAM,OAAO/C,EAAG,YAAY,CAAChB,IAAI+D,EAAKjB,GAAG1B,MAAM,CAAC,MAAQ2C,EAAKC,KAAK,MAAQD,EAAKjB,SAAQ,IAAI,GAAG9B,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACJ,EAAG,YAAY,CAACE,YAAY,cAAc0C,YAAY,CAAC,MAAQ,QAAQxC,MAAM,CAAC,YAAc,SAAS6B,MAAM,CAACC,MAAOtC,EAAI8C,KAAY,QAAEP,SAAS,SAAUC,GAAMxC,EAAIgC,KAAKhC,EAAI8C,KAAM,UAAWN,IAAMC,WAAW,iBAAiBzC,EAAIkD,GAAIlD,EAAa,WAAE,SAASmD,GAAM,OAAO/C,EAAG,YAAY,CAAChB,IAAI+D,EAAKjB,GAAG1B,MAAM,CAAC,MAAQ2C,EAAKC,KAAK,MAAQD,EAAKjB,SAAQ,IAAI,IAAI,GAAG9B,EAAG,MAAM,CAACI,MAAM,CAAC,KAAO,UAAU6C,KAAK,UAAU,CAACjD,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAIsD,cAAc,WAAW,CAACtD,EAAIsB,GAAG,SAASlB,EAAG,YAAY,CAACQ,GAAG,CAAC,MAAQZ,EAAI4C,cAAc,CAAC5C,EAAIsB,GAAG,UAAU,IAAI,IAC7gD,EAAkB,G,wlBC6CtB,OACEiC,WAAY,GACZC,QAAS,IAGX,GACEC,KAAM,cACNC,MAAO,CACLpB,MAAO,CACLqB,UAAU,EACVC,KAAMC,SAERlB,MAAO,CACLiB,KAAME,OACNC,QAAS,WAEXC,UAAW,CACTJ,KAAMtF,OACNyF,QAAS,eAGbE,MAAO,GACP3H,KAjBF,WAkBI,MAAO,CACLwG,KAAMoB,EACNzD,SAAS,EACTsC,MAAO,CACLQ,WAAY,CACpB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQC,QAAS,CACjB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,UAGMW,aAAc,GACdC,UAAW,KAGfC,QAAS,CACPf,cADJ,SACA,cACMrD,KAAKqE,MAAMC,GAAUC,UAAS,SAApC,GACQ,IAAIC,EAkBF,OAAO,EAjBP,EAAV,WACU,OAAV,OAAU,CAAV,GACYjB,QAAS,EAArB,cACA,cACA,sBACA,SACiBJ,IACH,EAAd,gBACc,EAAd,eAEY,EAAZ,cACA,mBAEY,EAAZ,kBAQInB,KAzBJ,WAyBA,WACA,KACM,OAAO,IAAIyC,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,KACA,IACA,sBACA,kBACetB,IACH,EAAZ,gBAEU,EAAV,WACUuB,EAAQC,MAClB,mBACU,EAAV,WACUC,EAAOC,UAIb7B,eA3CJ,SA2CA,cACM,OAAO,IAAIyB,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,CACUnB,WAAV,IACA,sBACA,kBACeH,IACH,EAAZ,aAEU,EAAV,WACUuB,EAAQC,MAClB,mBACU,EAAV,WACUC,EAAOC,UAIbjC,WA5DJ,WA6DM5C,KAAKgC,QAEPW,YA/DJ,SA+DA,GACM3C,KAAKqE,MAAMxB,KAAKiC,cAChB9E,KAAK+E,MAAM,SAAS,GACpB/E,KAAK6C,KAAOxE,OAAO2G,OAAO,GAAI,EAApC,OACsB,oBAATC,GAAuBA,OCvJoY,I,wBCQpaC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,gmBCyBf,OACEC,WAAY,CACVC,YAAJ,GAEEC,OAAQ,CAACC,EAAX,MACEjJ,KALF,WAMI,MAAO,CACLqG,MAAO,MACPlC,SAAS,EACT+E,MAAO,GACP9E,UAAW,GACXC,WAAY,CAClB,CACQ,OAAR,OACQ,KAAR,KACQ,MAAR,OACQ,MAAR,SAGQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,aACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,UACQ,MAAR,MACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,MACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,gBACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,OACQ,KAAR,eACQ,MAAR,OACQ,MAAR,SACQ,SAAR,GACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,UAAR,KACQ,YAAR,UAEA,CACQ,OAAR,SACQ,KAAR,SACQ,MAAR,KACQ,MAAR,SACQ,SAAR,KACQ,OAAR,EACQ,UAAR,EACQ,WAAR,EACQ,YAAR,SACQ,UAAR,YACU,OAAV,WAEQ,gBAAR,YACU,OAAV,oBAIM8E,WAAY,GACZC,iBAAkB,GAClBC,WAAY,MACZxD,WAAY,CACVyD,KAAM,GACNC,SAAS,EACTzD,MAAO,MAIb0D,QAjHF,WAkHI7F,KAAKgC,QAEPoC,QAAS,CACPpC,KADJ,SACA,cAEMhC,KAAKQ,SAAU,EACf,IAAN,uCACQ+C,QAASvD,KAAK8F,OAAOC,OAAO9D,IACpC,WAFA,CAGQ+D,KAAM,EAAd,GACA,iBAGM,OAAO,IAAIvB,SAAQ,SAAzB,KACQ,OAAR,OAAQ,CAAR,KACA,IACA,sBACA,kBACU,IAAKtB,EAAM,CAArB,MACA,aADA,EACA,OADA,2BAEY,EAAZ,YACY,EAAZ,YAEU,EAAV,WACUuB,EAAQC,MAClB,mBACU,EAAV,WACUC,EAAOC,UAIbjE,eA7BJ,YA6BA,sCAEM,GAAqB,OAAjBqF,EAAOC,MACT,OAAO,EAETlG,KAAKmG,SAAW,EAAtB,OAEIC,QApCJ,WAsCMpG,KAAKgC,KAAK,UAGZN,aAzCJ,SAyCA,cACM1B,KAAKqG,SAAS,sBAAuB,KAAM,CACzCC,kBAAmB,MACnBC,iBAAkB,MAClB5C,KAAM,UACN6C,kBAAmB,oBACnBC,YAAY,IACpB,iBACQ,OAAR,OAAQ,CAAR,CACUC,OAAQ,CACNzE,GAAIiB,EAAKjB,MAErB,sBACA,SACekB,IACH,EAAZ,iBACcT,MAAO,KACPiE,QAAS,SAEX,EAAZ,cAGA,mBAEQ,EAAR,cACUjE,MAAO,KACPiE,QAAS,cAKfxF,aAxEJ,SAwEA,GAEMnB,KAAK4G,QAAQC,KAAK,CAChBrD,KAAM,0BACNuC,OAAQ,CACNe,KAAM,SACN7E,GAAIiB,EAAKjB,GACTsB,QAASvD,KAAK8F,OAAOC,OAAO9D,GAC5B0B,KAAM3D,KAAK8F,OAAOC,OAAOpC,KACzBoD,UAAW/G,KAAK8F,OAAOtC,MAEzB+B,MAAO,CACLxB,UAAW,EAArB,GACA,wBAMItC,aA3FJ,SA2FA,GAEMzB,KAAK4G,QAAQC,KAAK,CAChBrD,KAAM,0BACNuC,OAAQ,CACNe,KAAM,SACN7E,GAAIiB,EAAKjB,GACTsB,QAASvD,KAAK8F,OAAOC,OAAO9D,GAC5B0B,KAAM3D,KAAK8F,OAAOC,OAAOpC,KACzBoD,UAAW/G,KAAK8F,OAAOtC,MAEzB+B,MAAO,CACLxB,UAAW,EAArB,GACA,wBAMIvC,aA9GJ,SA8GA,cACMxB,KAAKqG,SAAS,oBAAqB,KAAM,CACvCC,kBAAmB,MACnBC,iBAAkB,MAClB5C,KAAM,UACN6C,kBAAmB,oBACnBC,YAAY,IACpB,iBACQ,OAAR,OAAQ,CAAR,CACUO,kBAAmB9D,EAAKjB,KAClC,sBACA,SACekB,IACH,EAAZ,iBACcT,MAAO,KACPiE,QAAS,SAEX,EAAZ,cAGA,mBAEQ,EAAR,cACUjE,MAAO,KACPiE,QAAS,gBCtS4Y,ICO3Z,EAAY,eACd,EACA7G,EACA2C,GACA,EACA,KACA,WACA,MAIa,e,8BCjBf,IAAIwE,EAAU,EAAQ,QAClBC,EAAO,EAAQ,QACfC,EAAQ,EAAQ,QACpBhJ,EAAOC,QAAU,SAAUgJ,EAAKC,GAC9B,IAAIrG,GAAMkG,EAAK7I,QAAU,IAAI+I,IAAQ/I,OAAO+I,GACxCE,EAAM,GACVA,EAAIF,GAAOC,EAAKrG,GAChBiG,EAAQA,EAAQM,EAAIN,EAAQO,EAAIL,GAAM,WAAcnG,EAAG,MAAQ,SAAUsG,K,qBCR3EnJ,EAAOC,QAAU,EAAQ,S,qBCAzB,EAAQ,QACRD,EAAOC,QAAU,EAAQ,QAAuBC,OAAOoJ","file":"js/InStorageAssistDelivery.dde114a2.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContractDialog.vue?vue&type=style&index=0&id=469909e1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContractDialog.vue?vue&type=style&index=0&id=469909e1&lang=scss&scoped=true&\"","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 主列表新增\r\nexport function addListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/save',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// 修改\r\nexport function updateListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取交接单详情\r\nexport function getListDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*   交接单物料列表 增删改查接口\r\n*/\r\n\r\n// 交接单分页列表\r\nexport function getBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 交接单物料列表\r\nexport function getDeliveryReceiptMaterialListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/pageListJS',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增交接单物料\r\nexport function addBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 修改交接单物料列表\r\nexport function editBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除交接单物料列表\r\nexport function delBottomListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*   交接单物料明细列表 增删改查接口\r\n*/\r\n\r\n// 物料明细列表分页列表\r\nexport function getBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/dmdPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 清空物料明细列表分页列表\r\nexport function cleanBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/clear',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function getBottomDetailApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 新增物料明细列表\r\nexport function addBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/generateBarcodeList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交物料明细弹窗前校验\r\nexport function addMaterialDetailCheckApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/addMaterialDetailCheck',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交物料明细弹窗\r\nexport function submitBottomDetailListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/addMaterialDetail',\r\n    method: 'post',\r\n    timeout: 60 * 1000,\r\n    data\r\n  })\r\n}\r\n\r\n// // 修改物料明细列表\r\n// export function editBottomDetailListApi(data={}) {\r\n//   return request({\r\n//     url: '/enterWarehouse/wmsDeliveryMaterial/edit',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// // 删除交物料明细列表\r\n// export function delBottomDetailListApi(data={}) {\r\n//   return request({\r\n//     url: '/enterWarehouse/wmsDeliveryMaterial/del',\r\n//     method: 'post',\r\n//     data\r\n//   })\r\n// }\r\n\r\n// 提交交接单\r\nexport function submitListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/commit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/*\r\n*  寄售入库交接单中选择合同和选择订单\r\n*/\r\n// 合同下拉\r\nexport function getContractPullApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsContract/allList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 订单下拉\r\nexport function getOrderPullApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/WmsOrder/selectOrderById',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 交接单绑定订单接口\r\nexport function submitDeliveryToOrderApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryReceipt/bindOrder',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印条码\r\nexport function printApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/print',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n\r\n// 条码打印（新）\r\nexport function barcodePrintApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/barcodePrint',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 单条或批量物料打印\r\nexport function materialPrintApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/materialPrint',\r\n    method: 'post',\r\n    data,\r\n    timeout: 10 * 60 * 1000 // 单位(ms)\r\n  })\r\n}\r\n// 全部打印\r\nexport function allPrintApi(data = {}) {\r\n  // 参数是：deliveryReceiptId 交接单ID\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/allPrint',\r\n    method: 'post',\r\n    data,\r\n    timeout: 3 * 60 * 1000\r\n  })\r\n}\r\n\r\n// 全部生成条码\r\nexport function allGenerateApi(data = {}) {\r\n  // 参数是：deliveryReceiptId 交接单ID\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/allGenerateMaterialBarcode',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 入库管理/交接单修改 添加物料是的物料可选列表\r\nexport function addMaterialPageListApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsDeliveryMaterial/deliveryUpdate/addMaterialPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","export const statusMap = {\r\n  0: 'danger',\r\n  1: 'warning',\r\n  2: 'warning',\r\n  3: 'warning',\r\n  4: 'success',\r\n  5: 'success',\r\n  6: 'warning'\r\n}\r\n\r\nexport const statusChartMap = {\r\n  0: '草稿',\r\n  1: '待检验',\r\n  2: '检验中',\r\n  3: '未入库',\r\n  4: '部分入库',\r\n  5: '已完成',\r\n  6: '待更新'\r\n}\r\n\r\nexport const statusPullMap = [\r\n  {\r\n    id: 0,\r\n    name: '草稿'\r\n  },\r\n  {\r\n    id: 1,\r\n    name: '待检验'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '检验中'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '未入库'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '部分入库'\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '已完成'\r\n  }\r\n]\r\n\r\n// 交接单的类型\r\nexport const deliveryViewTypeMap = {\r\n  1: '来料交接单',\r\n  2: '外协交接单',\r\n  3: '寄售交接单',\r\n  4: '产品交接单'\r\n}\r\n","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$keys from \"../../core-js/object/keys\";\nexport default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (_Object$getOwnPropertySymbols) {\n    var sourceSymbolKeys = _Object$getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',[_c('table-com',{ref:\"baseTableRef\",attrs:{\"loading\":_vm.loading,\"index\":true,\"selection\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"operation-width\":275,\"table-column-sort\":false},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleDetail(scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":![0, 6].includes(scope.row.status)},on:{\"click\":function($event){return _vm.handleSubmit(scope.row)}}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"disabled\":![0, 6].includes(scope.row.status)},on:{\"click\":function($event){return _vm.handleModify(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":![0].includes(scope.row.status)},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}}),_c('model-select',{attrs:{\"extra-info\":{id: _vm.selectInfo.radio}},on:{\"confirm\":_vm.init},model:{value:(_vm.selectInfo.visible),callback:function ($$v) {_vm.$set(_vm.selectInfo, \"visible\", $$v)},expression:\"selectInfo.visible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.value,\"show-close\":true,\"width\":\"420px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"合同编号\",\"prop\":\"contractId\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择合同\"},on:{\"change\":_vm.handleContract},model:{value:(_vm.form.contractId),callback:function ($$v) {_vm.$set(_vm.form, \"contractId\", $$v)},expression:\"form.contractId\"}},_vm._l((_vm.contractList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.code,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"订单编号\",\"prop\":\"orderId\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择订单\"},model:{value:(_vm.form.orderId),callback:function ($$v) {_vm.$set(_vm.form, \"orderId\", $$v)},expression:\"form.orderId\"}},_vm._l((_vm.orderList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.code,\"value\":item.id}})}),1)],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirmDialog('form')}}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"420px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n      <el-form-item label=\"合同编号\" prop=\"contractId\">\r\n        <el-select v-model=\"form.contractId\" placeholder=\"请选择合同\" style=\"width: 100%\" @change=\"handleContract\">\r\n          <el-option\r\n            v-for=\"item in contractList\"\r\n            :key=\"item.id\"\r\n            :label=\"item.code\"\r\n            :value=\"item.id\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"订单编号\" prop=\"orderId\">\r\n        <el-select v-model=\"form.orderId\" placeholder=\"请选择订单\" style=\"width: 100%\" class=\"filter-item\">\r\n          <el-option\r\n            v-for=\"item in orderList\"\r\n            :key=\"item.id\"\r\n            :label=\"item.code\"\r\n            :value=\"item.id\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog('form')\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getContractPullApi, getOrderPullApi, submitDeliveryToOrderApi } from '@/apis/modules/in-storage/purchase/delivery'\r\n\r\nconst INIT_FORM = {\r\n  contractId: '',\r\n  orderId: ''\r\n}\r\n\r\nexport default {\r\n  name: 'OrderSelect',\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '选择合同及订单'\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      form: INIT_FORM,\r\n      loading: false,\r\n      rules: {\r\n        contractId: [\r\n          { required: true, message: '请选择合同编号', trigger: 'blur' }\r\n        ],\r\n        orderId: [\r\n          { required: true, message: '请选择订单编号', trigger: 'blur' }\r\n        ]\r\n      },\r\n      contractList: [],\r\n      orderList: []\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.loading = false\r\n          submitDeliveryToOrderApi({\r\n            orderId: this.form.orderId,\r\n            ...this.extraInfo\r\n          }).then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.$emit('submit')\r\n              this.beforeClose()\r\n            }\r\n            this.loading = false\r\n          }).catch(err => {\r\n            console.log(err)\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    init() {\r\n      const params = {}\r\n      return new Promise((resolve, reject) => {\r\n        getContractPullApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.contractList = data\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    handleContract(contractId) {\r\n      return new Promise((resolve, reject) => {\r\n        getOrderPullApi({\r\n          contractId\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            this.orderList = data\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    beforeClose(done) {\r\n      this.$refs.form.resetFields()\r\n      this.$emit('input', false)\r\n      this.form = Object.assign({}, { ...INIT_FORM })\r\n      typeof done === 'function' && done()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContractDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContractDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContractDialog.vue?vue&type=template&id=469909e1&scoped=true&\"\nimport script from \"./ContractDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ContractDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContractDialog.vue?vue&type=style&index=0&id=469909e1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"469909e1\",\n  null\n  \n)\n\nexport default component.exports","<!-- Tip 通过显示交接单按钮跳转的页面 -->\r\n<template>\r\n  <div class=\"app-container\">\r\n    <el-row>\r\n      <table-com\r\n        ref=\"baseTableRef\"\r\n        :loading=\"loading\"\r\n        :index=\"true\"\r\n        :selection=\"false\"\r\n        :table-data=\"tableData\"\r\n        :column-list=\"columnList\"\r\n        :operation-width=\"275\"\r\n        :table-column-sort=\"false\"\r\n        @rowClick=\"handleRowClick\"\r\n        @refresh=\"searchInit\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"info\" @click=\"handleDetail(scope.row)\">详情</el-button>\r\n          <!-- 状态为0是草稿，状态为6是待更新，驳回后为待更新状态，可进行编辑 -->\r\n          <el-button type=\"primary\" :disabled=\"![0, 6].includes(scope.row.status)\" @click=\"handleSubmit(scope.row)\">提交</el-button>\r\n          <el-button type=\"warning\" :disabled=\"![0, 6].includes(scope.row.status)\" @click=\"handleModify(scope.row)\">编辑</el-button>\r\n          <!-- 状态是草稿的可删除，否则删除不可用 -->\r\n          <el-button type=\"danger\" :disabled=\"![0].includes(scope.row.status)\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </table-com>\r\n    </el-row>\r\n    <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n\r\n    <!-- 合同和订单绑定  -->\r\n    <model-select\r\n      v-model=\"selectInfo.visible\"\r\n      :extra-info=\"{id: selectInfo.radio}\"\r\n      @confirm=\"init\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport ModelSelect from './ContractDialog'\r\nimport { getListApi, deleteListApi, submitListApi } from '@/apis/modules/in-storage/purchase/delivery'\r\nimport { statusChartMap, statusMap } from '@/views/in-storage/purchase/status'\r\n\r\nexport default {\r\n  components: {\r\n    ModelSelect\r\n  },\r\n  mixins: [paginationPage],\r\n  data() {\r\n    return {\r\n      title: '交接单',\r\n      loading: false,\r\n      query: {},\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'no',\r\n          label: '交接单号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'contractNo',\r\n          label: '合同编号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'orderNo',\r\n          label: '订单号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'supplierName',\r\n          label: '供应商',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialsUnit',\r\n          label: '用料单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'deliveryDate',\r\n          label: '交货日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'status',\r\n          prop: 'status',\r\n          label: '状态',\r\n          align: 'center',\r\n          minWidth: '86',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center',\r\n          formatter: (status) => {\r\n            return statusChartMap[status]\r\n          },\r\n          statusFormatter: (row) => {\r\n            return statusMap[row.status]\r\n          }\r\n        }\r\n      ],\r\n      columnSets: [],\r\n      supplierPullList: [],\r\n      dialogType: 'add',\r\n      selectInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init(type) {\r\n      console.log('init method')\r\n      this.loading = true\r\n      const params = type ? { orderId: this.$route.params.id } : {\r\n        orderId: this.$route.params.id,\r\n        ...this.query,\r\n        page: {\r\n          ...this.pageInfo\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { pageData: { list, ...pageInfo }} = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      console.log(row)\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n      this.rightObj = { ...row }\r\n    },\r\n    refresh() {\r\n      // 更新分页\r\n      this.init('clean')\r\n    },\r\n    // 删除\r\n    handleDelete(item) {\r\n      this.$confirm('此操作将永久删除选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        deleteListApi({\r\n          entity: {\r\n            id: item.id\r\n          }\r\n        }).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$notify.success({\r\n              title: '成功',\r\n              message: '删除成功'\r\n            })\r\n            this.init()\r\n          }\r\n        })\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    // 详情\r\n    handleDetail(item) {\r\n      // Tip 参数定义(view: 页面类型;orderId: 订单id;id: 交接单id;type: 订单类型)\r\n      this.$router.push({\r\n        name: 'InStorageDeliveryDetail',\r\n        params: {\r\n          view: 'detail',\r\n          id: item.id,\r\n          orderId: this.$route.params.id,\r\n          type: this.$route.params.type, // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n          routeName: this.$route.name\r\n        },\r\n        query: {\r\n          extraInfo: {\r\n            ...this.$route.params\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 编辑\r\n    handleModify(item) {\r\n      // Tip 参数定义(view: 页面类型;orderId: 订单id;id: 交接单id;type: 订单类型)\r\n      this.$router.push({\r\n        name: 'InStorageDeliveryModify',\r\n        params: {\r\n          view: 'modify',\r\n          id: item.id,\r\n          orderId: this.$route.params.id,\r\n          type: this.$route.params.type, // 订单类型，1：采购订单，2：外协订单，3：寄售订单，4：成品订单\r\n          routeName: this.$route.name\r\n        },\r\n        query: {\r\n          extraInfo: {\r\n            ...this.$route.params\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 提交\r\n    handleSubmit(item) {\r\n      this.$confirm('此操作将提交选中信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning',\r\n        cancelButtonClass: 'btn-custom-cancel',\r\n        lockScroll: false\r\n      }).then(() => {\r\n        submitListApi({\r\n          deliveryReceiptId: item.id\r\n        }).then(res => {\r\n          const { code } = res\r\n          if (!code) {\r\n            this.$notify.success({\r\n              title: '成功',\r\n              message: '提交成功'\r\n            })\r\n            this.init()\r\n          }\r\n        })\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.$notify.info({\r\n          title: '消息',\r\n          message: '已取消提交'\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=003e1a23&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"003e1a23\",\n  null\n  \n)\n\nexport default component.exports","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n"],"sourceRoot":""}