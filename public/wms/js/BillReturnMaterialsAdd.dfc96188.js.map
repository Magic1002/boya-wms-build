{"version":3,"sources":["webpack:///./src/views/out-bound/return-of-goods/Material.vue?471e","webpack:///src/views/out-bound/return-of-goods/Material.vue","webpack:///./src/views/out-bound/return-of-goods/Material.vue?d2db","webpack:///./src/views/out-bound/return-of-goods/Material.vue","webpack:///./src/apis/modules/in-storage/info/index.js","webpack:///./src/components/ModalSelect/WarehousingEntry.vue?9f75","webpack:///./src/views/out-bound/return-of-goods/edit.vue?d4f5","webpack:///./src/apis/modules/out-bound/return-of-goods.js","webpack:///./src/views/out-bound/return-of-goods/edit.vue?6b4b","webpack:///src/views/out-bound/return-of-goods/edit.vue","webpack:///./src/views/out-bound/return-of-goods/edit.vue?4d43","webpack:///./src/views/out-bound/return-of-goods/edit.vue","webpack:///./src/views/out-bound/return-of-goods/Material.vue?a5a9","webpack:///./src/components/ModalSelect/WarehousingEntry.vue?742e","webpack:///src/components/ModalSelect/WarehousingEntry.vue","webpack:///./src/components/ModalSelect/WarehousingEntry.vue?0ed4","webpack:///./src/components/ModalSelect/WarehousingEntry.vue","webpack:///./node_modules/uuid/dist/esm-browser/native.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","value","beforeClose","on","initSelect","isCheckAll","_e","checkAll","_v","reverseSelection","staticClass","ref","refName","loading","multiple","rowKey","tableData","columnList","tableSelection","selectionChange","pageInfo","current","size","total","$event","$set","init","columnList1","dialogInfo1","subBarCodeList","model","callback","$$v","skuVisible","expression","slot","confirmDialog","staticRenderFns","name","components","PackageToSKU","mixins","paginationPage","props","required","type","Boolean","String","default","selection","Array","max","Number","ids","id","extraInfo","Object","dicts","data","query","columnSets","deptSelectedInfo","list","visible","radio","methods","length","$emit","$message","message","page","Promise","code","uuid","deliveryNumber","i","orderNum","resolve","res","reject","err","isArray","check","row","some","curPageCheckedArr","push","includes","$nextTick","handleUpdateTableSelected","handleDefault","done","onDeptSelectConfirm","usedOffice","component","getListApi","request","url","method","getPdfUrlApi","getWarehouseWarrantApi","returnMaterialApi","getPullListItemApi","addApi","editApi","deleteApi","getDetailApi","printApi","submitApi","withdrawApi","auditApi","form","rules","staticStyle","pageType","stockInVisible","_s","stockInNumber","handleAddMaterial","detailList","handleRowClick","searchInit","scopedSlots","_u","key","fn","scope","handleDelete","$index","buttonLoading","onAudit","onSave","goBack","warehousingConfirm","map","c","barcodeNumber","assign","entity","returnMaterialsNumber","$route","billNumber","onSelectConfirm","materialVisible","MaterialDialog","AuditWrapper","WarehousingEntry","pullListConfig","INIT_FORM","date","computed","replace","toLowerCase","watch","mounted","getDetail","add","edit","$refs","formName","validate","valid","Api","onSelectedMaterial","materialCode","materialName","materialAssessType","materialAssessType_dictText","batchNo","num","currentPosition","materialId","unitMeasureId","unitName","storageId","getPullList","all","apis","splice","column","label","el","number","barCode","stockInId","$store","dispatch","tempRoute","resetFields","whiteList","$router","1","0","2","nativeOn","preventDefault","indexOf","_k","keyCode","trim","resetForm","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","toString","slice","unsafeStringify","arr","offset","v4","options","buf","rnds","random"],"mappings":"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","file":"js/BillReturnMaterialsAdd.dfc96188.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-row',[(!_vm.isCheckAll)?_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.checkAll}},[_vm._v(\"跨页全选\")]):_vm._e(),(_vm.isCheckAll)?_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.reverseSelection}},[_vm._v(\"跨页反选\")]):_vm._e()],1),_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":false,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"row-key\":_vm.rowKey,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('package-to-s-k-u',{attrs:{\"title\":'供应商条码',\"is-show-print-btn\":false,\"extra-info\":{columnList: _vm.columnList1 || [], tableData: _vm.dialogInfo1.subBarCodeList || []}},model:{value:(_vm.skuVisible),callback:function ($$v) {_vm.skuVisible=$$v},expression:\"skuVisible\"}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-row>\r\n      <el-button v-if=\"!isCheckAll\" type=\"warning\" plain @click=\"checkAll\">跨页全选</el-button>\r\n      <el-button v-if=\"isCheckAll\" type=\"warning\" plain @click=\"reverseSelection\">跨页反选</el-button>\r\n    </el-row>\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- <query-item :query-obj=\"query\" out-key=\"billNumber\" out-placeholder=\"入库单号\" />\r\n        <query-item :query-obj=\"query\" out-key=\"source\" out-placeholder=\"来源\" />\r\n        <query-item :query-obj=\"query\" out-key=\"storekeeper\" out-placeholder=\"条码号\" @handleQuery=\"handleQuery\" /> -->\r\n\r\n      <!-- 头部搜索 -->\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"false\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :row-key=\"rowKey\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <package-to-s-k-u\r\n      v-model=\"skuVisible\"\r\n      :title=\"'供应商条码'\"\r\n      :is-show-print-btn=\"false\"\r\n      :extra-info=\"{columnList: columnList1 || [], tableData: dialogInfo1.subBarCodeList || []}\"\r\n    />\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport PackageToSKU from '@/components/ModalSelect/PackageToSKU'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { returnMaterialApi as getListSelectApi } from '@/apis/modules/out-bound/return-of-goods'\r\n\r\nimport QueryItemMixin from '@/mixins/queryItem'\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  components: {\r\n    PackageToSKU\r\n  },\r\n  mixins: [paginationPage, QueryItemMixin],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '物料选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    id: {\r\n      type: [Number, String],\r\n      default: ''\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      rowKey: 'barCode',\r\n      // 跨页全选标记\r\n      isCheckAll: false,\r\n      query: {},\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'link',\r\n          type: (item) => Array.isArray(item.subBarCodeList) && !!item.subBarCodeList.length ? 'primary' : '',\r\n          prop: 'barCode',\r\n          underline: false,\r\n          minWidth: 150,\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          handleClick: (item) => {\r\n            if (!item.subBarCodeList.length) return\r\n            this.skuVisible = true\r\n            this.dialogInfo1 = item\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storageNo',\r\n          label: '当前库位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnList1: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'assessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barCode',\r\n          label: '条码号',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'number',\r\n          label: '数量',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storageNo',\r\n          label: '当前库位',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      tableData: [],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      },\r\n      skuVisible: false,\r\n      dialogInfo1: {}\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      if (!this.tableSelection.length) {\r\n        this.$message({\r\n          message: `请选择物料`,\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        ...this.extraInfo\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        this.loading = true\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: i.orderNum,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.barCode))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    checkAll() {\r\n      this.isCheckAll = true\r\n      const params = {\r\n        ...this.query,\r\n        ...this.extraInfo,\r\n        page: {\r\n          current: 1, // 当前页码\r\n          size: 10000 // 每页条数\r\n        }\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list } = data\r\n            if (list && Array.isArray(list) && list.length) {\r\n              this.tableSelection = list\r\n              if (!this.tableSelection.length) {\r\n                this.isCheckAll = false\r\n                this.$notify.warning({\r\n                  title: '警告',\r\n                  message: `暂不支持跨页全选`\r\n                })\r\n                return\r\n              }\r\n\r\n              // 初始化当前页面的勾选\r\n              const rowKey = this.rowKey\r\n              const ids = this.tableSelection.map(i => i[rowKey]) // 满足可被勾选条件的数据\r\n              const curPageCheckedArr = [] // 当前页满足可被勾选条件de项\r\n              this.tableData.forEach(row => {\r\n                function check(row) {\r\n                  const id = row[rowKey]\r\n                  return ids.some(i => i === id)\r\n                }\r\n                if (check(row)) {\r\n                  curPageCheckedArr.push(row)\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n\r\n              // 除了当前页的其余页勾选\r\n              this.tableSelection.forEach(row => {\r\n                // 排除当前页已勾选的项,并选中其它可勾选项\r\n                const ids = curPageCheckedArr.map(i => i[rowKey])\r\n                if (!ids.includes(row[rowKey])) {\r\n                  this.$nextTick(() => {\r\n                    this.$refs[this.refName].$refs.multipleTable.toggleRowSelection(row, true)\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          }\r\n          resolve(res)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    // 跨页反选\r\n    reverseSelection() {\r\n      this.isCheckAll = false\r\n      this.$nextTick(() => {\r\n        this.$refs[this.refName].$refs.multipleTable.clearSelection()\r\n        this.tableSelection = []\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n  <style lang=\"scss\" scoped>\r\n  .scroll-dialog {\r\n    height: 600px;\r\n  }\r\n  ::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n    overflow-x: hidden;\r\n  }\r\n   ::v-deep .el-dialog__body {\r\n    padding-top: 10px;\r\n    padding-bottom: 0;\r\n  }\r\n  </style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Material.vue?vue&type=template&id=61a9a88d&scoped=true&\"\nimport script from \"./Material.vue?vue&type=script&lang=js&\"\nexport * from \"./Material.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Material.vue?vue&type=style&index=0&id=61a9a88d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61a9a88d\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/apis/request.wms'\r\n\r\n// 主列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/deliveryReceiptPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表新增\r\nexport function addListApi(data) {\r\n  return request({\r\n    url: '/mes/technologyMainMaterial/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表修改\r\nexport function updateListApi(data) {\r\n  return request({\r\n    url: '/mes/technologyMainMaterial/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 主列表删除\r\nexport function deleteListApi(data) {\r\n  return request({\r\n    url: '/mes/technologyMainMaterial/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 打印\r\nexport function getPdfUrlApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 出库管理/退货 入库单选择\r\nexport function getWarehouseWarrantApi(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/pageList4ReturnMaterials',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=style&index=0&id=18b772d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=style&index=0&id=18b772d4&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=3ee2de00&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=3ee2de00&lang=scss&scoped=true&\"","import request from '@/apis/request.wms'\r\n// 出库管理/退货 弹窗选择物料\r\nexport function returnMaterialApi(data = {}) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/detailPageList4ReturnMaterials',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 入库单详情\r\nexport function getInDetail(data) {\r\n  return request({\r\n    url: '/enterWarehouse/wmsStockIn/detailPageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 列表\r\nexport function getListApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/pageList',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 下拉列表\r\nexport function getPullListItemApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/listItem',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 新增\r\nexport function addApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改\r\nexport function editApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 删除\r\nexport function deleteApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/delete',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 详情\r\nexport function getDetailApi(data) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/detail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 打印\r\nexport function printApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/print',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 提交\r\nexport function submitApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/submit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 撤回\r\nexport function withdrawApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/withdraw',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 审核->通过、驳回、未通过\r\nexport function auditApi(data = {}) {\r\n  return request({\r\n    url: '/outWarehouse/wmsBillReturnMaterials/audit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audit-wrapper',{attrs:{\"extra-info\":_vm.extraInfo}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"inline\":\"\",\"rules\":_vm.rules}},[_c('el-row',[_c('el-col',{attrs:{\"xs\":6,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('el-form-item',{attrs:{\"prop\":\"stockInNumber\",\"label\":\"入库单：\"}},[_c('el-link',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":['audit', 'detail', 'edit'].includes(_vm.pageType),\"type\":\"primary\"},on:{\"click\":function($event){_vm.stockInVisible = true}}},[_vm._v(\"\\n            \"+_vm._s(_vm.form.stockInNumber ? _vm.form.stockInNumber : \"请选择\"))])],1)],1),_c('el-col',{attrs:{\"xs\":6,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('el-form-item',{attrs:{\"prop\":\"date\",\"label\":\"凭证日期：\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"178px\"},attrs:{\"disabled\":['audit', 'detail'].includes(_vm.pageType),\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)],1),(!['audit', 'detail'].includes(_vm.pageType))?_c('el-col',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.form.stockInNumber},on:{\"click\":_vm.handleAddMaterial}},[_vm._v(\"添加物料\")])],1):_vm._e(),_c('el-col',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('table-com',{ref:\"baseTableRef\",staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":false,\"selection\":false,\"table-data\":_vm.form.detailList,\"column-list\":_vm.columnList,\"operation-width\":120,\"table-column-sort\":false,\"show-operate\":!['audit', 'detail'].includes(_vm.pageType)},on:{\"rowClick\":_vm.handleRowClick,\"refresh\":_vm.searchInit},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1),(_vm.pageType === 'audit')?_c('el-col',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('el-form-item',{staticClass:\"approval-opinion\",attrs:{\"prop\":\"message\",\"label\":\"审批意见：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请填写审批意见\",\"rows\":5},model:{value:(_vm.form.message),callback:function ($$v) {_vm.$set(_vm.form, \"message\", $$v)},expression:\"form.message\"}})],1)],1):_vm._e()],1)],1),_c('div',{staticClass:\"btn-context\"},[(_vm.pageType === 'audit')?[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onAudit(1)}}},[_vm._v(\"通 过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onAudit(0)}}},[_vm._v(\"驳 回\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onAudit(2)}}},[_vm._v(\"不 通 过\")])]:_vm._e(),(_vm.pageType === 'add')?[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onSave('form')}}},[_vm._v(\"保 存\")])]:_vm._e(),(_vm.pageType === 'edit')?[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.buttonLoading},on:{\"click\":function($event){return _vm.onSave('form')}}},[_vm._v(\"保 存\")])]:_vm._e(),_c('el-button',{attrs:{\"loading\":_vm.buttonLoading},on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")])],2),_c('warehousing-entry',{attrs:{\"multiple\":false},on:{\"confirm\":_vm.warehousingConfirm},model:{value:(_vm.stockInVisible),callback:function ($$v) {_vm.stockInVisible=$$v},expression:\"stockInVisible\"}}),_c('material-dialog',{attrs:{\"selection\":_vm.form.detailList.map(function (c) { return c.barcodeNumber; }),\"extra-info\":Object.assign({}, {entity: _vm.entity}, _vm.pageType === 'edit' && {returnMaterialsNumber: _vm.$route.query.billNumber })},on:{\"confirm\":_vm.onSelectConfirm},model:{value:(_vm.materialVisible),callback:function ($$v) {_vm.materialVisible=$$v},expression:\"materialVisible\"}}),_c('package-to-s-k-u',{attrs:{\"title\":'供应商条码',\"is-show-print-btn\":false,\"extra-info\":{columnList: _vm.columnList1 || [], tableData: _vm.dialogInfo1.subBarCodeList || []}},model:{value:(_vm.skuVisible),callback:function ($$v) {_vm.skuVisible=$$v},expression:\"skuVisible\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <audit-wrapper :extra-info=\"extraInfo\">\r\n    <el-form ref=\"form\" :model=\"form\" inline :rules=\"rules\">\r\n      <el-row>\r\n        <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n          <el-form-item prop=\"stockInNumber\" label=\"入库单：\">\r\n            <el-link\r\n              :disabled=\"['audit', 'detail', 'edit'].includes(pageType)\"\r\n              type=\"primary\"\r\n              style=\"width: 178px\"\r\n              @click=\"stockInVisible = true\"\r\n            >\r\n              {{ form.stockInNumber ? form.stockInNumber : \"请选择\" }}</el-link>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n          <el-form-item prop=\"date\" label=\"凭证日期：\">\r\n            <el-date-picker\r\n              v-model=\"form.date\"\r\n              :disabled=\"['audit', 'detail'].includes(pageType)\"\r\n              type=\"date\"\r\n              style=\"width: 178px;\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              placeholder=\"请选择\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col v-if=\"!['audit', 'detail'].includes(pageType)\" :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" style=\"margin-bottom: 15px;\">\r\n          <el-button type=\"primary\" :disabled=\"!form.stockInNumber\" @click=\"handleAddMaterial\">添加物料</el-button>\r\n        </el-col>\r\n        <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" style=\"margin-bottom: 15px;\">\r\n          <table-com\r\n            ref=\"baseTableRef\"\r\n            style=\"width: 100%\"\r\n            :loading=\"false\"\r\n            :selection=\"false\"\r\n            :table-data=\"form.detailList\"\r\n            :column-list=\"columnList\"\r\n            :operation-width=\"120\"\r\n            :table-column-sort=\"false\"\r\n            :show-operate=\"!['audit', 'detail'].includes(pageType)\"\r\n            @rowClick=\"handleRowClick\"\r\n            @refresh=\"searchInit\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" @click=\"handleDelete(scope.$index)\">删除</el-button>\r\n            </template>\r\n          </table-com>\r\n        </el-col>\r\n        <el-col v-if=\"pageType === 'audit'\" style=\"margin-bottom: 15px;\" :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\">\r\n          <el-form-item prop=\"message\" label=\"审批意见：\" class=\"approval-opinion\">\r\n            <el-input\r\n              v-model=\"form.message\"\r\n              type=\"textarea\"\r\n              placeholder=\"请填写审批意见\"\r\n              :rows=\"5\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div class=\"btn-context\">\r\n      <template v-if=\"pageType === 'audit'\">\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onAudit(1)\">通 过</el-button>\r\n        <el-button type=\"danger\" :loading=\"buttonLoading\" @click=\"onAudit(0)\">驳 回</el-button>\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onAudit(2)\">不 通 过</el-button>\r\n      </template>\r\n      <template v-if=\"pageType === 'add'\">\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onSave('form')\">保 存</el-button>\r\n      </template>\r\n      <template v-if=\"pageType === 'edit'\">\r\n        <el-button type=\"primary\" :loading=\"buttonLoading\" @click=\"onSave('form')\">保 存</el-button>\r\n      </template>\r\n      <el-button :loading=\"buttonLoading\" @click=\"goBack\">取消</el-button>\r\n    </div>\r\n    <!-- 入库单  -->\r\n    <!-- :selection=\"[form.stockInId]\" -->\r\n    <warehousing-entry\r\n      v-model=\"stockInVisible\"\r\n      :multiple=\"false\"\r\n      @confirm=\"warehousingConfirm\"\r\n    />\r\n    <!-- 物料选择(编辑页面需要传退货单号) -->\r\n    <material-dialog\r\n      v-model=\"materialVisible\"\r\n      :selection=\"form.detailList.map(c => c.barcodeNumber)\"\r\n      :extra-info=\"{entity, ...pageType === 'edit' && {returnMaterialsNumber: $route.query.billNumber }}\"\r\n      @confirm=\"onSelectConfirm\"\r\n    />\r\n    <package-to-s-k-u\r\n      v-model=\"skuVisible\"\r\n      :title=\"'供应商条码'\"\r\n      :is-show-print-btn=\"false\"\r\n      :extra-info=\"{columnList: columnList1 || [], tableData: dialogInfo1.subBarCodeList || []}\"\r\n    />\r\n  </audit-wrapper>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport moment from 'moment'\r\nmoment.locale('zh-cn')\r\nimport { addApi as addListApi, editApi as updateListApi, getDetailApi as detailApi, auditApi } from '@/apis/modules/out-bound/return-of-goods'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport MaterialDialog from './Material'\r\nimport AuditWrapper from '@/components/AuditWrapper'\r\nimport WarehousingEntry from '@/components/ModalSelect/WarehousingEntry'\r\nimport PackageToSKU from '@/components/ModalSelect/PackageToSKU'\r\nimport { requestWrapper, promiseWrapper } from '@/utils/utils'\r\n\r\nconst INIT_FORM = () => ({\r\n  stockInNumber: '', // 入库单号\r\n  stockInId: '', // 入库单id\r\n  date: '', // 凭证日期\r\n  message: '', // 审批意见\r\n  detailList: [] // 调拨物料单\r\n})\r\n\r\nexport default {\r\n  components: {\r\n    MaterialDialog,\r\n    AuditWrapper,\r\n    WarehousingEntry,\r\n    PackageToSKU\r\n  },\r\n  mixins: [paginationPage],\r\n  props: {},\r\n  data() {\r\n    return {\r\n      stockInVisible: false,\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'link',\r\n          type: (item) => Array.isArray(item.subBarCodeList) && !!item.subBarCodeList.length ? 'primary' : '',\r\n          prop: 'barcodeNumber',\r\n          underline: false,\r\n          minWidth: 150,\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center',\r\n          handleClick: (item) => {\r\n            if (!item.subBarCodeList.length) return\r\n            this.skuVisible = true\r\n            this.dialogInfo1 = item\r\n          }\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      columnList1: [\r\n        {\r\n          module: 'word',\r\n          prop: 'materialCode',\r\n          label: '物料编号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialName',\r\n          label: '物料名称',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialSpec',\r\n          label: '规格型号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'materialAssessType_dictText',\r\n          label: '评估类型',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'barcodeNumber',\r\n          label: '条码号',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'num',\r\n          label: '数量',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'unitName',\r\n          label: '计量单位',\r\n          align: 'center',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n      ],\r\n      // 关于查询项下拉\r\n      pullListConfig: [\r\n        { api: '', dataKey: '', name: '' }\r\n      ],\r\n      form: INIT_FORM(),\r\n      rules: {\r\n        stockInNumber: [\r\n          { required: true, message: '请输入入库单号', trigger: 'change' }\r\n        ],\r\n        date: [\r\n          { required: true, message: '请选择凭证日期', trigger: 'change' }\r\n        ],\r\n        message: [\r\n          { required: true, message: '请填写审批意见', trigger: 'blur' }\r\n        ]\r\n      },\r\n      materialVisible: false,\r\n      buttonLoading: false,\r\n      extraInfo: null,\r\n      skuVisible: false,\r\n      dialogInfo1: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('app', {\r\n      token: 'token',\r\n      userInfo: 'userInfo'\r\n    }),\r\n    ids() {\r\n      return this.form.detailList.map(item => item.id)\r\n    },\r\n    pageType() {\r\n      // 如果页面链路走向是 待办弹窗->《已办理业务》，操作列小眼睛跳转到当前单据的详情页\r\n      if (this.$route.query.type === 'auditHistory') return 'detail'\r\n      return this.$route.name.replace('BillReturnMaterials', '').toLowerCase() || 'add'\r\n    },\r\n    entity() {\r\n      return { id: this.form.stockInId }\r\n    }\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  mounted() {\r\n    // 新增页面凭证日期默认当天日期\r\n    this.pageType === 'add' && (this.form.date = moment(new Date()).format('YYYY-MM-DD'))\r\n    this.pageType !== 'add' && this.getDetail()\r\n  },\r\n  methods: {\r\n    onSave(formName) {\r\n      const obj = {\r\n        add: addListApi,\r\n        edit: updateListApi\r\n      }\r\n      const Api = obj[this.pageType]\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (!this.form.detailList.length) {\r\n            this.$message({\r\n              message: '至少新增一条物料',\r\n              type: 'warning'\r\n            })\r\n            return\r\n          }\r\n          this.buttonLoading = true\r\n          Api({\r\n            ...this.form\r\n          }).then(res => {\r\n            const { code } = res\r\n            if (!code) {\r\n              this.$message({\r\n                message: `操作成功`,\r\n                type: 'success'\r\n              })\r\n              this.goBack()\r\n            }\r\n            this.buttonLoading = false\r\n          }).catch(err => {\r\n            console.log(err)\r\n            this.buttonLoading = false\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 添加物料\r\n    handleAddMaterial() {\r\n      this.materialVisible = true\r\n    },\r\n    // Tip 选中物料\r\n    onSelectedMaterial(list) {\r\n      if (!list.length) return\r\n      this.form.detailList = list.map(item => {\r\n        const { id, materialCode, materialName, materialAssessType, materialAssessType_dictText, batchNo, barcodeNumber, num, currentPosition, materialId, unitMeasureId, unitName, storageId } = item\r\n        return {\r\n          id,\r\n          materialCode, // 物料编号\r\n          materialName, // 物料名称\r\n          materialAssessType, // 评估类型字典值\r\n          materialAssessType_dictText, // 评估类型\r\n          batchNo, // 批次号\r\n          barcodeNumber, // 条码号\r\n          num, // 数量\r\n          currentPosition, // 存放位置\r\n          materialId, // 物料id\r\n          unitMeasureId, // 计量单位id\r\n          unitName, // 计量单位\r\n          storageId // 仓库id\r\n        }\r\n      })\r\n    },\r\n    // 页面下拉数据\r\n    getPullList() {\r\n      const apis = this.pullListConfig.map(c => c.api)\r\n      Promise.all(apis)\r\n        .then(result => {\r\n          if (result.length) {\r\n            result.forEach((c, i) => {\r\n              const dataKey = this.pullListConfig[i].dataKey\r\n              this[dataKey] = !c.code ? c.data : []\r\n            })\r\n          }\r\n        })\r\n        .catch(reason => {\r\n          console.log(reason)\r\n        })\r\n    },\r\n    // 删除物料\r\n    handleDelete(i) {\r\n      this.form.detailList.splice(i, 1)\r\n    },\r\n    // 获取详情\r\n    async getDetail() {\r\n      const res = await requestWrapper(detailApi({ billNumber: this.$route.query.billNumber }))\r\n      if (!res.success) return\r\n      this.form = res.data\r\n      this.extraInfo = res.data\r\n    },\r\n    handleRowClick({ row, column, cell, event }) {\r\n      console.log(row)\r\n      if (column.label === '操作') {\r\n        return false\r\n      }\r\n    },\r\n    // Tip 选择物料\r\n    onSelectConfirm(list) {\r\n      if (list.length) {\r\n        list = list.map(el => {\r\n          return {\r\n            num: el.number,\r\n            barcodeNumber: el.barCode,\r\n            ...el\r\n          }\r\n        })\r\n        this.form.detailList = list\r\n      }\r\n    },\r\n    // Tip 选择入库单\r\n    warehousingConfirm(list) {\r\n      if (list.length) {\r\n        this.form.detailList = []\r\n        this.form.stockInNumber = list[0].billNumber\r\n        this.form.stockInId = list[0].id\r\n      }\r\n    },\r\n    // Tip 回退页面\r\n    goBack() {\r\n      const tempRoute = Object.assign({}, this.$route)\r\n      this.$store.dispatch('tagsView/delView', tempRoute)\r\n      this.$refs.form.resetFields()\r\n      this.form = INIT_FORM()\r\n      const whiteList = ['add', 'edit', 'detail']\r\n      whiteList.includes(this.pageType) ? this.$router.push({ name: 'OutBoundReturnOfGoods' }) : this.$router.go(-1)\r\n    },\r\n    // Tip 审批->通过 驳回 不通过\r\n    onAudit(auditType) {\r\n      const message = {\r\n        1: '该工单即将审批通过，是否继续？',\r\n        0: '该工单即将驳回, 是否继续?',\r\n        2: '该工单即将不通过, 是否继续?'\r\n      }[auditType]\r\n      this.$refs.form.validate(async valid => {\r\n        if (!valid) return\r\n        const diag = await promiseWrapper(this.$confirm(message, '提示', {\r\n          confirmButtonText: '确 定',\r\n          cancelButtonText: '取 消',\r\n          type: 'warning',\r\n          cancelButtonClass: 'btn-custom-cancel',\r\n          lockScroll: false\r\n        }))\r\n        if (!diag.success) return\r\n        this.buttonLoading = true\r\n        const { id: businessId } = this.$route.params\r\n        const { billNumber, taskId, processInstanceId } = this.$route.query\r\n        const res = await requestWrapper(auditApi({\r\n          businessId, // 业务ID\r\n          billNumber, // 单据编号\r\n          taskId, // 任务ID\r\n          processInstanceId, // 流程实例的ID\r\n          approval: auditType, // 审批标识\r\n          message: this.form.message // 审批意见\r\n        }))\r\n        this.buttonLoading = false\r\n        if (!res.success) return\r\n        this.$message({\r\n          message: `操作成功`,\r\n          type: 'success'\r\n        })\r\n        this.goBack()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.btn-context {\r\n  text-align: right;\r\n}\r\n::v-deep .approval-opinion {\r\n    margin: 0;\r\n    width: 100%;\r\n    .el-form-item__content {\r\n        width: 100%;\r\n    }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=3ee2de00&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=3ee2de00&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ee2de00\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=61a9a88d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Material.vue?vue&type=style&index=0&id=61a9a88d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"top\":\"5vh\",\"visible\":_vm.value,\"show-close\":true,\"width\":\"920px\",\"lock-scroll\":false,\"destroy-on-close\":true,\"append-to-body\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.beforeClose},on:{\"open\":_vm.initSelect}},[_c('el-scrollbar',{staticClass:\"scroll-dialog\"},[_c('el-form',{ref:\"filterItem\",attrs:{\"model\":_vm.query,\"inline\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"billNumber\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"178px\"},attrs:{\"placeholder\":\"入库单号\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchInit($event)}},model:{value:(_vm.query.billNumber),callback:function ($$v) {_vm.$set(_vm.query, \"billNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"query.billNumber\"}})],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchInit}},[_vm._v(\"搜索\")])],1),_c('el-row',[_c('table-com',{ref:_vm.refName,attrs:{\"table-height-type\":490,\"loading\":_vm.loading,\"index\":false,\"index-fixed\":false,\"selection\":true,\"multiple\":_vm.multiple,\"selection-fixed\":false,\"table-column-sort\":false,\"table-data\":_vm.tableData,\"column-list\":_vm.columnList,\"show-operate\":false,\"operate-fixed\":false,\"table-selection\":_vm.tableSelection},on:{\"selectionChange\":_vm.selectionChange}})],1),_c('pagination',{attrs:{\"page\":_vm.pageInfo.current,\"limit\":_vm.pageInfo.size,\"total\":_vm.total},on:{\"update:page\":function($event){return _vm.$set(_vm.pageInfo, \"current\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.pageInfo, \"size\", $event)},\"pagination\":_vm.init}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDialog}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":_vm.beforeClose}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    top=\"5vh\"\r\n    :visible=\"value\"\r\n    :show-close=\"true\"\r\n    width=\"920px\"\r\n    :lock-scroll=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :append-to-body=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :before-close=\"beforeClose\"\r\n    @open=\"initSelect\"\r\n  >\r\n    <el-scrollbar class=\"scroll-dialog\">\r\n      <!-- 头部搜索 -->\r\n      <el-form ref=\"filterItem\" :model=\"query\" inline @submit.native.prevent>\r\n        <el-form-item prop=\"billNumber\">\r\n          <el-input v-model.trim=\"query.billNumber\" placeholder=\"入库单号\" class=\"filter-item\" style=\"width: 178px;\" clearable @keyup.enter.native=\"searchInit\" />\r\n        </el-form-item>\r\n        <el-button\r\n          class=\"filter-item\"\r\n          type=\"success\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"searchInit\"\r\n        >搜索</el-button>\r\n        <!-- <el-button\r\n          class=\"filter-item\"\r\n          type=\"warning\"\r\n          icon=\"el-icon-refresh-left\"\r\n          @click=\"resetForm('filterItem')\"\r\n        >重置</el-button> -->\r\n      </el-form>\r\n      <el-row>\r\n        <table-com\r\n          :ref=\"refName\"\r\n          :table-height-type=\"490\"\r\n          :loading=\"loading\"\r\n          :index=\"false\"\r\n          :index-fixed=\"false\"\r\n          :selection=\"true\"\r\n          :multiple=\"multiple\"\r\n          :selection-fixed=\"false\"\r\n          :table-column-sort=\"false\"\r\n          :table-data=\"tableData\"\r\n          :column-list=\"columnList\"\r\n          :show-operate=\"false\"\r\n          :operate-fixed=\"false\"\r\n          :table-selection=\"tableSelection\"\r\n          @selectionChange=\"selectionChange\"\r\n        />\r\n      </el-row>\r\n      <pagination :page.sync=\"pageInfo.current\" :limit.sync=\"pageInfo.size\" :total=\"total\" @pagination=\"init\" />\r\n    </el-scrollbar>\r\n    <div slot=\"footer\">\r\n      <el-button type=\"primary\" @click=\"confirmDialog\">确 定</el-button>\r\n      <el-button @click=\"beforeClose\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport paginationPage from '@/mixins/paginationPage'\r\nimport { getWarehouseWarrantApi as getListSelectApi } from '@/apis/modules/in-storage/info'\r\nimport QueryItemMixin from '@/mixins/queryItem'\r\nexport default {\r\n  name: 'MaterialSelect',\r\n  mixins: [paginationPage, QueryItemMixin],\r\n  props: {\r\n    value: {\r\n      required: true,\r\n      type: Boolean\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '入库单选择'\r\n    },\r\n    // 是否多选，如果多选，返回id的数组， 如果单选返回 {id, name}\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 默认勾选的ids\r\n    selection: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 多选状态下的最大选择数量\r\n    max: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ids: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    extraInfo: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  dicts: [],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      refName: 'modelSelectMaterialSelect',\r\n      query: {\r\n        billNumber: ''\r\n      },\r\n      tableData: [],\r\n      columnList: [\r\n        {\r\n          module: 'word',\r\n          prop: 'billNumber',\r\n          label: '单号',\r\n          align: 'center',\r\n          // width: 120,\r\n          // minWidth: 160,\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'source',\r\n          label: '来源(供应商或生产单位)',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'documentDate',\r\n          label: '日期',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        },\r\n        {\r\n          module: 'word',\r\n          prop: 'storekeeperName',\r\n          label: '库管员',\r\n          align: 'center',\r\n          minWidth: '',\r\n          fixed: false,\r\n          sortable: false,\r\n          resizable: true,\r\n          formatter: null,\r\n          headerAlign: 'center'\r\n        }\r\n\r\n      ],\r\n      columnSets: [],\r\n      tableSelection: [],\r\n      deptSelectedInfo: {\r\n        list: [],\r\n        visible: false,\r\n        radio: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    confirmDialog() {\r\n      if (!this.tableSelection.length) {\r\n        this.$message({\r\n          message: '请选择入库单',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.$emit('confirm', this.tableSelection)\r\n      this.beforeClose()\r\n    },\r\n    init() {\r\n      const params = {\r\n        ...this.query,\r\n        page: {\r\n          ...this.pageInfo\r\n        },\r\n        ...this.extraInfo\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        getListSelectApi({\r\n          ...params\r\n        }).then(res => {\r\n          const { code, data } = res\r\n          if (!code) {\r\n            const { list, ...pageInfo } = data\r\n            this.initPage(pageInfo)\r\n            this.tableData = list.map(i => {\r\n              return {\r\n                uuid: uuidv4(),\r\n                deliveryNumber: i.orderNum,\r\n                ...i\r\n              }\r\n            })\r\n            // 初始化selection\r\n            this.tableSelection = this.tableData.filter(i => this.selection.includes(i.id))\r\n          }\r\n          this.loading = false\r\n          resolve(res)\r\n        }).catch(err => {\r\n          this.loading = false\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    initSelect() {\r\n      this.init()\r\n    },\r\n    selectionChange(tableSelection) {\r\n      this.tableSelection = [...tableSelection]\r\n    },\r\n    // 更新列表复选框勾选\r\n    handleUpdateTableSelected(type = '') {\r\n\r\n    },\r\n    handleDefault() {\r\n      this.tableSelection = new Array(0)\r\n    },\r\n    beforeClose(done) {\r\n      this.$emit('input', false)\r\n      this.handleDefault()\r\n      typeof done === 'function' && done()\r\n    },\r\n    onDeptSelectConfirm(list) {\r\n      if (list.length) {\r\n        this.query.usedOffice = list[0].name\r\n      }\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchInit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-dialog {\r\n  height: 600px;\r\n}\r\n::v-deep .el-scrollbar .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n ::v-deep .el-dialog__body {\r\n  padding-top: 10px;\r\n  padding-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehousingEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WarehousingEntry.vue?vue&type=template&id=18b772d4&scoped=true&\"\nimport script from \"./WarehousingEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./WarehousingEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WarehousingEntry.vue?vue&type=style&index=0&id=18b772d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18b772d4\",\n  null\n  \n)\n\nexport default component.exports","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"sourceRoot":""}